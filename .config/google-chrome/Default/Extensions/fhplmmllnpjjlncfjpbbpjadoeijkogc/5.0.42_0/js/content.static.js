/*! UTC: 2020-05-13T10:11:53.611Z | d9d55eb | 2.10.1430 */
!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function t(){return e.default}:function t(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=468)}({379:function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}({0:function(e,t,n){"use strict";function o(){var e=document.createElement("script");e.textContent=i,document.documentElement.appendChild(e),e.parentNode.removeChild(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=n(43),i=";("+r.toString()+"(window))\nwindow.__REACT_DEVTOOLS_GLOBAL_HOOK__.nativeObjectCreate = Object.create;\nwindow.__REACT_DEVTOOLS_GLOBAL_HOOK__.nativeMap = Map;\nwindow.__REACT_DEVTOOLS_GLOBAL_HOOK__.nativeWeakMap = WeakMap;\nwindow.__REACT_DEVTOOLS_GLOBAL_HOOK__.nativeSet = Set;\n"},43:function(e,t){"use strict";function n(e){function t(e){try{var t=Function.prototype.toString;if("string"==typeof e.version){if(e.bundleType>0)return"development";var n=t.call(e.findFiberByHostInstance);return 0!==n.indexOf("function")?"production":/function[\s\w]*\(\w[,\)]/.test(n)?"production":"unminified"}if(e.Mount&&e.Mount._renderNewRootComponent){var o=t.call(e.Mount._renderNewRootComponent);return 0!==o.indexOf("function")?"production":-1!==o.indexOf("storedMeasure")?"development":-1!==o.indexOf("should be a pure function")?-1!==o.indexOf("NODE_ENV")?"development":-1!==o.indexOf("development")?"development":-1!==o.indexOf("true")?"development":/function\s*\(\w\,/.test(o)?"development":"unminified":/function\s*\(\w\,/.test(o)?-1!==o.indexOf("._registerComponent")?"outdated":"production":"unminified"}}catch(e){}return"production"}if(!e.__REACT_DEVTOOLS_GLOBAL_HOOK__){var n={_renderers:{},helpers:{},inject:function(e){var o=Math.random().toString(16).slice(2);n._renderers[o]=e;var r=t(e);return n.emit("renderer",{id:o,renderer:e,reactBuildType:r}),o},_listeners:{},sub:function(e,t){return n.on(e,t),function(){return n.off(e,t)}},on:function(e,t){n._listeners[e]||(n._listeners[e]=[]),n._listeners[e].push(t)},off:function(e,t){if(n._listeners[e]){var o=n._listeners[e].indexOf(t);-1!==o&&n._listeners[e].splice(o,1),n._listeners[e].length||(n._listeners[e]=null)}},emit:function(e,t){n._listeners[e]&&n._listeners[e].map(function(e){return e(t)})},supportsFiber:!0,_fiberRoots:{},getFiberRoots:function(e){var t=n._fiberRoots;return t[e]||(t[e]=new Set),t[e]},onCommitFiberUnmount:function(e,t){n.helpers[e]&&n.helpers[e].handleCommitFiberUnmount(t)},onCommitFiberRoot:function(e,t){var o=n.getFiberRoots(e),r=t.current,i=o.has(t),u=null==r.memoizedState||null==r.memoizedState.element;i||u?i&&u&&o.delete(t):o.add(t),n.helpers[e]&&n.helpers[e].handleCommitFiberRoot(t)}};Object.defineProperty(e,"__REACT_DEVTOOLS_GLOBAL_HOOK__",{value:n})}}e.exports=n}})})},380:function(e,t,n){"use strict";function o(e){return new Promise(function(t){window.setTimeout(t,e)})}function r(e){return{message_id:"__traffic_listener_xhr_"+e,handshake_message_id:"__traffic_listener_handShake_"+e}}function i(e,t,n){var o=r(e),i=o.message_id,u=o.handshake_message_id,s=document.createElement("script");s.textContent="("+c.a.toString()+')("'+i+'", "'+u+'", '+JSON.stringify(t)+")",Promise.resolve().then(function(){if(n)return n.then(function(e){e&&s.setAttribute("nonce",e)})}).then(function(){window.document.documentElement&&window.document.documentElement.insertBefore(s,window.document.documentElement.firstElementChild)})}function u(){return o(0).then(function(){var e=document.querySelector("link[nonce] , script[nonce]");return e?e.nonce:null})}function s(){return o(0).then(function(){var e=document.cookie.match(a);return e&&e[1]?e[1]:null})}t.b=r,t.c=i,t.d=u,t.a=s;var c=n(381),a=new RegExp("2345tatgf435632456gtnonce=([^;]+)")},381:function(e,t,n){"use strict";function o(e,t,n){function o(e){return new Promise(function(t,n){var o=new FileReader;o.onload=function(){t(o.result)},o.onerror=n,o.readAsText(e,"utf8")})}function r(e){return new Promise(function(t){window.requestIdleCallback?window.requestIdleCallback(t,{timeout:e}):window.setTimeout(t,e)})}function i(t){t&&(s?window.postMessage({type:e,payload:t},"*"):c.push(t))}var u=n.map(function(e){return new RegExp(e,"i")});if(!window._______traffic_listener_extension_injected){window._______traffic_listener_extension_injected=!0;var s=!1,c=[];window.addEventListener("message",function(n){if(n.data.type===t)for(s=!0;c.length>0;)window.postMessage({type:e,payload:c.pop()},"*")}),function a(e){var t=XMLHttpRequest,n=function(){var n=new t;return n.addEventListener("readystatechange",function(){return e(n)}),n};n.DONE=XMLHttpRequest.DONE,n.HEADERS_RECEIVED=XMLHttpRequest.HEADERS_RECEIVED,n.LOADING=XMLHttpRequest.LOADING,n.OPENED=XMLHttpRequest.OPENED,n.UNSENT=XMLHttpRequest.UNSENT,n.prototype=XMLHttpRequest,XMLHttpRequest=n}(function(e){4===e.readyState&&u.some(function(t){return t.test(e.responseURL)})&&Promise.resolve().then(function(){return r(200)}).then(function(){if("blob"===e.responseType&&e.response instanceof Blob)return o(e.response);if("arraybuffer"===e.responseType)throw new Error("wtf array buffer with allowed content type");return e.responseText}).then(function(e){if(!e)throw new Error("empty response");return{ok:!0,responseBody:e}}).catch(function(e){return{ok:!1,error:e}}).then(function(t){if(!t.ok)return void console.warn(t);i({url:e.responseURL,body:t.responseBody})})})}}t.a=o},382:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o={feed:"https://api\\.twitter.com/2/timeline/home\\.json",search:"https://api\\.twitter.com/2/search/adaptive\\.json",user_profile:"https://api\\.twitter.com/2/timeline/profile/\\d+\\.json"}},468:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(379),r=n.n(o),i=n(380),u=n(382);"www.facebook.com"===window.location.host&&(r()(),window.__globalHookInjected=!("__globalHookInjected"in window)||window.__globalHookInjected,Object(i.c)("d9d55eb",["/api/graphql"])),"www.linkedin.com"===window.location.host&&Object(i.c)("d9d55eb",["/voyager/api/feed/updates"],Object(i.a)()),"twitter.com"===window.location.host&&Object(i.c)("d9d55eb",Object.values(u.a),Object(i.d)())}});
//# sourceMappingURL=http://localhost:8080/contentDocumentStart.js.map

/*! UTC: 2020-05-13T10:11:53.611Z | d9d55eb | 2.10.1430 */
!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function e(){return t.default}:function e(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=450)}([function(t,e,n){"use strict";function r(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}e.a=r;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};Object.assign},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(0),o=n(43),i=n(117),s=n(8),a=n(81),u=n(61),c=n(79),l=function(t){function e(n,r,o){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=i.a;break;case 1:if(!n){s.destination=i.a;break}if("object"==typeof n){n instanceof e?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new f(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new f(s,n,r,o)}return s}return r.a(e,t),e.prototype[a.a]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(s.a),f=function(t){function e(e,n,r,s){var a=t.call(this)||this;a._parentSubscriber=e;var u,c=a;return Object(o.a)(n)?u=n:n&&(u=n.next,r=n.error,s=n.complete,n!==i.a&&(c=Object.create(n),Object(o.a)(c.unsubscribe)&&a.add(c.unsubscribe.bind(c)),c.unsubscribe=a.unsubscribe.bind(a))),a._context=c,a._next=u,a._error=r,a._complete=s,a}return r.a(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw t;Object(c.a)(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Object(c.a)(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},function(t,e,n){"use strict";function r(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}n.d(e,"a",function(){return c});var o=n(78),i=n(201),s=n(34),a=n(82),u=n(61),c=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=Object(i.a)(t,e,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||u.a.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),u.a.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),Object(o.a)(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=r(e))(function(e,r){var o;o=n.subscribe(function(e){try{t(e)}catch(t){r(t),o&&o.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[s.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(a.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=r(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0),o=n(1),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(o.a)},function(t,e,n){"use strict";function r(t,e,n,r,a){if(void 0===a&&(a=new o.a(t,n,r)),!a.closed)return e instanceof s.a?e.subscribe(a):Object(i.a)(e)(a)}e.a=r;var o=n(27),i=n(88),s=n(2)},function(t,e,n){var r=n(18),o=n(166).f,i=n(39),s=n(167),a=n(102),u=n(389),c=n(393);t.exports=function(t,e){var n,l,f,h,p,d=t.target,_=t.global,v=t.stat;if(n=_?r:v?r[d]||a(d,{}):(r[d]||{}).prototype)for(l in e){if(h=e[l],t.noTargetGet?(p=o(n,l),f=p&&p.value):f=n[l],!c(_?l:d+(v?".":"#")+l,t.forced)&&void 0!==f){if(typeof h==typeof f)continue;u(h,f)}(t.sham||f&&f.sham)&&i(h,"sham",!0),s(n,l,h,t)}}},function(t,e,n){"use strict";function r(t,e,n){t.addEventListener("error",function(t){e&&t.preventDefault(),n(t)}),t.addEventListener("unhandledrejection",function(t){e&&t.preventDefault(),n(t)})}function o(t,e,n){if(!n.contains(t))throw new RangeError("startFrom is not descendant of upTo");if(t.matches(e))return t;for(var r=t;r!==n&&!r.matches(e)&&null!==r.parentElement;)r=r.parentElement;return r.matches(e)?r:null}function i(t,e){var n=function(){r=R(n,e),t()},r=R(n,e);return function(){r()}}function s(){var t=new Set;return function(e){return!t.has(e)&&(t.add(e),!0)}}function a(){var t=new WeakSet;return function(e){return!t.has(e)&&(t.add(e),!0)}}function u(t){return new Promise(function(e){return setTimeout(e,t)})}function c(t){return l(t).then(function(t){if(!t)throw new Error("fetchJson - JSON empty");return JSON.parse(t)})}function l(t,e,n){return void 0===e&&(e=[]),void 0===n&&(n=1e4),new Promise(function(r,o){var i=new XMLHttpRequest;i.responseType="text",i.open("GET",t),i.timeout=n;for(var s=0,a=e;s<a.length;s++){var u=a[s],c=u[0],l=u[1];i.setRequestHeader(c,l)}i.addEventListener("load",function(){200!==i.status?o(new N("status: "+i.status+"-"+i.statusText+"|req url:"+t,i.status,i.statusText,t,i.responseURL)):r(i.responseText)}),i.addEventListener("error",function e(n){o(new D("xhr.error","error",t,n.type,i.responseURL))}),i.addEventListener("abort",function e(n){o(new D("xhr.abort","error",t,n.type,i.responseURL))}),i.addEventListener("timeout",function e(n){o(new D("xhr.timeout","error",t,n.type,i.responseURL))}),i.send()})}function f(t){var e=document.createElement("html");return t=t.replace(/\<\!\-\-/g,""),e.innerHTML=t,e}function h(t){for(var e=t.querySelectorAll("img"),n=0;n<e.length;n++)e[n].removeAttribute("src");return!0}function p(t,e){return void 0===e&&(e={timeout:50}),"requestIdleCallback"in window?window.requestIdleCallback(t,e):setTimeout(function(){t({didTimeout:!0,timeRemaining:function(){return 0}})},e.timeout)}function d(t){return void 0===t&&(t={timeout:50}),new Promise(function(e,n){p(e,t)})}function _(t,e,n){if(t.stacktrace)for(var r=t.stacktrace.frames,o=0,i=r;o<i.length;o++){var s=i[o];s.filename=s.filename.replace(n,e)}}function v(t,e,n){t.setDataCallback(function(t){if(t.stacktrace)_(t,e,n);else if(t.exception)for(var r=t.exception.values,o=0,i=r;o<i.length;o++){var s=i[o];_(s,e,n)}})}function b(t,e,n){t.setDataCallback(function(t){if(t.stacktrace)_(t,e,n);else if(t.exception)for(var r=t.exception.values,o=0,i=r;o<i.length;o++){var s=i[o];_(s,e,n)}if(t.request){if(t.request.url){var a=new URL(t.request.url);a.pathname="",a.search="",a.hash="",t.request.url=a.toString()}t.request.headers&&delete t.request.headers.Referer}})}function y(){return navigator.userAgent.toLowerCase().search("firefox")>-1}function m(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(F,"\\$&")}function g(t,e){try{return t()}catch(t){return e}}function w(t){return null!==t&&void 0!==t}function S(t){return Object.entries(t)}function x(t){return Array.from(t).reduce(function(t,e){var n=e[0],r=e[1];return t[n]=r,t},{})}function O(t,e){if(e)return t;throw new Error("Unhandled discriminated union member: "+JSON.stringify(t))}function k(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return x(S(t).filter(function(t){var n=t[0];t[1];return!e.includes(n)}))}e.g=r,e.i=o,n.d(e,"B",function(){return R}),e.A=i,e.t=s,e.u=a,e.C=u,e.l=c,n.d(e,"c",function(){return N}),n.d(e,"d",function(){return D}),e.m=l,e.j=f,e.y=h,e.z=d,e.a=v,e.b=b,e.h=y,e.k=m,e.q=g,e.s=w,e.D=S,e.v=x,e.f=O,e.w=k;var E=n(184);n.d(e,"e",function(){return E.a});var j=n(115);n.d(e,"n",function(){return j.a});var I=n(185);n.d(e,"r",function(){return I.a});var T=n(186);n.d(e,"o",function(){return T.a});var C=n(187);n.d(e,"E",function(){return C.a});var A=n(188);n.d(e,"p",function(){return A.a});var P=n(189);n.d(e,"x",function(){return P.a});var L=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),M=setTimeout;"undefined"!=typeof window&&window.setTimeout.nativeBackup&&(M=window.setTimeout.nativeBackup.bind(window));var q=clearTimeout;"undefined"!=typeof window&&window.clearTimeout.nativeBackup&&(q=window.clearTimeout.nativeBackup.bind(window));var R=function(t,e){var n=Math.pow(2,31)-1,r=e%n,o=Math.floor(e/n),i=0,s=null,a=function(){i===o?t():(i++,s=M(a,n))};return 0===r&&0!==e?a():s=M(a,r),function(){null!==s&&q(s)}},N=function(t){function e(n,r,o,i,s){var a=t.call(this,n)||this;return a.httpCode=r,a.shortMessage=o,a.requestUrl=i,a.responseUrl=s,a.name="HTTPError",Object.setPrototypeOf(a,e.prototype),a}return L(e,t),e}(Error),D=function(t){function e(n,r,o,i,s){var a=t.call(this,n)||this;return a.shortMessage=r,a.requestUrl=o,a.type=i,a.responseURL=s,a.name="HTTPIOError",Object.setPrototypeOf(a,e.prototype),a}return L(e,t),e}(Error),F=/[|\\{}()[\]^$+*?.]/g},function(t,e,n){"use strict";var r=n(2);n.d(e,"c",function(){return r.a});var o=(n(119),n(121),n(34),n(9));n.d(e,"d",function(){return o.a});var i=n(122);n.d(e,"a",function(){return i.a});var s=(n(84),n(66),n(127),n(12));n.d(e,"e",function(){return s.a});var a=(n(123),n(208),n(211),n(124),n(8),n(1),n(64),n(82),n(62),n(35),n(212),n(47),n(48),n(63),n(118),n(128),n(213));n.d(e,"f",function(){return a.a});var u=(n(214),n(87),n(67),n(90));n.d(e,"g",function(){return u.a});var c=n(20),l=(n(223),n(22));n.d(e,"h",function(){return l.a});var f=n(224);n.d(e,"i",function(){return f.a});var h=n(225);n.d(e,"j",function(){return h.a});var p=(n(226),n(227));n.d(e,"k",function(){return p.a});var d=(n(228),n(133));n.d(e,"l",function(){return d.a});var _=(n(134),n(65));n.d(e,"m",function(){return _.a});var v=(n(229),n(230),n(231),n(136),n(232),n(86));n.d(e,"n",function(){return v.a});var b=n(137);n.d(e,"o",function(){return b.a});n(233),n(91),n(132);n.d(e,"b",function(){return c.a});n(61)},function(t,e,n){"use strict";function r(t){return t.reduce(function(t,e){return t.concat(e instanceof a.a?e.errors:e)},[])}n.d(e,"a",function(){return u});var o=n(11),i=n(80),s=n(43),a=n(118),u=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this,u=n._parentOrParents,c=n._unsubscribe,l=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,u instanceof t)u.remove(this);else if(null!==u)for(var f=0;f<u.length;++f){var h=u[f];h.remove(this)}if(Object(s.a)(c))try{c.call(this)}catch(t){e=t instanceof a.a?r(t.errors):[t]}if(Object(o.a)(l))for(var f=-1,p=l.length;++f<p;){var d=l[f];if(Object(i.a)(d))try{d.unsubscribe()}catch(t){e=e||[],t instanceof a.a?e=e.concat(r(t.errors)):e.push(t)}}if(e)throw new a.a(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;n=new t,n._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof t){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}()},function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return f});var r=n(0),o=n(2),i=n(1),s=n(8),a=n(63),u=n(120),c=n(81),l=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.a(e,t),e}(i.a),f=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.a(e,t),e.prototype[c.a]=function(){return new l(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new u.a(this,t))},e.prototype.asObservable=function(){var t=new o.a;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(o.a),h=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.a(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.a.EMPTY},e}(f)},function(t,e,n){var r=n(38),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(44),o=n(45),i=new o.a(r.a)},function(t,e,n){var r=n(18),o=n(163),i=n(25),s=n(164),a=n(172),u=n(396),c=o("wks"),l=r.Symbol,f=u?l:l&&l.withoutSetter||s;t.exports=function(t){return i(c,t)||(a&&i(l,t)?c[t]=l[t]:c[t]=f("Symbol."+t)),c[t]}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(100);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";function r(t,e){return function n(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new s(t,e))}}e.a=r;var o=n(0),i=n(1),s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}(),a=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return o.a(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.a)},function(t,e,n){"use strict";function r(t){return"[object Array]"===O.call(t)}function o(t){return"[object ArrayBuffer]"===O.call(t)}function i(t){return"undefined"!=typeof FormData&&t instanceof FormData}function s(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function a(t){return"string"==typeof t}function u(t){return"number"==typeof t}function c(t){return void 0===t}function l(t){return null!==t&&"object"==typeof t}function f(t){return"[object Date]"===O.call(t)}function h(t){return"[object File]"===O.call(t)}function p(t){return"[object Blob]"===O.call(t)}function d(t){return"[object Function]"===O.call(t)}function _(t){return l(t)&&d(t.pipe)}function v(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function b(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function y(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function m(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),r(t))for(var n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function g(){function t(t,n){"object"==typeof e[n]&&"object"==typeof t?e[n]=g(e[n],t):e[n]=t}for(var e={},n=0,r=arguments.length;n<r;n++)m(arguments[n],t);return e}function w(t,e,n){return m(e,function e(r,o){t[o]=n&&"function"==typeof r?S(r,n):r}),t}var S=n(149),x=n(341),O=Object.prototype.toString;t.exports={isArray:r,isArrayBuffer:o,isBuffer:x,isFormData:i,isArrayBufferView:s,isString:a,isNumber:u,isObject:l,isUndefined:c,isDate:f,isFile:h,isBlob:p,isFunction:d,isStream:_,isURLSearchParams:v,isStandardBrowserEnv:y,forEach:m,merge:g,extend:w,trim:b}},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(e,n(53))},function(t,e,n){"use strict";var r=(n(138),n(234),n(235));n.d(e,"a",function(){return r.a});var o=n(236);n.d(e,"b",function(){return o.a});var i=n(237);n.d(e,"c",function(){return i.a});var s=(n(238),n(239),n(240));n.d(e,"d",function(){return s.a});var a=(n(241),n(242),n(243),n(131));n.d(e,"e",function(){return a.a});var u=n(139);n.d(e,"f",function(){return u.a});var c=(n(244),n(245),n(246),n(247));n.d(e,"g",function(){return c.a});var l=(n(51),n(248),n(249),n(250),n(251),n(141));n.d(e,"h",function(){return l.a});var f=(n(252),n(253),n(254),n(255),n(256),n(257),n(258));n.d(e,"i",function(){return f.a});var h=n(36);n.d(e,"j",function(){return h.a});var p=(n(259),n(142),n(260),n(261),n(121),n(262),n(263),n(264),n(16));n.d(e,"k",function(){return p.a});var d=n(265);n.d(e,"l",function(){return d.a});var _=(n(266),n(267),n(268),n(89));n.d(e,"m",function(){return _.a});var v=n(50);n.d(e,"n",function(){return v.a});var b=(n(269),n(270),n(271),n(37),n(125),n(272),n(273));n.d(e,"o",function(){return b.a});var y=(n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(70),n(281),n(282),n(283),n(284));n.d(e,"p",function(){return y.a});var m=(n(83),n(285),n(286),n(94));n.d(e,"q",function(){return m.a});var g=(n(287),n(288),n(289));n.d(e,"r",function(){return g.a});var w=(n(290),n(291),n(292),n(293),n(294),n(295));n.d(e,"s",function(){return w.a});var S=(n(296),n(298),n(95));n.d(e,"t",function(){return S.a});var x=n(299);n.d(e,"u",function(){return x.a});var O=n(92);n.d(e,"v",function(){return O.a});var k=(n(93),n(300),n(301),n(302));n.d(e,"w",function(){return k.a});var E=(n(143),n(303),n(69),n(304),n(305),n(144));n.d(e,"x",function(){return E.a});n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315)},function(t,e,n){"use strict";function r(t){return t?o(t):s}function o(t){return new i.a(function(e){return t.schedule(function(){return e.complete()})})}n.d(e,"a",function(){return s}),e.b=r;var i=n(2),s=new i.a(function(t){return t.complete()})},function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}e.a=r},function(t,e,n){"use strict";function r(t,e){return e?Object(s.a)(t,e):t instanceof o.a?t:new o.a(Object(i.a)(t))}e.a=r;var o=n(2),i=n(88),s=n(132)},function(t,e,n){var r=n(13),o=n(173),i=n(24),s=r("unscopables"),a=Array.prototype;void 0==a[s]&&i.f(a,s,{configurable:!0,value:o(null)}),t.exports=function(t){a[s][t]=!0}},function(t,e,n){var r=n(28),o=n(161),i=n(40),s=n(103),a=Object.defineProperty;e.f=r?a:function t(e,n,r){if(i(e),n=s(n,!0),i(r),o)try{return a(e,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[n]=r.value),e}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";var r=n(14);t.exports=function(t,e){var n=[][t];return!n||!r(function(){n.call(null,e||function(){throw 1},1)})}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0),o=n(1),i=function(t){function e(e,n,r){var o=t.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=r,o.index=0,o}return r.a(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(o.a)},function(t,e,n){var r=n(14);t.exports=!r(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";var r=n(180);n.d(e,"i",function(){return r.a});var o=n(192);n.d(e,"a",function(){return o.a}),n.d(e,"b",function(){return o.b}),n.d(e,"c",function(){return o.c}),n.d(e,"d",function(){return o.d}),n.d(e,"e",function(){return o.e}),n.d(e,"f",function(){return o.f}),n.d(e,"g",function(){return o.g}),n.d(e,"h",function(){return o.h}),n.d(e,"j",function(){return o.i}),n.d(e,"k",function(){return o.j}),n.d(e,"l",function(){return o.k}),n.d(e,"m",function(){return o.l}),n.d(e,"n",function(){return o.m}),n.d(e,"o",function(){return o.n}),n.d(e,"p",function(){return o.o}),n.d(e,"q",function(){return o.p}),n.d(e,"r",function(){return o.q}),n.d(e,"s",function(){return o.r}),n.d(e,"t",function(){return o.s})},function(t,e,n){var r=n(72),o=n(100);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(107);t.exports=Array.isArray||function t(e){return"Array"==r(e)}},function(t,e,n){var r=n(110),o=n(72),i=n(15),s=n(10),a=n(57),u=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,l=4==t,f=6==t,h=5==t||f;return function(p,d,_,v){for(var b,y,m=i(p),g=o(m),w=r(d,_,3),S=s(g.length),x=0,O=v||a,k=e?O(p,S):n?O(p,0):void 0;S>x;x++)if((h||x in g)&&(b=g[x],y=w(b,x,m),t))if(e)k[x]=y;else if(y)switch(t){case 3:return!0;case 5:return b;case 6:return x;case 2:u.call(k,b)}else if(l)return!1;return f?-1:c||l?l:k}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},function(t,e,n){"use strict";function r(t){return t}e.a=r},function(t,e,n){"use strict";function r(t,e){return function n(r){return r.lift(new s(t,e))}}e.a=r;var o=n(0),i=n(1),s=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return o.a(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(i.a)},function(t,e,n){"use strict";function r(t,e){return function n(r){var s;if(s="function"==typeof t?t:function e(){return t},"function"==typeof e)return r.lift(new i(s,e));var a=Object.create(r,o.a);return a.source=r,a.subjectFactory=s,a}}e.a=r;var o=n(119),i=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),o=n(r).subscribe(t);return o.add(e.subscribe(r)),o},t}()},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(28),o=n(24),i=n(71);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(29);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){var r=function(){t.removeEventListener("DOMContentLoaded",r),e()};"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?e():t.addEventListener("DOMContentLoaded",r)})}function o(t,e){var n=t.createElement("style");n.innerHTML=e,t.body.appendChild(n)}function i(t,e,n){return Promise.resolve().then(function(){var r=[],o=k(k({},t.parseRegularStory(e,r)),{fb_user_id:n});if(null===o.fb_post_entity_id)throw new Error("fb_post_entity_id is null");return{diag:r,dataToSend:o}})}function s(t,e,n,r,o){if(null!==e.querySelector(".fbInternPreview"))throw new Error(".fbInternPreview");var i=[],s=t.parseSponsoredFeedStory(e,i);if(null===s.fb_post_entity_id)throw new Error("fb_post_entity_id is null");var a=window.getComputedStyle(e),u=null!==a.width?parseInt(a.width.replace("px",""),10):null,c=null!==a.height?parseInt(a.height.replace("px",""),10):null;null===u||isFinite(u)||(u=null),null===c||isFinite(c)||(c=null);var l=k(k({},s),{fb_post_width:u,fb_post_height:c,fb_user_id:n}),f=l.fb_post_entity_id;if(null===f)throw new RangeError("Unexpected branch");return Promise.resolve().then(function(){return o(f)}).then(function(e){return null!==e&&(l=v(e,l,t,r)),{diag:i,dataToSend:l}})}function a(t,e,n,r,o,a){return E(this,void 0,void 0,function(){var c,l,f,h,p,d;return j(this,function(_){switch(_.label){case 0:return[4,Object(g.z)({timeout:50})];case 1:_.sent(),c=!1,l=5,_.label=2;case 2:return f=l>0,f?[4,u(t,e)]:[3,4];case 3:f=!(c=_.sent()),_.label=4;case 4:return f?[4,Object(g.C)(1e3)]:[3,7];case 5:_.sent(),_.label=6;case 6:return l--,[3,2];case 7:return c||a.warn("Story isn't loaded!",t),h=e.isStorySponsored(t),p=m.m.tryExtractStoryEntityId(t),h||!p?[3,10]:[4,n];case 8:return[4,_.sent()(p)];case 9:d=_.sent(),d&&d.isSponsored&&(a.error("This story is sponsored, but DOM detection thought it wasnt.... try again",t),h=!0),_.label=10;case 10:return h?[2,s(e,t,r,o,n).then(function(t){return k(k({},t),{wasLoaded:c,isSponsered:!0})})]:[2,i(e,t,r).then(function(t){var e=(t.diag,I(t,["diag"]));return k(k({},e),{isSponsered:!1})})]}})})}function u(t,e){return E(this,void 0,void 0,function(){var n,r;return j(this,function(o){switch(o.label){case 0:if(n=5,e.isStoryLoaded(t))return[2,!0];r=0,o.label=1;case 1:return r<n?[4,c(t,500)]:[3,4];case 2:if(o.sent(),e.isStoryLoaded(t))return[2,!0];o.label=3;case 3:return r++,[3,1];case 4:return[2,!1]}})})}function c(t,e){return E(this,void 0,void 0,function(){var n;return j(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,new Promise(function(n,r){var o=new MutationObserver(function(t){o.disconnect(),i(),n()}),i=Object(g.B)(function(){o.disconnect(),r()},e);o.observe(t,{attributes:!1,childList:!0,characterData:!1,subtree:!1})})];case 1:return r.sent(),[2,!0];case 2:return n=r.sent(),[2,!1];case 3:return[2]}})})}function l(t,e,n){return void 0===n&&(n=!0),new S.c(function(r){if(n)for(var o=0,i=Array.from(t.querySelectorAll(e));o<i.length;o++){var s=i[o];if(!(s instanceof HTMLElement))return;r.next(s)}var a=new MutationObserver(function(t){for(var n=0,o=t;n<o.length;n++)for(var i=o[n],s=0,a=Array.from(i.addedNodes);s<a.length;s++){var u=a[s];if(!(u instanceof HTMLElement))return;u.matches(e)&&r.next(u);for(var c=0,l=Array.from(u.querySelectorAll(e));c<l.length;c++){var f=l[c];if(!(f instanceof HTMLElement))return;r.next(f)}}});return a.observe(t,{attributes:!1,childList:!0,characterData:!1,subtree:!0}),function(){a.disconnect()}}).pipe(Object(x.j)(Object(g.u)()))}function f(t){if("new"===Object(m.n)(t.documentElement)){var e=Object(m.p)(t.documentElement).id;if(!e)throw new Error("Failed to parse user id for new Facebook UI");return e}var n=t.querySelector("img[id*='profile_pic_header']");if(null!==n){if(!(n instanceof HTMLImageElement))throw new RangeError("profile image selector has no results");var r=(n.getAttribute("id")||"").match("profile_pic_header_([0-9]*)");if(null===r||2!==r.length)throw new RangeError("failed to parse profile image id: "+n.getAttribute("id"));return r[1]}throw new Error("Failed to parse user id for old Facebook UI")}function h(t,e,n){var r=!1;return l(t.body,n,!0).pipe(Object(x.j)(function(t){return"hidden"!==getComputedStyle(t).visibility&&r!==t}),Object(x.f)(function(t){return t&&r?Object(S.m)(!1,t):Object(S.m)(t)}),Object(x.w)(function(t){r=t}))}function p(t,e){return h(t,e,"div#stream_pagelet")}function d(t){return l(t.body,"#stream-items-id",!0)}function _(t,e){if(!t)return T;var n=t.edges.reduce(function(t,n){var r=null!=n.reaction_count?n.reaction_count:e(n.i18n_reaction_count);return t[n.node.reaction_type]=r,t},{});return k(k({},T),n)}function v(t,e,n,r){var o=_(t.reactions,function(t){return n.parseStringedNumber(t,r)});return k(k({},e),{fb_post_engage_like:o.LIKE,fb_post_engage_love:o.LOVE,fb_post_engage_wow:o.WOW,fb_post_engage_angry:o.ANGER,fb_post_engage_haha:o.HAHA,fb_post_engage_sad:o.SORRY,fb_post_engage_comments:t.commentsReduced?t.commentsReduced:null,fb_post_engage_shares:t.shareCount,fb_post_video_views:t.viewCount&&Number.isFinite(t.viewCount)?t.viewCount:null,fb_post_this_video_views:t.postViewCount&&Number.isFinite(t.postViewCount)?t.postViewCount:null,fb_post_width:t.width})}function b(t,e,n,r){var o=t.createElement("pre");o.textContent=r;var i=t.createElement("span");i.textContent="π";var s=t.createElement("span");s.classList.add("tooltiptext"),s.appendChild(o);var a=t.createElement("div");a.classList.add("tooltip"),a.appendChild(i),a.appendChild(s),e.appendChild(a),e.style.boxShadow="0px 0px 10px "+(n?"red":"green")}function y(t){if("new"===Object(m.n)(t.documentElement)){var e=Object(m.p)(t.documentElement).locale;if(!e)throw new Error("failed get locale for new UI");return e}var n=Array.from(t.body.classList).find(function(t){return t.startsWith("Locale")});if(null==n){var r=t.body.innerHTML.match(/"locale":"(\w+)"/);if(r&&r[1])return r[1]}var o=null;if("string"==typeof n&&(o=n.replace("Locale_","")),null===o)throw new Error("failed get local");return o}e.f=r,e.b=o,e.j=a,e.k=l,e.d=f,e.c=p,e.e=d,e.h=b,e.g=y,n.d(e,"a",function(){return C});var m=n(30),g=n(6),w=n(42),S=n(7),x=n(19),O=n(316);n.d(e,"i",function(){return O.a});var k=this&&this.__assign||function(){return k=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},k.apply(this,arguments)},E=this&&this.__awaiter||function(t,e,n,r){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?n(t.value):o(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())})},j=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},I=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},T=w.e.reduce(function(t,e){return t[e]=null,t},{}),C=function(){function t(t){this.chromeRuntimeId=t,this.selectorMap=new Map([["ape_Detail_ams-detail-right-v2_Desktop_iframe","AMS"],["ape_Detail_hero-quick-promo_Desktop_iframe","Hero"]])}return t.prototype.GetFrameType=function(t){return this.selectorMap.has(t)?this.selectorMap.get(t):null},t.prototype.GetFrameSelectors=function(){return Array.from(this.selectorMap.keys())},t.prototype.CreateMessageId=function(t){return g.e.salted_hash(t+"_"+this.chromeRuntimeId,w.b)},t}()},function(t,e,n){"use strict";n.d(e,"e",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return a}),n.d(e,"b",function(){return u});var r=n(200);n.d(e,"d",function(){return r.a});var o,i=["LIKE","LOVE","HAHA","WOW","ANGER","SORRY"];!function(t){t[t.pageview=0]="pageview",t[t.screenview=1]="screenview",t[t.event=2]="event",t[t.transaction=3]="transaction",t[t.item=4]="item",t[t.social=5]="social",t[t.exception=6]="exception",t[t.timing=7]="timing"}(o||(o={}));var s;!function(t){t[t.Headline=0]="Headline",t[t.Banner=1]="Banner",t[t.Product=2]="Product"}(s||(s={}));var a="(*&Y(UHsx#4",u="1q2w3e4r"},function(t,e,n){"use strict";function r(t){return"function"==typeof t}e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0),o=n(203),i=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return r.a(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0),o=n(124),i=function(t){function e(n,r){void 0===r&&(r=o.a.now);var i=t.call(this,n,function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return r.a(e,t),e.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,o):t.prototype.schedule.call(this,n,r,o)},e.prototype.flush=function(t){var e=this.actions;if(this.active)return void e.push(t);var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}},e}(o.a)},function(t,e,n){"use strict";function r(t,e){return e?Object(s.a)(t,e):new o.a(Object(i.a)(t))}e.a=r;var o=n(2),i=n(126),s=n(85)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),o=r},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),o=r},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},function(t,e,n){"use strict";function r(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(o){return o.pipe(r(function(n,r){return Object(c.a)(t(n,r)).pipe(Object(u.a)(function(t,o){return e(n,t,r,o)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new l(t,n))})}e.a=r;var o=n(0),i=n(4),s=n(3),a=n(27),u=n(16),c=n(22),l=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.project,this.concurrent))},t}(),f=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=t.call(this,e)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return o.a(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new a.a(this,void 0,void 0);this.destination.add(r),Object(i.a)(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(s.a)},function(t,e,n){"use strict";function r(t){return void 0===t&&(t=null),function(e){return e.lift(new s(t))}}e.a=r;var o=n(0),i=n(1),s=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.defaultValue))},t}(),a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return o.a(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(i.a)},function(t,e,n){"use strict";function r(t,e){return("logged-out"===t?"The user is probably not logged in to facebook":"failed getting facebook user id")+" (source: "+e+")"}n.d(e,"a",function(){return i});var o=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=function(t){function e(n,o){var i=t.call(this,r(n,o))||this;return i.reason=n,i.source=o,Object.setPrototypeOf(i,e.prototype),i}return o(e,t),e}(Error)},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(38),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e){t.exports={}},function(t,e,n){"use strict";var r=n(103),o=n(24),i=n(71);t.exports=function(t,e,n){var s=r(e);s in t?o.f(t,s,i(0,n)):t[s]=n}},function(t,e,n){var r=n(29),o=n(32),i=n(13),s=i("species");t.exports=function(t,e){var n;return o(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[s])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(14),o=n(13),i=n(175),s=o("species");t.exports=function(t){return i>=51||!r(function(){var e=[],n=e.constructor={};return n[s]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},function(t,e,n){"use strict";var r=(n(145),n(317));n.d(e,"j",function(){return r.a});var o=n(318);n.d(e,"b",function(){return o.a});var i=n(146);n.d(e,"c",function(){return i.a});var s=n(327);n.d(e,"d",function(){return s.a});var a=n(328);n.d(e,"e",function(){return a.a});var u=n(329);n.d(e,"f",function(){return u.a});var c=n(330);n.d(e,"g",function(){return c.a});var l=n(331);n.d(e,"h",function(){return l.a});var f=(n(332),n(333));n.d(e,"a",function(){return f.a}),n.d(e,"i",function(){return f.b});n(334),n(336)},function(t,e,n){"use strict";function r(t){return t.startsWith("https://l.facebook.com/")||t.startsWith("http://l.facebook.com/")||t.startsWith("https://lm.facebook.com/")||t.startsWith("http://lm.facebook.com/")}function o(t){if(!r(t))return t;var e=i.parse(i.extract(t)).u;return"string"==typeof e&&e.startsWith("http")?e:t}e.a=o;var i=n(113);n.n(i)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){(new Error).stack}r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},function(t,e,n){"use strict";function r(){}e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),o=r},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r,o=n(20),i=n(65),s=n(86);r||(r={});var a=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(o.b)()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Object(o.a)(n)?(t.pop(),Object(s.a)(t,n)):Object(i.a)(t)}e.a=r;var o=n(21),i=n(46),s=n(85)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(0),o=n(9),i=n(8),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return r.a(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),i.a.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),i.a.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(o.a)},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(i.a)()(o.a.apply(void 0,t))}e.a=r;var o=n(65),i=n(131)},function(t,e,n){"use strict";function r(t){return!Object(o.a)(t)&&t-parseFloat(t)+1>=0}e.a=r;var o=n(11)},function(t,e,n){"use strict";function r(t){return void 0===t&&(t=o),function(e){return e.lift(new u(t))}}function o(){return new s.a}e.a=r;var i=n(0),s=n(48),a=n(1),u=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.errorFactory))},t}(),c=function(t){function e(e,n){var r=t.call(this,e)||this;return r.errorFactory=n,r.hasValue=!1,r}return i.a(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(a.a)},function(t,e,n){"use strict";function r(t,e){return arguments.length>=2?function n(r){return Object(a.a)(Object(o.a)(t,e),Object(i.a)(1),Object(s.a)(e))(r)}:function e(n){return Object(a.a)(Object(o.a)(function(e,n,r){return t(e,n,r+1)}),Object(i.a)(1))(n)}}e.a=r;var o=n(94),i=n(93),s=n(51),a=n(82)},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(14),o=n(107),i="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(168),o=n(18),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){"use strict";var r=n(114);n.d(e,"j",function(){return r.a});var o=n(116);n.d(e,"i",function(){return o.a});var i=n(76);n.d(e,"a",function(){return i.a}),n.d(e,"b",function(){return i.b}),n.d(e,"c",function(){return i.c}),n.d(e,"d",function(){return i.d}),n.d(e,"e",function(){return i.e}),n.d(e,"f",function(){return i.f}),n.d(e,"g",function(){return i.g}),n.d(e,"h",function(){return i.h})},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"d",function(){return o}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"a",function(){return c}),n.d(e,"c",function(){return l}),n.d(e,"i",function(){return f});var r="div[data-testid=fbfeed_story][id^='hyperfeed_story_id']",o="form.commentable_item",i="input[name=ft_ent_identifier]",s="[data-testid='fb-ufi-likelink']",a="[data-testid='ufi_share_link_loaded']",u="[data-reaction]",c='a[data-hovercard]:not([href="#"])',l=".PageLikeButton",f="ArticleCacheKey"},function(t,e,n){"use strict";function r(t){return"label"in t&&"CometNewsFeed_viewer$stream$CometNewsFeed_viewer_news_feed"===t.label}function o(t){return"viewer"in t.data&&t.data.viewer.news_feed&&Array.isArray(t.data.viewer.news_feed.edges)}function i(t){return"SPONSORED"===t.category}function s(t){return"ORGANIC"===t.category}function a(t){var e=t;return Object(c.q)(function(){return!!e.data.feedback_react.feedback.viewer_feedback_reaction_info},!1)}function u(t){return function(e){if(!e||"object"!=typeof e)return!1;var n=e;return"__typename"in n&&n.__typename===t}}e.a=r,e.g=o,e.i=i,e.h=s,e.e=a,n.d(e,"p",function(){return l}),n.d(e,"m",function(){return f}),n.d(e,"k",function(){return h}),n.d(e,"o",function(){return p}),n.d(e,"l",function(){return d}),n.d(e,"n",function(){return _}),n.d(e,"j",function(){return v}),n.d(e,"d",function(){return b}),n.d(e,"q",function(){return y}),n.d(e,"f",function(){return m}),n.d(e,"b",function(){return g}),n.d(e,"c",function(){return w});var c=n(6),l=u("StoryAttachmentVideoStyleRenderer"),f=u("StoryAttachmentMultiShareStyleRenderer"),h=u("StoryAttachmentEventStyleRenderer"),p=u("StoryAttachmentShareStyleRenderer"),d=u("StoryAttachmentLeadGenLinkRenderer"),_=u("StoryAttachmentPhotoStyleRenderer"),v=u("StoryAttachmentAlbumStyleRenderer"),b=u("ExternalUrl"),y=u("Video"),m=u("GenericAttachmentMedia"),g=u("CometStoryAttachmentFooterGenericShareStrategy"),w=u("CometStoryAttachmentFooterGenericVideoStrategy")},function(t,e,n){"use strict";function r(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof o.a?r:null}return!0}e.a=r;var o=n(1)},function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t},0)}e.a=r},function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}function o(t){return t?1===t.length?t[0]:function e(n){return t.reduce(function(t,e){return e(t)},n)}:i.a}e.a=r,e.b=o;var i=n(62)},function(t,e,n){"use strict";function r(){return function t(e){return e.lift(new s(e))}}e.a=r;var o=n(0),i=n(1),s=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new a(t,n),o=e.subscribe(r);return r.closed||(r.connection=n.connect()),o},t}(),a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return o.a(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(!t)return void(this.connection=null);this.connectable=null;var e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(0),o=n(9),i=n(123),s=n(8),a=n(125),u=n(63),c=n(120),l=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var o=t.call(this)||this;return o.scheduler=r,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=e<1?1:e,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return r.a(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new f(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=r.length;if(this.closed)throw new u.a;if(this.isStopped||this.hasError?e=s.a.EMPTY:(this.observers.push(t),e=new c.a(this,t)),o&&t.add(t=new a.a(t,o)),n)for(var l=0;l<i&&!t.closed;l++)t.next(r[l]);else for(var l=0;l<i&&!t.closed;l++)t.next(r[l].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||i.a).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(t-r[i].time<n);)i++;return o>e&&(i=Math.max(i,o-e)),i>0&&r.splice(0,i),r},e}(o.a),f=function(){function t(t,e){this.time=t,this.value=e}return t}()},function(t,e,n){"use strict";function r(t,e){return new o.a(function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){if(o===t.length)return void n.complete();n.next(t[o++]),n.closed||r.add(this.schedule())})),r})}e.a=r;var o=n(2),i=n(8)},function(t,e,n){"use strict";function r(t,e){return e?new i.a(function(n){return e.schedule(o,0,{error:t,subscriber:n})}):new i.a(function(e){return e.error(t)})}function o(t){var e=t.error;t.subscriber.error(e)}e.a=r;var i=n(2)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(0),o=(n(21),n(11),n(3)),i=n(4),s=(n(46),{}),a=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.resultSelector))},t}(),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.a(e,t),e.prototype._next=function(t){this.values.push(s),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(i.a)(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){var i=this.values,a=i[n],u=this.toRespond?a===s?--this.toRespond:this.toRespond:0;i[n]=e,0===u&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(126),o=n(215),i=n(216),s=n(217),a=n(129),u=n(130),c=n(80),l=n(49),f=n(34),h=function(t){if(t&&"function"==typeof t[f.a])return Object(s.a)(t);if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return Object(o.a)(t);if(t&&"function"==typeof t[l.a])return Object(i.a)(t);var e=Object(c.a)(t)?"an invalid object":"'"+t+"'",n="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(n)}},function(t,e,n){"use strict";function r(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(o.a)(i.a,t)}e.a=r;var o=n(50),i=n(35)},function(t,e,n){"use strict";function r(t){return new o.a(function(e){var n;try{n=t()}catch(t){return void e.error(t)}return(n?Object(i.a)(n):Object(s.b)()).subscribe(e)})}e.a=r;var o=n(2),i=n(22),s=n(20)},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),Object(i.a)(t,void 0).lift(new f(n))}e.b=r,n.d(e,"a",function(){return f});var o=n(0),i=n(46),s=n(11),a=n(1),u=n(3),c=n(4),l=n(49),f=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.resultSelector))},t}(),h=function(t){function e(e,n,r){void 0===r&&(r=Object.create(null));var o=t.call(this,e)||this;return o.iterators=[],o.active=0,o.resultSelector="function"==typeof n?n:null,o.values=r,o}return o.a(e,t),e.prototype._next=function(t){var e=this.iterators;Object(s.a)(t)?e.push(new d(t)):"function"==typeof t[l.a]?e.push(new p(t[l.a]())):e.push(new _(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0===e)return void this.destination.complete();this.active=e;for(var n=0;n<e;n++){var r=t[n];if(r.stillUnsubscribed){this.destination.add(r.subscribe(r,n))}else this.active--}},e.prototype.notifyInactive=function(){0===--this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){var o=t[r];if("function"==typeof o.hasValue&&!o.hasValue())return}for(var i=!1,s=[],r=0;r<e;r++){var o=t[r],a=o.next();if(o.hasCompleted()&&(i=!0),a.done)return void n.complete();s.push(a.value)}this.resultSelector?this._tryresultSelector(s):n.next(s),i&&n.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(a.a),p=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),d=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[l.a]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),_=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.parent=n,o.observable=r,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return o.a(e,t),e.prototype[l.a]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,o){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return Object(c.a)(this,this.observable,this,e)},e}(u.a)},function(t,e,n){"use strict";function r(t){return function(e){return 0===t?Object(a.b)():e.lift(new u(t))}}e.a=r;var o=n(0),i=n(1),s=n(47),a=n(20),u=function(){function t(t){if(this.total=t,this.total<0)throw new s.a}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return o.a(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(i.a)},function(t,e,n){"use strict";function r(t){return function e(n){return 0===t?Object(a.b)():n.lift(new u(t))}}e.a=r;var o=n(0),i=n(1),s=n(47),a=n(20),u=function(){function t(t){if(this.total=t,this.total<0)throw new s.a}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return o.a(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;if(e.length<n)e.push(t);else{e[r%n]=t}},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,o=0;o<n;o++){var i=e++%n;t.next(r[i])}t.complete()},e}(i.a)},function(t,e,n){"use strict";function r(t,e){var n=!1;return arguments.length>=2&&(n=!0),function r(o){return o.lift(new s(t,e,n))}}e.a=r;var o=n(0),i=n(1),s=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.hasSeed))},t}(),a=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.accumulator=n,i._seed=r,i.hasSeed=o,i.index=0,i}return o.a(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(i.a)},function(t,e,n){"use strict";function r(t,e){return"function"==typeof e?function(n){return n.pipe(r(function(n,r){return Object(c.a)(t(n,r)).pipe(Object(u.a)(function(t,o){return e(n,t,r,o)}))}))}:function(e){return e.lift(new l(t))}}e.a=r;var o=n(0),i=n(3),s=n(27),a=n(4),u=n(16),c=n(22),l=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.project))},t}(),f=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return o.a(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var o=new s.a(this,void 0,void 0);this.destination.add(o),this.innerSubscription=Object(a.a)(this,t,e,n,o)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e}(i.a)},function(t,e,n){"use strict";function r(t){var e,n=t.split(",");return(null===(e=n[n.length-1])||void 0===e?void 0:e.trim())||null}function o(t){var e=t.fetchText,n=t.urlString,r=t.addId,o=void 0===r?"r":r,u=t.headers;return s(this,void 0,void 0,function(){var t,r,s;return a(this,function(a){switch(a.label){case 0:return t=new URL(n),!1!==o&&t.searchParams.append(o,Date.now().toString()),[4,e(t.toString(),u)];case 1:return r=a.sent(),s=Object(i.j)(r),Object(i.y)(s),[2,s]}})})}e.a=r,e.b=o;var i=n(6),s=this&&this.__awaiter||function(t,e,n,r){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?n(t.value):o(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}},function(t,e,n){"use strict";var r=n(337);n.d(e,"c",function(){return r.a});var o=n(358);n.d(e,"e",function(){return o.a});var i=n(359);n.d(e,"h",function(){return i.a});var s=n(360);n.d(e,"a",function(){return s.a});var a=n(361);n.d(e,"b",function(){return a.a});var u=n(362);n.d(e,"f",function(){return u.a});var c=n(148);n.d(e,"m",function(){return c.a});var l=n(363);n.d(e,"n",function(){return l.a});var f=n(155);n.d(e,"d",function(){return f.a}),n.d(e,"k",function(){return f.b});var h=n(364);n.d(e,"j",function(){return h.a});var p=(n(367),n(368));n.d(e,"g",function(){return p.a});var d=(n(369),n(370));n.d(e,"l",function(){return d.a});var _=(n(156),n(371));n.d(e,"i",function(){return _.a});var v=n(372);n.d(e,"o",function(){return v.a})},function(t,e,n){"use strict";(function(e){function r(t,e){!o.isUndefined(t)&&o.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var o=n(17),i=n(343),s={"Content-Type":"application/x-www-form-urlencoded"},a={adapter:function u(){var t;return"undefined"!=typeof XMLHttpRequest?t=n(151):void 0!==e&&(t=n(151)),t}(),transformRequest:[function t(e,n){return i(n,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(r(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)?(r(n,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function t(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function t(e){return e>=200&&e<300}};a.headers={common:{Accept:"application/json, text/plain, */*"}},o.forEach(["delete","get","head"],function t(e){a.headers[e]={}}),o.forEach(["post","put","patch"],function t(e){a.headers[e]=o.merge(s)}),t.exports=a}).call(e,n(150))},function(t,e,n){(function(e){function r(t){return"object"==typeof t&&null!==t}function o(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}}function i(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function s(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function a(t){return"[object DOMException]"===Object.prototype.toString.call(t)}function u(t){return void 0===t}function c(t){return"function"==typeof t}function l(t){return"[object Object]"===Object.prototype.toString.call(t)}function f(t){return"[object String]"===Object.prototype.toString.call(t)}function h(t){return"[object Array]"===Object.prototype.toString.call(t)}function p(t){if(!l(t))return!1;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function d(){try{return new ErrorEvent(""),!0}catch(t){return!1}}function _(){try{return new DOMError(""),!0}catch(t){return!1}}function v(){try{return new DOMException(""),!0}catch(t){return!1}}function b(){if(!("fetch"in G))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function y(){if(!b())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(t){return!1}}function m(){return"function"==typeof PromiseRejectionEvent}function g(t){function e(e,n){var r=t(e)||e;return n?n(r)||r:r}return e}function w(t,e){var n,r;if(u(t.length))for(n in t)k(t,n)&&e.call(null,n,t[n]);else if(r=t.length)for(n=0;n<r;n++)e.call(null,n,t[n])}function S(t,e){return e?(w(e,function(e,n){t[e]=n}),t):t}function x(t){return!!Object.isFrozen&&Object.isFrozen(t)}function O(t,e){if("number"!=typeof e)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof t||0===e?t:t.length<=e?t:t.substr(0,e)+"…"}function k(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function E(t){for(var e,n=[],r=0,o=t.length;r<o;r++)e=t[r],f(e)?n.push(e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):e&&e.source&&n.push(e.source);return new RegExp(n.join("|"),"i")}function j(t){var e=[];return w(t,function(t,n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.join("&")}function I(t){if("string"!=typeof t)return{};var e=t.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=e[6]||"",r=e[8]||"";return{protocol:e[2],host:e[4],path:e[5],relative:e[5]+n+r}}function T(){var t=G.crypto||G.msCrypto;if(!u(t)&&t.getRandomValues){var e=new Uint16Array(8);t.getRandomValues(e),e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;var n=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return n(e[0])+n(e[1])+n(e[2])+n(e[3])+n(e[4])+n(e[5])+n(e[6])+n(e[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}function C(t){for(var e,n=[],r=0,o=0,i=" > ".length;t&&r++<5&&!("html"===(e=A(t))||r>1&&o+n.length*i+e.length>=80);)n.push(e),o+=e.length,t=t.parentNode;return n.reverse().join(" > ")}function A(t){var e,n,r,o,i,s=[];if(!t||!t.tagName)return"";if(s.push(t.tagName.toLowerCase()),t.id&&s.push("#"+t.id),(e=t.className)&&f(e))for(n=e.split(/\s+/),i=0;i<n.length;i++)s.push("."+n[i]);var a=["type","name","title","alt"];for(i=0;i<a.length;i++)r=a[i],(o=t.getAttribute(r))&&s.push("["+r+'="'+o+'"]');return s.join("")}function P(t,e){return!!(!!t^!!e)}function L(t,e){return u(t)&&u(e)}function M(t,e){return!P(t,e)&&(t=t.values[0],e=e.values[0],t.type===e.type&&t.value===e.value&&(!L(t.stacktrace,e.stacktrace)&&q(t.stacktrace,e.stacktrace)))}function q(t,e){if(P(t,e))return!1;var n=t.frames,r=e.frames;if(n.length!==r.length)return!1;for(var o,i,s=0;s<n.length;s++)if(o=n[s],i=r[s],o.filename!==i.filename||o.lineno!==i.lineno||o.colno!==i.colno||o.function!==i.function)return!1;return!0}function R(t,e,n,r){if(null!=t){var o=t[e];t[e]=n(o),t[e].__raven__=!0,t[e].__orig__=o,r&&r.push([t,e,o])}}function N(t,e){if(!h(t))return"";for(var n=[],r=0;r<t.length;r++)try{n.push(String(t[r]))}catch(t){n.push("[value cannot be serialized]")}return n.join(e)}function D(t){return~-encodeURI(t).split(/%..|./).length}function F(t){return D(JSON.stringify(t))}function z(t){if("string"==typeof t){return O(t,40)}if("number"==typeof t||"boolean"==typeof t||void 0===t)return t;var e=Object.prototype.toString.call(t);return"[object Object]"===e?"[Object]":"[object Array]"===e?"[Array]":"[object Function]"===e?t.name?"[Function: "+t.name+"]":"[Function]":t}function H(t,e){return 0===e?z(t):l(t)?Object.keys(t).reduce(function(n,r){return n[r]=H(t[r],e-1),n},{}):Array.isArray(t)?t.map(function(t){return H(t,e-1)}):z(t)}function U(t,e,n){if(!l(t))return t;e="number"!=typeof e?K:e,n="number"!=typeof e?J:n;var r=H(t,e);return F(W(r))>n?U(t,e-1):r}function B(t,e){if("number"==typeof t||"string"==typeof t)return t.toString();if(!Array.isArray(t))return"";if(t=t.filter(function(t){return"string"==typeof t}),0===t.length)return"[object has no keys]";if(e="number"!=typeof e?$:e,t[0].length>=e)return t[0];for(var n=t.length;n>0;n--){var r=t.slice(0,n).join(", ");if(!(r.length>e))return n===t.length?r:r+"…"}return""}function V(t,e){function n(t){return h(t)?t.map(function(t){return n(t)}):l(t)?Object.keys(t).reduce(function(e,r){return o.test(r)?e[r]=i:e[r]=n(t[r]),e},{}):t}if(!h(e)||h(e)&&0===e.length)return t;var r,o=E(e),i="********";try{r=JSON.parse(W(t))}catch(e){return t}return n(r)}var W=n(157),G="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},K=3,J=51200,$=40;t.exports={isObject:r,isError:o,isErrorEvent:i,isDOMError:s,isDOMException:a,isUndefined:u,isFunction:c,isPlainObject:l,isString:f,isArray:h,isEmptyObject:p,supportsErrorEvent:d,supportsDOMError:_,supportsDOMException:v,supportsFetch:b,supportsReferrerPolicy:y,supportsPromiseRejectionEvent:m,wrappedCallback:g,each:w,objectMerge:S,truncate:O,objectFrozen:x,hasKey:k,joinRegExp:E,urlencode:j,uuid4:T,htmlTreeAsString:C,htmlElementAsString:A,isSameException:M,isSameStacktrace:q,parseUrl:I,fill:R,safeJoin:N,serializeException:U,serializeKeysForMessage:B,sanitize:V}}).call(e,n(53))},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r,o,i,s=n(387),a=n(18),u=n(29),c=n(39),l=n(25),f=n(104),h=n(106),p=a.WeakMap,d=function(t){return i(t)?o(t):r(t,{})},_=function(t){return function(e){var n;if(!u(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}};if(s){var v=new p,b=v.get,y=v.has,m=v.set;r=function(t,e){return m.call(v,t,e),e},o=function(t){return b.call(v,t)||{}},i=function(t){return y.call(v,t)}}else{var g=f("state");h[g]=!0,r=function(t,e){return c(t,g,e),e},o=function(t){return l(t,g)?t[g]:{}},i=function(t){return l(t,g)}}t.exports={set:r,get:o,has:i,enforce:d,getterFor:_}},function(t,e,n){var r=n(18),o=n(39);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(29);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(163),o=n(164),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e){t.exports=!1},function(t,e){t.exports={}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(31),o=n(10),i=n(54),s=function(t){return function(e,n,s){var a,u=r(e),c=o(u.length),l=i(s,c);if(t&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(74);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(112),o=n(113),i=(n.n(o),n(60)),s=n(75),a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;o.log=n,o._dataStore=null,o._dataFt=null;for(var i=e,s=e;s&&!s.hasAttribute("data-store")&&s.parentElement;)s=s.parentElement;o._article=s,o._innerStory=i;var a=i.querySelector("div.story_body_container");return a&&(o._innerStory=a),o}return a(e,t),e.prototype.init=function(){},e.countOccurrencesInString=function(t,e){var n=t.match(new RegExp(e,"g"));return n?n.length:0},Object.defineProperty(e.prototype,"entId",{get:function(){if(!this._entId){var t=this.dataStore,n=this.dataFt;if(t&&t.share_id){var r=t.share_id.toString(),o=r.match("([0-9]*)");if(null!==o&&o[0]===r)this._entId=r;else{var i=r.match(".*:([0-9]*)");if(!i||1!=e.countOccurrencesInString(r,":"))throw new RangeError("_entId can't be null");this._entId=i[1]}}else if(t&&t.feedback_target)this._entId=""+t.feedback_target;else{if(!(n&&n.page_insights&&n.top_level_post_id))throw new RangeError("_entId can't be null");this._isNestingStory=!0,this._entId=n.top_level_post_id}}return this._entId},enumerable:!0,configurable:!0}),e.extractDataStoreFromElement=function(t,e){var n=t.getAttribute(e);if(!n)return null;if(n)try{return JSON.parse(n)}catch(t){return null}else r.b.debug("Element "+t+" didn't have a data-store attribute");return null},Object.defineProperty(e.prototype,"dataStore",{get:function(){return this._dataStore||(this._dataStore=e.extractDataStoreFromElement(this._article,"data-store")),this._dataStore},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataFt",{get:function(){return this._dataFt||(this._dataFt=e.extractDataStoreFromElement(this._article,"data-ft")),this._dataFt},enumerable:!0,configurable:!0}),e.prototype.parseInnerStory=function(){if(void 0===this._header){this._header=null,this._footer=null,this._divs=[];for(var t=0,e=Array.from(this._innerStory.childNodes);t<e.length;t++){var n=e[t];n instanceof HTMLElement&&("header"===n.tagName.toLowerCase()?this._header=n:"footer"===n.tagName.toLowerCase()?this._footer=n:"div"===n.tagName.toLowerCase()&&this._divs.push(n))}}},Object.defineProperty(e.prototype,"storyType",{get:function(){return this._postType||(this.parseInnerStory(),this._postType="unknown",this._innerStory.querySelector("[data-sigil*='m-video-play-button']")?this._postType="video":this._divs.length>1&&(this._divs[1].querySelector(".scrollArea-horizontal")?this._postType="carousel":this._divs[1].querySelector("button")?this._postType="link":this._divs[1].querySelector("a >div > div >i")&&(this._postType="photo"))),this._postType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fb_post_carousel_info",{get:function(){var t=this;if("carousel"===this.storyType){var e=this._innerStory.querySelector(".scrollAreaBody");if(null===e)throw new RangeError("missing scrollAreaBody inside carousel");return Array.from(e.children).map(function(e){var n=e.querySelector("i.img");if(null===n)throw new RangeError("Unexpected post structure. fb_post_carousel_info. id:"+t._entId);var r=n.style.backgroundImage&&n.style.backgroundImage.replace(/^url\(/,"").replace(/\)$/,"")||null,o=e.querySelector("header")&&e.querySelector("header").textContent||null,s=e.querySelector("a"),a=null;return null!==s&&(a=Object(i.a)(s.href)),{fb_post_carousel_actionlink_url:a,fb_post_carousel_text:o,fb_post_carousel_img_url:r}})}return null},enumerable:!0,configurable:!0}),e.prototype.parseAdvertiserFields=function(){this._fb_post_advertiser_page_pretty_name=null;var t=this.dataFt,n=this._divs[0],r=n.querySelector("a"),i=r&&r.href,s=i&&o.parse(i)||{},a=null,u=s.id;if(u)a=u instanceof Array?u[0]:s.id;else{var c=this._header&&this._header.querySelector("[class*='like_thumb_conta']");if(c){var l=e.extractDataStoreFromElement(c,"data-store");l&&(a=l.pageID.toString())}else{var f=this._article.querySelector("[data-sigil='ufi-inline-actions'] > div:nth-child(2) > a");f instanceof HTMLAnchorElement&&(a=(f.href.match("/([0-9]*)/posts")||[null,null])[1])}}if(a&&(a.match(/^[0-9]*$/)?this._fb_post_advertiser_page_entity_id=a:this._fb_post_advertiser_page_id=a),this._fb_post_advertiser_page_entity_id||t&&t.page_id&&(this._fb_post_advertiser_page_entity_id=t.page_id),this._header&&!this._fb_post_advertiser_page_id){var h=this._header.querySelector("a[href]:not([href^='/story'])");if(h instanceof HTMLAnchorElement){var p=h.href,d=void 0;d=p.startsWith("http")?p.match("https?://"+document.location.host+"/(.*)/"):p.match("^/?(.*)/"),d&&(this._fb_post_advertiser_page_id=d[1])}}var _=this._header.querySelector("i").style.backgroundImage,v=_.match(/url\("(.*)"\)/);v||(v=_.match(/url\((.*)\)/)),v&&v[1]?this._fb_post_advertiser_thumbnail_url=v[1]:this._fb_post_advertiser_thumbnail_url=null},e.prototype.initActionLink=function(){var t=this._divs[1].querySelector("button");if(t){var n=e.extractDataStoreFromElement(t.parentElement,"data-store");n&&(this._fb_post_call_to_action_url=n.dest_uri||null),this._fb_post_call_to_action_text=t.textContent}else this._fb_post_call_to_action_url=null,this._fb_post_call_to_action_text=null},Object.defineProperty(e.prototype,"fb_post_actionlink_url",{get:function(){if(void 0===!this._fb_post_actionlink_url){var t=this._divs[1].querySelector("a");if(t){var n=e.extractDataStoreFromElement(t,"data-store");n&&(this._fb_post_actionlink_url=n.dest_uri||null)}else this._fb_post_actionlink_url=null}return this._fb_post_actionlink_url},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fb_post_img_url",{get:function(){if(!this._fb_post_img_url)if(this._fb_post_img_url=null,"album"===this.storyType||"photo"===this.storyType){var t=this._innerStory.querySelector("a[rel=theater] img");t instanceof HTMLImageElement&&(this._fb_post_img_url=t.src)}else{var e=this._innerStory.querySelector("div.fbStoryAttachmentImage > img");e instanceof HTMLImageElement?this._fb_post_img_url=e.src:this._diagnostics.push("can't parse, fb_post_img_url. expected selector not found")}return this._fb_post_img_url},enumerable:!0,configurable:!0}),e}(s.i)},function(t,e,n){"use strict";function r(t){s=t}n.d(e,"a",function(){return o}),e.c=r;var o;!function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Info=3]="Info",t[t.Debug=4]="Debug",t[t.Log=5]="Log"}(o||(o={}));var i;!function(t){t[t.none=0]="none",t[t.error=1]="error",t[t.warn=2]="warn",t[t.info=3]="info",t[t.debug=4]="debug",t[t.log=5]="log"}(i||(i={}));for(var s=o.None,a=["assert","dir","error","info","log","time","timeEnd","trace","warn","debug"],u={},c=0,l=a;c<l.length;c++){var f=l[c];!function(t){Object.defineProperty(u,t,{get:function(){var e=t;if(e in console||"debug"!==e||(e="log"),e in console&&"function"==typeof console[e]){var n=5;return e in i&&(n=i[e]),s<n?function(){}:console[e].bind(console)}return console[e]}})}(f)}e.b=u},function(t,e,n){"use strict";function r(t){switch(t.arrayFormat){case"index":return function(e,n,r){return null===n?[i(e,t),"[",r,"]"].join(""):[i(e,t),"[",i(r,t),"]=",i(n,t)].join("")};case"bracket":return function(e,n){return null===n?i(e,t):[i(e,t),"[]=",i(n,t)].join("")};default:return function(e,n){return null===n?i(e,t):[i(e,t),"=",i(n,t)].join("")}}}function o(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){if(e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),!e)return void(r[t]=n);void 0===r[t]&&(r[t]={}),r[t][e[1]]=n};case"bracket":return function(t,n,r){return e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0===r[t]?void(r[t]=[n]):void(r[t]=[].concat(r[t],n)):void(r[t]=n)};default:return function(t,e,n){if(void 0===n[t])return void(n[t]=e);n[t]=[].concat(n[t],e)}}}function i(t,e){return e.encode?e.strict?c(t):encodeURIComponent(t):t}function s(t){return Array.isArray(t)?t.sort():"object"==typeof t?s(Object.keys(t)).sort(function(t,e){return Number(t)-Number(e)}).map(function(e){return t[e]}):t}function a(t){var e=t.indexOf("?");return-1===e?"":t.slice(e+1)}function u(t,e){e=l({arrayFormat:"none"},e);var n=o(e),r=Object.create(null);return"string"!=typeof t?r:(t=t.trim().replace(/^[?#&]/,""))?(t.split("&").forEach(function(t){var e=t.replace(/\+/g," ").split("="),o=e.shift(),i=e.length>0?e.join("="):void 0;i=void 0===i?null:f(i),n(f(o),i,r)}),Object.keys(r).sort().reduce(function(t,e){var n=r[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=s(n):t[e]=n,t},Object.create(null))):r}var c=n(181),l=n(182),f=n(183);e.extract=a,e.parse=u,e.stringify=function(t,e){e=l({encode:!0,strict:!0,arrayFormat:"none"},e),!1===e.sort&&(e.sort=function(){});var n=r(e);return t?Object.keys(t).sort(e.sort).map(function(r){var o=t[r];if(void 0===o)return"";if(null===o)return i(r,e);if(Array.isArray(o)){var s=[];return o.slice().forEach(function(t){void 0!==t&&s.push(n(r,t,s.length))}),s.join("&")}return i(r,e)+"="+i(o,e)}).filter(function(t){return t.length>0}).join("&"):""},e.parseUrl=function(t,e){return{url:t.split("?")[0]||"",query:u(a(t),e)}}},function(t,e,n){"use strict";function r(t,e){if(!e.contains(t))throw new Error("el is not decendent of upto");for(var n=[],r=t;r.parentElement!==e&&null!==r.parentElement;)n.push(r.parentElement),r=r.parentElement;return n}function o(t,e){var n=e.getComputedStyle(t);return"none"===n.display||"0"===n.opacity&&"absolute"===n.position}function i(t){return t.replace(" · ","")}function s(t){return!isNaN(parseFloat(t))&&isFinite(t)}function a(t){return t.children.length?Array.from(t.children).flatMap(function(t){return a(t)}):[t]}n.d(e,"a",function(){return p});var u=n(6),c=n(60),l=n(76),f=n(116),h=n(190),p=function(){function t(t,e){if(this.log=t,this.extensionVersion=e,!t)throw new Error("You can't start a parser without a logger!")}return t.prototype.getNewCache=function(t,e){return new f.a(t,this.log,e)},t.prototype.getCache=function(t,e){return t[l.i]||(t[l.i]=this.getNewCache(t,e)),t[l.i]},t.prototype.storyTypeClassifier=function(t){return this.getCache(t,[]).storyType},t.prototype.getLocale=function(){var t=Array.from(document.body.classList).find(function(t){return t.startsWith("Locale")}),e=null;return"string"==typeof t&&(e=t.replace("Locale_","")),e},t.prototype.extractFirstPostInStoryText=function(t){var e=t.querySelector("p");return e instanceof HTMLParagraphElement&&e.parentElement?e.parentElement.textContent:""},t.prototype.isChildOf=function(t,e){return t instanceof Element&&t.contains(e)},t.prototype.parseRegularStory=function(t,e){var n=null,r=null!==t.querySelector("div[data-hover='tooltip'][data-tooltip-content='Shared with: Public']"),o=this.extractFirstPostInStoryText(t),i=["posts","videos","notes","permalink"],s=["comment_id"],a=i.map(function(t){return"[href*='/"+t+"/']:not("+s.map(function(t){return"[href*='"+t+"']"}).join(",")+")"});a.push("[href*='photo.php?fbid=']"),a.push("[href*='permalink.php?story_fbid=']"),a.push("[href*='/photos/a.']");var u=t.querySelector("form.commentable_item > input[name='ft_ent_identifier']");if(u instanceof HTMLInputElement&&(n=u.value,this.log.info("Found the entity id using the commentable_item "+n,t)),!n){var c=t.querySelector(a.join(","));if(!(c instanceof HTMLAnchorElement))throw new RangeError("can't parse fb_post_entity_id, expected selector not found");if(c.href.indexOf("/photos/a.")>-1){var l=c.href.match(/photos\/a[^\/]+\/([0-9]+)/);null===l||2!==l.length?e.push("can't extract fb_post_entity_id from href, post type '/photos/a. ?type=3&theater':"+c.href):n=l[1]}else if(c.href.indexOf("permalink.php?story_fbid=")>-1){var l=c.href.match(/permalink\.php\?story_fbid=([0-9]+)/);null===l||2!==l.length?e.push("can't extract fb_post_entity_id from href, post type 'permalink and the publishing user dosn't have String handle':"+c.href):n=l[1]}else if(c.href.indexOf("photo.php?fbid=")>-1){var l=c.href.match(/photo\.php\?fbid=([0-9]+)/);null===l||2!==l.length?e.push("can't extract fb_post_entity_id from href, post type photo:"+c.href):n=l[1]}else{var l=c.href.match(new RegExp("("+i.join("|")+")/([0-9]+)/?"));null===l||3!==l.length?e.push("can't extract fb_post_entity_id from href:"+c.href):n=l[2]}}if(null===n)throw new RangeError("can't parse fb_post_entity_id!!!");return{fb_post_entity_id:n,fb_post_text:o,fb_post_is_public:r,parser_type:"desktop",parser_version:this.extensionVersion}},t.prototype.isFeedbackTarget=function(t){return null!==t.querySelector(l.d)},t.prototype.parseSponsoredFeedStory=function(t,e){var n,r,o,i=this.getCache(t,e),s=this.sanityzePIIPostHtml(t.cloneNode(!0)).outerHTML,a=t.querySelector(l.d);if(!(a instanceof HTMLFormElement&&a.parentElement&&a.parentElement.previousElementSibling))throw new RangeError("The given element is not a feedback target:"+t.id);o=a.parentElement.previousElementSibling;var u=i.storyType,c=i.fb_post_carousel_info,f=i.fb_post_app_pretty_name,h=i.fb_post_app_id,p=i.fb_post_app_thumbnail_url,d=i.fb_post_advertiser_page_id,_=i.fb_post_advertiser_page_entity_id,v=i.fb_post_advertiser_page_pretty_name,b=i.fb_post_advertiser_thumbnail_url,y=i.fb_post_actionlink_url,m=i.fb_post_img_url,g=i.fb_post_call_to_action_url,w=i.fb_post_call_to_action_text,S=i.entId,x=null;"gif"===u?(n=this.parseGifFields(o),x=n.videoUrl,m=n.previewImageUrl):"video"===u&&(r=this.parseVideoFields(o),x=r.videoUrl,m=r.previewImageUrl);var O=this.getLocale()||"",k=O.startsWith("en")?this.getEngagementScoreFromStory(a):null,E=k&&k.has("Angry")?k.get("Angry"):null,j=k&&k.has("Comments")?k.get("Comments"):null,I=k&&k.has("Haha")?k.get("Haha"):null,T=k&&k.has("Like")?k.get("Like"):null,C=k&&k.has("Love")?k.get("Love"):null,A=k&&k.has("Sad")?k.get("Sad"):null,P=k&&k.has("Shares")?k.get("Shares"):null,L=k&&k.has("Wow")?k.get("Wow"):null;return{fb_post_actionlink_url:y,fb_post_src:s,fb_post_text:this.extractFirstPostInStoryText(o),fb_post_type:u,fb_post_img_url:m,fb_post_video_url:x,fb_post_engage_sad:A,fb_post_engage_wow:L,fb_post_entity_id:S,fb_post_engage_haha:I,fb_post_engage_like:T,fb_post_engage_love:C,fb_post_video_views:null,fb_post_this_video_views:null,fb_post_engage_angry:E,fb_post_engage_shares:P,fb_post_engage_comments:j,fb_post_advertiser_page_id:d,fb_post_advertiser_page_entity_id:_,fb_post_call_to_action_url:g,fb_post_call_to_action_text:w,fb_post_advertiser_thumbnail_url:b,fb_post_advertiser_page_pretty_name:v,fb_post_app_pretty_name:f,fb_post_app_id:h,fb_post_app_thumbnail_url:p,fb_post_carousel_info:c,fb_post_caption:i.fb_post_caption,fb_post_attachment_description:i.fb_post_attachment_description,fb_post_attachment_title:i.fb_post_attachment_title,parser_type:"desktop",parser_version:this.extensionVersion}},t.prototype.parseVideoFields=function(t){var e=null,n=null,r=t.querySelectorAll("img.img:not([src*='emoji.php'])")[1];r instanceof HTMLImageElement&&""===(e=(r.style.backgroundImage||"").replace(/^url\(("|')?/,"").replace(/("|')?\)$/,""))&&(e=r.src);var o=t.querySelector("video");return o instanceof HTMLVideoElement&&o.hasAttribute("src")&&!o.src.startsWith("blob:")&&(n=o.src),{previewImageUrl:e,videoUrl:n}},t.prototype.parseGifFields=function(t){var e=null,n=null,r=null,o=t.querySelectorAll("img.img:not([src*='emoji.php'])")[1];o instanceof HTMLImageElement&&(e=o.src);var i=t.querySelector("video");i instanceof HTMLVideoElement&&(n=i.src);var s=t.querySelector("span > [target='_blank']");return s instanceof HTMLAnchorElement&&(r=s.href),{previewImageUrl:e,videoUrl:n,originalUrl:r}},t.prototype.getStorySelector=function(){return["סיפור","Story","Actualité"].map(function(t){return"div[aria-label="+t+"]"}).join(", ")},t.prototype.removeZeroSizedFont=function(t){var e=window.getComputedStyle(t).fontSize;if(!e||0===e.length||"0px"===e||o(t,window))return null;if(!t.childElementCount)return t;for(var n=document.createElement(t.tagName),r=0;r<t.childElementCount;r++){var i=this.removeZeroSizedFont(t.children[r]);if(i){var s=i.cloneNode(!0);s.textContent=i.textContent,n.appendChild(s)}}return n},t.prototype.isStorySponsoredImpl=function(t,e){var n=this;return Array.from(t.querySelectorAll("s, [data-testid='story-subtilte'] > span, a, div[data-testid=story-subtitle], div[data-testid*=story-label] a")).map(function(o){var s,u,c=window.getComputedStyle(o);if(c.display&&c.display.match("none"))return{story:t,a:o,ok:!1,reason:"self-none",context:{}};if(null===(s=o.firstElementChild)||void 0===s?void 0:s.childElementCount){var l=Array.from(o.firstElementChild.children).filter(function(t){var e=t.getBoundingClientRect();return 0!==e.width&&0!==e.height}).map(function(t){return t.textContent}).join("").replace(new RegExp('"',"g"),"");if(l&&e.indexOf(i(l))>-1)return{story:t,a:o,ok:!0,reason:"within rect overflow",context:l};var f=o.querySelector("span");if((null===(u=f)||void 0===u?void 0:u.children)&&(l=Array.from(f.children).flatMap(function(t){return a(t)}).filter(function(t){return["0px","auto"].includes(window.getComputedStyle(t).top)}).map(function(t){return t.textContent}).join("").replace(new RegExp('"',"g"),""))&&e.indexOf(i(l))>-1)return{story:t,a:o,ok:!0,reason:"within rect overflow - using top attribute",context:l}}var h=Array.from(o.querySelectorAll("[data-content]")).filter(function(t){return"none"!==window.getComputedStyle(t).getPropertyValue("display")}).map(function(t){return window.getComputedStyle(t,"::after").getPropertyValue("content")}).join("").replace(new RegExp('"',"g"),"");if(h&&e.indexOf(i(h))>-1)return{story:t,a:o,ok:!0,reason:"after-content",context:h};var p=window.getComputedStyle(o,":after").content;if(p){var d=p.match(/\"(.*)\"/);d&&(p=d[1])}var _=n.removeZeroSizedFont(o);return r(o,t).some(function(t){return"none"===window.getComputedStyle(t).display})?{story:t,a:o,ok:!1,reason:"parent-none",context:r(o,t).find(function(t){return"none"===window.getComputedStyle(t).display})}:_&&_.textContent&&e.indexOf(i(_.textContent))>-1?{story:t,a:o,ok:!0,reason:"element && anchorPossibleText",context:{elementWithoutZeroSize:_}}:p&&e.indexOf(p)>-1?{story:t,a:o,ok:!0,reason:"cssAfterContent && anchorPossibleText",context:{cssAfterContent:p,elementWithoutZeroSize:_}}:{story:t,a:o,ok:o.textContent&&e.indexOf(i(o.textContent))>-1||!1,reason:"legacy",context:{cssAfterContent:p,elementWithoutZeroSize:_}}}).some(function(t){return t.ok})},t.prototype.isStorySponsored=function(t){var e=["Sponsored","ממומן","Sponsorisé","Sponsorizzata","إعلان مُموَّل","Publicidad","Patrocinado","Gesponsert","Rėmėjai","5p4m","Реклама","Sponsorowane"];return this.isStorySponsoredImpl(t,e)},t.prototype.parseStringedNumber=function(t,e){var n=new Set(["en_US","en_GB","en_CA","he_IL","fr_FR","fr_CA","it_IT","de_DE","es_ES","es_LA"]),r=new Map([["k",1e3],["mil",1e3],["m",1e6],["mill.",1e6],["mln",1e6],["mio.",1e6],["b",1e9],["g",1e9]]);if(!n.has(e)&&/[^0-9]/.test(t))return null;var o=t.toLowerCase().replace(",","."),i=o.match(new RegExp("^([0-9]+\\.?[0-9]*)( ?("+Array.from(r.keys()).map(function(t){return Object(u.k)(t)}).join("|")+"))?$"));return null!==i&&s(i[1])?parseFloat(i[1])*(r.has(i[3])?r.get(i[3]):-1!==["de_DE","it_IT"].indexOf(e)?1e3:1):null},t.prototype.parseVerbAndNumber=function(t,e){var n=/([0-9]*(\.|,)?[0-9]*)(.*)\ (.*)/,r=t.match(n),o=-1,i="";this.log.captureBreadcrumb({message:"parseVerbAndNumber",data:{splitText:r}}),r&&("m"===r[3].toLowerCase()||"k"===r[3].toLowerCase()?o=parseFloat(r[1])*("k"==r[3].toLowerCase()?1e3:1e6):","===r[2]?o=parseInt(r[1].replace(",","")):r[2]?this.log.error("Found an unknown multiplier"):o=parseInt(r[1]),i=r[4]),-1!=o?(e.set(i,o),this.log.debug("Found new verb: "+i+" with a number of: "+o)):(this.log.captureBreadcrumb({message:"content-parsing-error",level:"error",data:{verb:i,splitText:r}}),this.log.error("content-parsing-error"))},t.prototype.getEngagementScoreFromStory=function(t){var e=new Map;try{this.log.debug("Start getting engage scores....");var n=t.querySelectorAll("span[role*='toolbar'] a");this.log.info("Found "+n.length+" feelings...");for(var r=0;r<n.length;r++)try{var o=n[r].getAttribute("aria-label")||"";this.parseVerbAndNumber(o,e)}catch(t){this.log.error("Error while parsing a verb from feelings!"+t)}var i=t.querySelectorAll("a[aria-live='polite'], span[aria-live='polite']");this.log.info("Found "+i.length+" in comment and share section.");for(var s=0;s<i.length;s++)try{this.parseVerbAndNumber(i[s].textContent||"",e)}catch(t){this.log.error("Error while parsing a verb from comments and shares!"+t)}}catch(t){}return e},t.prototype.isStoryLoaded=function(t){var e=t.getBoundingClientRect(),n=e.width,r=e.height;return null!==t.querySelector(".fbUserContent, input[name=ft_ent_identifier], .userContentWrapper, i.profpic")&&0!==n&&0!==r},t.prototype.isSuggestedPageStory=function(t,e){t.innerHTML},t.prototype.getNestingType=function(t,e){return"unknown"},t.tryExtractStoryEntityId=function(t){var e,n=t.querySelector(l.e);return n instanceof HTMLInputElement?n.value:(e=Object(u.q)(function(){return JSON.parse(t.dataset.store).feedback_target},null),null!==e&&void 0!==e?e:Object(u.q)(function(){return JSON.parse(t.querySelector("article[data-store]").dataset.store).share_id},null))},t.prototype.sanityzePIIPostHtml=function(t){if(t.parentElement)throw new Error("don't pass elements from living document! it hurt the page. you must pass only clones");for(var e=0,n=Array.from(t.querySelectorAll(h.a.join(",")));e<n.length;e++){var r=n[e];this.log.info("will remove",[r]),r.remove()}return t},t.extractLinkFromFbRedirector=c.a,t}()},function(t,e,n){"use strict";function r(t,e){if("{"!==t[e])throw new Error("No '{' at index "+e);for(var n=1,r=e+1;r<t.length;r++)switch(t[r]){case"{":n++;break;case"}":if(0==--n)return r}return-1}e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(6),o=n(60),i=n(76),s=n(114),a=function(){function t(t,e,n){this.log=e,this._fb_post_actionlink_url=null,this._fb_post_img_url=null,this._fb_post_call_to_action_url=null,this._fb_post_call_to_action_text=null,this._fb_post_carousel_info=null,this._fb_post_advertiser_page_pretty_name=null,this._fb_post_advertiser_page_id=null,this._fb_post_advertiser_page_entity_id=null,this._fb_post_advertiser_thumbnail_url=null,this._fb_post_app_id=null,this._fb_post_app_pretty_name=null,this._fb_post_app_thumbnail_url=null,this._diagnostics=n||[],this._article=t,this.init()}return t.prototype.init=function(){var t=this._article.querySelector(i.d);if(!(t instanceof HTMLFormElement))throw new RangeError("The given element is not a feedback target:"+this._article.id);this._commentsForm=t,null!==this._commentsForm.parentElement&&null!==this._commentsForm.parentElement.previousElementSibling?this._innerStory=this._commentsForm.parentElement.previousElementSibling:this._innerStory=this._article,this.is_app_post=null!==this._innerStory.querySelector("a[data-hovercard*='application.php'][href*='apps.facebook.com']")},Object.defineProperty(t.prototype,"entId",{get:function(){if(!this._entId){var t=s.a.tryExtractStoryEntityId(this._commentsForm);if(!t)throw new Error("can't parse fb_post_entity_id, expected selector not found");this._entId=t}return this._entId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nestType",{get:function(){return this._nestType||(this._nestType="unknown"),this._nestType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isNestingStory",{get:function(){return this._isNestingStory||(this._isNestingStory=!1),this._isNestingStory},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fb_post_caption",{get:function(){if(void 0===this._fb_post_caption){var t=this._innerStory.querySelector("div._6lz._6mb.ellipsis");t&&""!==t.textContent?this._fb_post_caption=t.textContent:this._fb_post_caption=null}return this._fb_post_caption},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fb_post_attachment_title",{get:function(){if(void 0===this._fb_post_attachment_title){var t=this._innerStory.querySelector(".mbs._6m6._2cnj._5s6c > a");t&&""!==t.textContent?this._fb_post_attachment_title=t.textContent:this._fb_post_attachment_title=null}return this._fb_post_attachment_title},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fb_post_attachment_description",{get:function(){if(void 0===this._fb_post_attachment_description){var t=this._innerStory.querySelector("._6m7._3bt9");t&&""!==t.textContent?this._fb_post_attachment_description=t.textContent:this._fb_post_attachment_description=null}return this._fb_post_attachment_description},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fb_post_carousel_info",{get:function(){var t=this;if("carousel"===this.storyType){var e=this._innerStory.querySelector("ul.uiList");if(null===e)throw new RangeError("missing ul inside carousel");var n=Array.from(e.children).map(function(e){var n=e.querySelector("img:nth-of-type(1)");if(null===n)throw new RangeError("Unexpected post structure. missing img in li. fb_post_carousel_info. id:"+t._entId);var r=n.style.backgroundImage&&n.style.backgroundImage.replace(/^url\(\"/,"").replace(/\"\)$/,"")||n.src,i=e.children[0],s=e.children[1],a=i instanceof HTMLAnchorElement?i:s instanceof HTMLAnchorElement?s:null;if(a instanceof HTMLAnchorElement){var u=Object(o.a)(a.href),c=a.cloneNode(!0);Array.from(c.querySelectorAll("button")).forEach(function(t){t.remove()});var l=e.querySelector("div._1032"),f=e.querySelector("div._1m-h"),h=l?l.textContent:c.textContent;return f&&(h+=" "+f.textContent),{fb_post_carousel_actionlink_url:u,fb_post_carousel_text:h,fb_post_carousel_img_url:r}}throw new RangeError("Unexpected post structure. fb_post_carousel_info. id:"+t._entId)});return""===n[n.length-1].fb_post_carousel_text&&(n[n.length-1].fb_post_carousel_text=e.children[e.children.length-1].textContent),n}return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storyType",{get:function(){if(!this._postType){this._postType="unknown";var t=this._innerStory.querySelectorAll("a[rel=theater] img");if(t.length>0)1===t.length?this._postType="photo":this._postType="album";else if(null!==this._innerStory.querySelector("a[href*='/offers/url/?offer_id']"))this._postType="offer";else if(null!==this._innerStory.querySelector('a[href*="/events/"][data-hover=tooltip]'))this._postType="event";else{var e=this._innerStory.querySelector("ul.uiList");if(this._innerStory.querySelector('[data-testid="multishare_pager_next"]')||e instanceof HTMLUListElement&&e.nextElementSibling&&e.nextElementSibling.querySelector("div > a > div > i"))this._postType="carousel";else{var n=this._innerStory.querySelector("video");if(n instanceof HTMLVideoElement)this._innerStory.querySelector("[role=progressbar]")instanceof HTMLSpanElement?this._postType="video":this._postType="gif";else if(null!==this._innerStory.querySelector(".fbStoryAttachmentImage.uiScaledImageContainer"))null!==this._innerStory.querySelector("button[type='submit']:not(.PageLikeButton)")?this._postType="lead":this._postType="link";else{var r=this._innerStory.querySelector("div.userContent"),o=!!r&&r.nextElementSibling instanceof HTMLDivElement&&r.nextElementSibling;o&&null===o.querySelector("img")&&(this._postType="text")}}}}return this._postType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fb_post_actionlink_url",{get:function(){if(!this._fb_post_actionlink_url){this._fb_post_actionlink_url=null;var t=this._innerStory.querySelector("a[rel*=nofollow][target=_blank],a[rel*=noopener][target=_blank]");t instanceof HTMLAnchorElement?this._fb_post_actionlink_url=Object(o.a)(t.href):this._diagnostics.push("can't parse fb_post_actionlink_url, the expected selector not found")}return this._fb_post_actionlink_url},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fb_post_img_url",{get:function(){if(!this._fb_post_img_url)if(this._fb_post_img_url=null,"album"===this.storyType||"photo"===this.storyType){var t=this._innerStory.querySelector("a[rel=theater] img");t instanceof HTMLImageElement&&(this._fb_post_img_url=t.src)}else{var e=this._innerStory.querySelector("div.fbStoryAttachmentImage > img");e instanceof HTMLImageElement?this._fb_post_img_url=e.src:this._diagnostics.push("can't parse, fb_post_img_url. expected selector not found")}return this._fb_post_img_url},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fb_post_call_to_action_url",{get:function(){return this._fb_post_call_to_action_url||this.initActionLink(),this._fb_post_call_to_action_url},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fb_post_call_to_action_text",{get:function(){return this._fb_post_call_to_action_text||this.initActionLink(),this._fb_post_call_to_action_text},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fb_post_advertiser_page_pretty_name",{get:function(){return this._fb_post_advertiser_page_pretty_name||this.parseAdvertiserFields(),this._fb_post_advertiser_page_pretty_name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fb_post_advertiser_page_entity_id",{get:function(){return this._fb_post_advertiser_page_entity_id||this.parseAdvertiserFields(),this._fb_post_advertiser_page_entity_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fb_post_advertiser_page_id",{get:function(){return this._fb_post_advertiser_page_id||this.parseAdvertiserFields(),this._fb_post_advertiser_page_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fb_post_advertiser_thumbnail_url",{get:function(){return this._fb_post_advertiser_thumbnail_url||this.parseAdvertiserFields(),this._fb_post_advertiser_thumbnail_url},enumerable:!0,configurable:!0}),t.prototype.parseAdvertiserFields=function(){if(this._fb_post_advertiser_page_pretty_name=null,this._fb_post_advertiser_page_id=null,this._fb_post_advertiser_thumbnail_url=null,!this.is_app_post){var t=this._innerStory.querySelectorAll(i.a),e=t[1];if(e instanceof HTMLAnchorElement){this._fb_post_advertiser_page_pretty_name=e.textContent;var n=Object(o.a)(e.href);if(-1===n.indexOf("profile.php?id=")){var r=document.createElement("a");r.href=n,this._fb_post_advertiser_page_id=decodeURIComponent(r.pathname.substr(1).replace(/\/$/,""))}else{var s=n.match(/profile\.php\?id\=([0-9]+)/);s instanceof Array?this._fb_post_advertiser_page_id=s[1]:this._diagnostics.push("Couldn't parse fb_post_advertiser_page_id from the a element")}}else this._diagnostics.push("Couldn't parse fb_post_advertiser_page_id, fb_post_advertiser_page_pretty_name. the expected selector not found");var a=t[0];if(a instanceof HTMLAnchorElement){var u=a.querySelector("img");u instanceof HTMLImageElement?this._fb_post_advertiser_thumbnail_url=u.src:this._diagnostics.push("can't parse fb_post_advertiser_thumbnail_url, expected selector not found")}else this._diagnostics.push("can't parse fb_post_advertiser_thumbnail_url, expected selector not found")}},Object.defineProperty(t.prototype,"fb_post_app_id",{get:function(){return this._fb_post_app_id||this.parseFbAppStoryFields(),this._fb_post_app_id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fb_post_app_pretty_name",{get:function(){return this._fb_post_app_pretty_name||this.parseFbAppStoryFields(),this._fb_post_app_pretty_name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fb_post_app_thumbnail_url",{get:function(){return this._fb_post_app_thumbnail_url||this.parseFbAppStoryFields(),this._fb_post_app_thumbnail_url},enumerable:!0,configurable:!0}),t.prototype.parseFbAppStoryFields=function(){if(this._fb_post_app_id=null,this._fb_post_app_pretty_name=null,this._fb_post_app_thumbnail_url=null,this.is_app_post){var t=this._innerStory.querySelectorAll(i.a),e=t[0];if(e instanceof HTMLAnchorElement){var n=e.querySelector("img");n instanceof HTMLImageElement?this._fb_post_app_thumbnail_url=n.src:this._diagnostics.push("failed with fb_post_app_thumbnail_url. expected selector not found")}else this._diagnostics.push("failed with fb_post_app_thumbnail_url. expected selector not found");var r=t[1];if(r instanceof HTMLAnchorElement){this._fb_post_app_pretty_name=r.textContent;var s=Object(o.a)(r.href),a=s.match(/apps\.facebook\.com\/([^\/]+)\//);null!==a&&2===a.length?this._fb_post_app_id=a[1]:this._diagnostics.push("failed with fb_post_app_id. failed extract id from href")}else this._diagnostics.push("failed with fb_post_app_pretty_name. expected selector not found")}},t.prototype.initActionLink=function(){if("lead"===this.storyType){var t=this._innerStory.querySelector('button[type="submit"]:not([class*="Like"])');this._fb_post_call_to_action_url=null,t instanceof HTMLButtonElement?this._fb_post_call_to_action_text=t.textContent:(this._diagnostics.push("cant parse fb_post_call_to_action_url, expected selector not found"),this._fb_post_call_to_action_text=null)}else if("offer"===this.storyType){var e=this._innerStory.querySelector("a[href*='/offers/url/?offer_id'][role=button]");e instanceof HTMLAnchorElement&&(this._fb_post_call_to_action_text=e.text,this._fb_post_call_to_action_url=e.href.replace("http://localhost",""))}else if("carousel"===this.storyType){var n=this._innerStory.querySelector("button[type=submit]:not(.PageLikeButton)");if(n instanceof HTMLButtonElement||(n=this._innerStory.querySelector("a[role='button'][rel*='nofollow'],a[role='button'][rel*='noopener']")),n instanceof HTMLElement&&this._innerStory instanceof HTMLElement){this._fb_post_call_to_action_text=n.textContent;var i=Object(r.i)(n,"a",this._innerStory);i instanceof HTMLAnchorElement&&(this._fb_post_call_to_action_url=Object(o.a)(i.href))}}else{var s=this._innerStory.querySelector("a[role=button][rel*=nofollow],a[role=button][rel*=noopener]");s instanceof HTMLAnchorElement?(this._fb_post_call_to_action_url=Object(o.a)(s.href),this._fb_post_call_to_action_text=s.textContent):(this._diagnostics.push("cant parse fb_post_call_to_action_url, expected selector not found"),this._fb_post_call_to_action_url=null,this._fb_post_call_to_action_text=null)}},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(61),o=n(79),i={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(o.a)(t)},complete:function(){}}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),o=r},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(0),o=n(9),i=n(2),s=n(1),a=n(8),u=n(83),c=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.a(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new a.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=a.a.EMPTY)),t},e.prototype.refCount=function(){return Object(u.a)()(this)},e}(i.a),l=function(){var t=c.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),f=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.a(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(o.b);s.a},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0),o=n(8),i=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.a(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(o.a)},function(t,e,n){"use strict";var r=n(0),o=n(1),i=n(8),s=n(2),a=n(9),u=(o.a,function(t){function e(e,n,r){var o=t.call(this,n)||this;return o.key=e,o.group=n,o.parent=r,o}return r.a(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this,e=t.parent,n=t.key;this.key=this.parent=null,e&&e.removeGroup(n)},e}(o.a)),c=function(t){function e(e,n,r){var o=t.call(this)||this;return o.key=e,o.groupSubject=n,o.refCountSubscription=r,o}return r.a(e,t),e.prototype._subscribe=function(t){var e=new i.a,n=this,r=n.refCountSubscription,o=n.groupSubject;return r&&!r.closed&&e.add(new l(r)),e.add(o.subscribe(t)),e},e}(s.a),l=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,e.count++,n}return r.a(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(0),o=n(9),i=n(63),s=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return r.a(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(202),o=n(204),i=new o.a(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(0),o=n(1),i=n(64),s=function(t){function e(e,n,r){void 0===r&&(r=0);var o=t.call(this,e)||this;return o.scheduler=n,o.delay=r,o}return r.a(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new a(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(i.a.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()},e}(o.a),a=function(){function t(t,e){this.notification=t,this.destination=e}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(205),o=n(207),i=new o.a(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),o=r},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}e.a=r},function(t,e,n){"use strict";function r(){return Object(o.a)(1)}e.a=r;var o=n(89)},function(t,e,n){"use strict";function r(t,e){if(null!=t){if(Object(u.a)(t))return Object(o.a)(t,e);if(Object(c.a)(t))return Object(i.a)(t,e);if(Object(l.a)(t))return Object(s.a)(t,e);if(Object(f.a)(t)||"string"==typeof t)return Object(a.a)(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}e.a=r;var o=n(218),i=n(219),s=n(85),a=n(220),u=n(221),c=n(130),l=n(129),f=n(222)},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,u=t[t.length-1];return Object(i.a)(u)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof o.a?t[0]:Object(s.a)(n)(Object(a.a)(t,r))}e.a=r;var o=n(2),i=n(21),s=n(89),a=n(46)},function(t,e,n){"use strict";var r=n(2),o=n(62);o.a},function(t,e,n){"use strict";function r(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}e.a=r},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!Object(i.a)(t[0]))return t[0];t=t[0]}return Object(s.a)(t,void 0).lift(new c)}e.a=r;var o=n(0),i=n(11),s=n(46),a=n(3),u=n(4),c=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new l(t))},t}(),l=function(t){function e(e){var n=t.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return o.a(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],o=Object(u.a)(this,r,r,n);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,r,o){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==n){var s=this.subscriptions[i];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(a.a)},function(t,e,n){"use strict";function r(t,e,n){void 0===t&&(t=0);var r=-1;return Object(a.a)(e)?r=Number(e)<1&&1||Number(e):Object(u.a)(e)&&(n=e),Object(u.a)(n)||(n=s.a),new i.a(function(e){var i=Object(a.a)(t)?t:+t-n.now();return n.schedule(o,i,{index:0,period:r,subscriber:e})})}function o(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}e.a=r;var i=n(2),s=n(12),a=n(68),u=n(21)},function(t,e,n){"use strict";function r(t){return function e(n){return n.lift(new a(t))}}e.a=r;var o=n(0),i=n(3),s=n(4),a=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.durationSelector))},t}(),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r}return o.a(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(t){return this.destination.error(t)}var n=Object(s.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},e.prototype.clearThrottle=function(){var t=this,e=t.value,n=t.hasValue,r=t.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),n&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e.prototype.notifyNext=function(t,e,n,r){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(i.a)},function(t,e,n){"use strict";function r(t,e){return Object(o.a)(t,e,1)}e.a=r;var o=n(50)},function(t,e,n){"use strict";function r(t){return t instanceof Date&&!isNaN(+t)}e.a=r},function(t,e,n){"use strict";function r(t,e){return function(n){return n.lift(new s(t,e))}}e.a=r;var o=n(0),i=n(1),s=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.compare,this.keySelector))},t}(),a=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.keySelector=r,o.hasKey=!1,"function"==typeof n&&(o.compare=n),o}return o.a(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(t){return this.destination.error(t)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(t){return this.destination.error(t)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0),o=n(1),i=function(){function t(t,e,n,r){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=r}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),s=function(t){function e(e,n,r,o,i){var s=t.call(this,e)||this;return s.predicate=n,s.source=r,s.yieldIndex=o,s.thisArg=i,s.index=0,s}return r.a(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete(),this.unsubscribe()},e.prototype._next=function(t){var e=this,n=e.predicate,r=e.thisArg,o=this.index++;try{n.call(r||this,t,o,this.source)&&this.notifyComplete(this.yieldIndex?o:t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(0),o=n(3),i=n(4),s={leading:!0,trailing:!1};o.a},function(t,e,n){"use strict";function r(t,e,n){return void 0===n&&(n=i.a),function(r){var o=Object(s.a)(t),i=o?+t-n.now():Math.abs(t);return r.lift(new c(i,o,e,n))}}e.a=r;var o=n(0),i=n(12),s=n(140),a=n(3),u=n(4),c=function(){function t(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),l=function(t){function e(e,n,r,o,i){var s=t.call(this,e)||this;return s.absoluteTimeout=n,s.waitFor=r,s.withObservable=o,s.scheduler=i,s.action=null,s.scheduleTimeout(),s}return o.a(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(Object(u.a)(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},e}(a.a)},function(t,e,n){"use strict";function r(t,e){return new Promise(function(n,r){!function(t,e,r,o){if(!t.fbq){var i=t.fbq=function(){i.callMethod?i.callMethod.apply(i,arguments):i.queue.push(arguments)};t._fbq||(t._fbq=i),i.push=i,i.loaded=!0,i.version="2.0",i.queue=[];var s=e.createElement(r);s.async=!0,s.src="https://connect.facebook.net/en_US/fbevents.js";var a=e.getElementsByTagName(r)[0];s.addEventListener("load",function(){n(t.fbq)}),a.parentNode.insertBefore(s,a)}}(t,e,"script")})}e.a=r},function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n(6),o=n(319),i=this&&this.__awaiter||function(t,e,n,r){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?n(t.value):o(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},a={id:"",birthday:{month:null,year:null},gender:null,relationshipStatus:null,userNameOnlyForAnonymizingTheHTMLDoNotSend:null,locale:null,stateOrCountry:null},u=function(){function t(t,e,n){var r=this;this.fetchText=t,this.log=e,this.trafficRegisterFunction=n,this._currentRequestPromise=null,this.metadataFetched=function(t){return r.available.set(t.id,t),r._currentRequestPromise=null,t},this.metadataFetchFailed=function(t){r._currentRequestPromise=null,r.log.error(t)},this.available=new Map,this.currentRequestPromise.then()}return t.prototype.getInterests=function(){return i(this,void 0,void 0,function(){var t,e;return s(this,function(n){switch(n.label){case 0:return[4,this.getCurrentUserId()];case 1:return t=n.sent(),[4,Object(o.b)(this.fetchText)];case 2:return e=n.sent(),[2,{id:t,interests:e}]}})})},Object.defineProperty(t.prototype,"currentRequestPromise",{get:function(){var t=this;return this._currentRequestPromise instanceof Promise||(this._currentRequestPromise=Object(o.a)(this.fetchText,this.trafficRegisterFunction).catch(function(e){return Object(r.C)(500).then(function(){return Object(o.a)(t.fetchText,t.trafficRegisterFunction)})}),this._currentRequestPromise.then(this.metadataFetched,this.metadataFetchFailed)),this._currentRequestPromise},enumerable:!0,configurable:!0}),t.prototype.getCurrentUserId=function(){for(var t=this.available.values(),e=t.next();!e.done;)e=t.next();return void 0!==e.value?Promise.resolve(e.value.id):this.currentRequestPromise.then(function(t){return t.id})},t.prototype.getForUser=function(t){return this.available.has(t)?Promise.resolve(this.available.get(t)):this.currentRequestPromise.then(function(e){if(e.id===t)return e;throw new Error("The loggedin user is not the one that the metadata asked for. cant provide metadata")})},t}()},function(t,e,n){"use strict";function r(t,e){return Math.min(t,e)}function o(t,e){return Math.pow(2,t)*e}e.b=r,e.a=o},function(t,e,n){"use strict";function r(t,e,n,r,o,i,s,a){t("set","dimension1",r),t("set","dimension2",""),t("set","dimension3",i),t("set","dimension4",e),s&&t("set","dimension5",s),t("set","dimension6",o),a&&t("set","dimension7",a),t("set","dimension8",n)}e.a=r},function(t,e,n){"use strict";t.exports=function t(e,n){return function t(){for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];return e.apply(n,r)}}},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function i(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function s(){_&&p&&(_=!1,p.length?d=p.concat(d):v=-1,d.length&&a())}function a(){if(!_){var t=o(s);_=!0;for(var e=d.length;e;){for(p=d,d=[];++v<e;)p&&p[v].run();v=-1,e=d.length}p=null,_=!1,i(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,f,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var p,d=[],_=!1,v=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||_||o(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){"use strict";(function(e){var r=n(17),o=n(344),i=n(346),s=n(347),a=n(348),u=n(152),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(349);t.exports=function t(l){return new Promise(function t(f,h){var p=l.data,d=l.headers;r.isFormData(p)&&delete d["Content-Type"];var _=new XMLHttpRequest,v="onreadystatechange",b=!1;if("test"===e.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in _||a(l.url)||(_=new window.XDomainRequest,v="onload",b=!0,_.onprogress=function t(){},_.ontimeout=function t(){}),l.auth){var y=l.auth.username||"",m=l.auth.password||"";d.Authorization="Basic "+c(y+":"+m)}if(_.open(l.method.toUpperCase(),i(l.url,l.params,l.paramsSerializer),!0),_.timeout=l.timeout,_[v]=function t(){if(_&&(4===_.readyState||b)&&(0!==_.status||_.responseURL&&0===_.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in _?s(_.getAllResponseHeaders()):null,n=l.responseType&&"text"!==l.responseType?_.response:_.responseText,r={data:n,status:1223===_.status?204:_.status,statusText:1223===_.status?"No Content":_.statusText,headers:e,config:l,request:_};o(f,h,r),_=null}},_.onerror=function t(){h(u("Network Error",l,null,_)),_=null},_.ontimeout=function t(){h(u("timeout of "+l.timeout+"ms exceeded",l,"ECONNABORTED",_)),_=null},r.isStandardBrowserEnv()){var g=n(350),w=(l.withCredentials||a(l.url))&&l.xsrfCookieName?g.read(l.xsrfCookieName):void 0;w&&(d[l.xsrfHeaderName]=w)}if("setRequestHeader"in _&&r.forEach(d,function t(e,n){void 0===p&&"content-type"===n.toLowerCase()?delete d[n]:_.setRequestHeader(n,e)}),l.withCredentials&&(_.withCredentials=!0),l.responseType)try{_.responseType=l.responseType}catch(t){if("json"!==l.responseType)throw t}"function"==typeof l.onDownloadProgress&&_.addEventListener("progress",l.onDownloadProgress),"function"==typeof l.onUploadProgress&&_.upload&&_.upload.addEventListener("progress",l.onUploadProgress),l.cancelToken&&l.cancelToken.promise.then(function t(e){_&&(_.abort(),h(e),_=null)}),void 0===p&&(p=null),_.send(p)})}}).call(e,n(150))},function(t,e,n){"use strict";var r=n(345);t.exports=function t(e,n,o,i,s){var a=new Error(e);return r(a,n,o,i,s)}},function(t,e,n){"use strict";t.exports=function t(e){return!(!e||!e.__CANCEL__)}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function t(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";function r(t){return new u.c(function(e){var n=function(t){"install"===t.reason?e.next("install"):"update"===t.reason?e.next("update"):e.next("env_update")};return t.addListener(n),function e(){t.removeListener(n)}})}function o(t){var e=["NewSponsoredPost","NotifyUser","Post","Analytics","Interaction","Config","IsBackgroundReady","NewPromotedTweet","AmazonProduct","AmazonSponsored","LinkedInSponsored","FacebookNewFeedUi","AdBlockerStatus","Navigation"];return new u.c(function(n){var r=function(t,r,o){return-1!==e.indexOf(t.type)&&(n.next(t),!1)};return t.runtime.onMessage.addListener(r),function e(){t.runtime.onMessage.removeListener(r)}})}function i(t,e,n){return function r(o,i,a){if(t.shouldShowNotifications){var u={title:a||s(),message:o,type:"basic",iconUrl:i||n};e.notifications.create(null,u,null)}}}function s(){return chrome.runtime.getManifest().name}function a(t,e,n){var r,o,i,s,a=Object(c.p)(),u=new Set(a&&a<72?["extraHeaders"]:[]);return null===(i=null===(o=null===(r=chrome)||void 0===r?void 0:r.webRequest)||void 0===o?void 0:o.onBeforeSendHeaders)||void 0===i||i.addListener(t,e,null===(s=n)||void 0===s?void 0:s.filter(function(t){return!u.has(t)})),function(){var e,n,r;null===(r=null===(n=null===(e=chrome)||void 0===e?void 0:e.webRequest)||void 0===n?void 0:n.onBeforeSendHeaders)||void 0===r||r.removeListener(t)}}n.d(e,"a",function(){return l}),e.b=a;var u=n(7),c=n(6),l=function(){function t(t,e,n,s,a){this.chromeEnv=t,this.storage=e,this.iconPath=n,this.updateEventHandler=s,this.log=a,this.auditEvents=new u.d,this.envEvents=r(s),this.createNotification=i(this.storage,this.chromeEnv,this.iconPath),this.crossMessage=o(this.chromeEnv)}return t.prototype.hideOrigin=function(t,e){var n=this;Object(c.p)();a(function(t){if(t.requestHeaders){for(var r=0,o=t.requestHeaders;r<o.length;r++){var i=o[r];i.value&&"Origin"===i.name&&i.value.match(n.chromeEnv.extension.getURL("/"))&&(n.log.info("Request to "+t.url+" Change origin from "+i.value+" to https://www.facebook.com"),i.value=e,!0)}t.requestHeaders.push({name:"Origin",value:e})}return{requestHeaders:t.requestHeaders}},{urls:[t]},["blocking","requestHeaders","extraHeaders"])},t.prototype.sendMessageToContent=function(t){var e=this;this.chromeEnv.tabs.query({},function(n){for(var r=0,o=n;r<o.length;r++){var i=o[r].id;i&&e.chromeEnv.tabs.sendMessage(i,t)}})},t.prototype.getAllCookies=function(t){var e=this;return new Promise(function(n){e.chromeEnv.cookies.getAll(t,n)})},t.prototype.onConfigRequest=function(t){var e=this,n=function(e,n,r){return"Config"===e.type&&r(t()),!1};return this.chromeEnv.runtime.onMessage.addListener(n),function(){e.chromeEnv.runtime.onMessage.removeListener(n)}},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(7),o=n(19),i="undefined"!=typeof chrome&&chrome?{tabs:chrome.tabs&&{query:chrome.tabs.query&&Object(r.f)(chrome.tabs.query),onCreated:chrome.tabs.onCreated&&Object(r.j)(function(t){return chrome.tabs.onCreated.addListener(t)},function(t){return chrome.tabs.onCreated.removeListener(t)}).pipe(Object(o.k)(function(t){return{tab:t[0]}})),onUpdated:chrome.tabs.onUpdated&&Object(r.j)(function(t){return chrome.tabs.onUpdated.addListener(t)},function(t){return chrome.tabs.onUpdated.removeListener(t)}).pipe(Object(o.k)(function(t){return{tabId:t[0],changeInfo:t[1],tab:t[2]}}))},browserAction:chrome.browserAction&&{onClicked:chrome.browserAction.onClicked&&Object(r.j)(function(t){return chrome.browserAction.onClicked.addListener(t)},function(t){return chrome.browserAction.onClicked.removeListener(t)}).pipe(Object(o.k)(function(t){return{tab:t[0]}}))}}:null},function(t,e){function n(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}function r(t,e,n,r){return JSON.stringify(t,i(e,r),n)}function o(t){var e={stack:t.stack,message:t.message,name:t.name};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function i(t,e){var r=[],i=[];return null==e&&(e=function(t,e){return r[0]===e?"[Circular ~]":"[Circular ~."+i.slice(0,n(r,e)).join(".")+"]"}),function(s,a){if(r.length>0){var u=n(r,this);~u?r.splice(u+1):r.push(this),~u?i.splice(u,1/0,s):i.push(s),~n(r,a)&&(a=e.call(this,s,a))}else r.push(a);return null==t?a instanceof Error?o(a):a:t.call(this,s,a)}}e=t.exports=r,e.getSerialize=i},function(t,e,n){"use strict";var r=function(){function t(t){this.chromeEnv=t,this._getConfigPromise=null,this._backgroundReady=null}return t.prototype.sendMessageToBackground=function(t){this.chromeEnv.runtime.sendMessage(t)},t.prototype.getConfig=function(){var t=this;return null===this._getConfigPromise&&(this._getConfigPromise=new Promise(function(e,n){t.chromeEnv.runtime.sendMessage({type:"Config"},function(t){e(t)})})),this._getConfigPromise},t.prototype.highlightPost=function(t){},Object.defineProperty(t.prototype,"backgroundReady",{get:function(){var t=this;return null===this._backgroundReady&&(this._backgroundReady=new Promise(function(e,n){var r=function(n){n&&"background-ready"===n.type&&(t.chromeEnv.runtime.onMessage.removeListener(r),e())};t.chromeEnv.runtime.onMessage.addListener(r),t.sendMessageToBackground({type:"IsBackgroundReady",payload:{}})})),this._backgroundReady},enumerable:!0,configurable:!0}),t.sendMessageToBackground=function(t,e){t.runtime.sendMessage(e)},t}();e.a=r},function(t,e,n){var r=n(160),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},function(t,e,n){var r=n(18),o=n(102),i=r["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},function(t,e,n){var r=n(28),o=n(14),i=n(162);t.exports=!r&&!o(function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(18),o=n(29),i=r.document,s=o(i)&&o(i.createElement);t.exports=function(t){return s?i.createElement(t):{}}},function(t,e,n){var r=n(105),o=n(160);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.1",mode:r?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){"use strict";var r=n(5),o=n(394),i=n(171),s=n(400),a=n(174),u=n(39),c=n(167),l=n(13),f=n(105),h=n(55),p=n(170),d=p.IteratorPrototype,_=p.BUGGY_SAFARI_ITERATORS,v=l("iterator"),b=function(){return this};t.exports=function(t,e,n,l,p,y,m){o(n,e,l);var g,w,S,x=function(t){if(t===p&&I)return I;if(!_&&t in E)return E[t];switch(t){case"keys":return function e(){return new n(this,t)};case"values":return function e(){return new n(this,t)};case"entries":return function e(){return new n(this,t)}}return function(){return new n(this)}},O=e+" Iterator",k=!1,E=t.prototype,j=E[v]||E["@@iterator"]||p&&E[p],I=!_&&j||x(p),T="Array"==e?E.entries||j:j;if(T&&(g=i(T.call(new t)),d!==Object.prototype&&g.next&&(f||i(g)===d||(s?s(g,d):"function"!=typeof g[v]&&u(g,v,b)),a(g,O,!0,!0),f&&(h[O]=b))),"values"==p&&j&&"values"!==j.name&&(k=!0,I=function t(){return j.call(this)}),f&&!m||E[v]===I||u(E,v,I),h[e]=I,p)if(w={values:x("values"),keys:y?I:x("keys"),entries:x("entries")},m)for(S in w)!_&&!k&&S in E||c(E,S,w[S]);else r({target:e,proto:!0,forced:_||k},w);return w}},function(t,e,n){var r=n(28),o=n(388),i=n(71),s=n(31),a=n(103),u=n(25),c=n(161),l=Object.getOwnPropertyDescriptor;e.f=r?l:function t(e,n){if(e=s(e),n=a(n,!0),c)try{return l(e,n)}catch(t){}if(u(e,n))return i(!o.f.call(e,n),e[n])}},function(t,e,n){var r=n(18),o=n(39),i=n(25),s=n(102),a=n(159),u=n(101),c=u.get,l=u.enforce,f=String(String).split("String");(t.exports=function(t,e,n,a){var u=!!a&&!!a.unsafe,c=!!a&&!!a.enumerable,h=!!a&&!!a.noTargetGet;if("function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),l(n).source=f.join("string"==typeof e?e:"")),t===r)return void(c?t[e]=n:s(e,n));u?!h&&t[e]&&(c=!0):delete t[e],c?t[e]=n:o(t,e,n)})(Function.prototype,"toString",function t(){return"function"==typeof this&&c(this).source||a(this)})},function(t,e,n){var r=n(18);t.exports=r},function(t,e,n){var r=n(25),o=n(31),i=n(108).indexOf,s=n(106);t.exports=function(t,e){var n,a=o(t),u=0,c=[];for(n in a)!r(s,n)&&r(a,n)&&c.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){"use strict";var r,o,i,s=n(171),a=n(39),u=n(25),c=n(13),l=n(105),f=c("iterator"),h=!1,p=function(){return this};[].keys&&(i=[].keys(),"next"in i?(o=s(s(i)))!==Object.prototype&&(r=o):h=!0),void 0==r&&(r={}),l||u(r,f)||a(r,f,p),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},function(t,e,n){var r=n(25),o=n(15),i=n(104),s=n(395),a=i("IE_PROTO"),u=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=o(t),r(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,n){var r=n(14);t.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(t,e,n){var r,o=n(40),i=n(397),s=n(109),a=n(106),u=n(399),c=n(162),l=n(104),f=l("IE_PROTO"),h=function(){},p=function(t){return"<script>"+t+"<\/script>"},d=function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e},_=function(){var t,e=c("iframe");return e.style.display="none",u.appendChild(e),e.src=String("javascript:"),t=e.contentWindow.document,t.open(),t.write(p("document.F=Object")),t.close(),t.F},v=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}v=r?d(r):_();for(var t=s.length;t--;)delete v.prototype[s[t]];return v()};a[f]=!0,t.exports=Object.create||function t(e,n){var r;return null!==e?(h.prototype=o(e),r=new h,h.prototype=null,r[f]=e):r=v(),void 0===n?r:i(r,n)}},function(t,e,n){var r=n(24).f,o=n(25),i=n(13),s=i("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,s)&&r(t,s,{configurable:!0,value:e})}},function(t,e,n){var r,o,i=n(18),s=n(413),a=i.process,u=a&&a.versions,c=u&&u.v8;c?(r=c.split("."),o=r[0]+r[1]):s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(o=r[1]),t.exports=o&&+o},function(t,e,n){"use strict";var r=n(32),o=n(10),i=n(110),s=function(t,e,n,a,u,c,l,f){for(var h,p=u,d=0,_=!!l&&i(l,f,3);d<a;){if(d in n){if(h=_?_(n[d],d,e):n[d],c>0&&r(h))p=s(t,e,h,o(h.length),p,c-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[p]=h}p++}d++}return p};t.exports=s},function(t,e,n){var r=n(74),o=n(15),i=n(72),s=n(10),a=function(t){return function(e,n,a,u){r(n);var c=o(e),l=i(c),f=s(c.length),h=t?f-1:0,p=t?-1:1;if(a<2)for(;;){if(h in l){u=l[h],h+=p;break}if(h+=p,t?h<0:f<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:f>h;h+=p)h in l&&(u=n(u,l[h],h,c));return u}};t.exports={left:a(!1),right:a(!0)}},function(t,e,n){"use strict";var r=n(338);n.d(e,"a",function(){return r.a});n(339)},function(t,e,n){t.exports=n(340)},function(t,e,n){"use strict";var r=(n(111),n(191));n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=function a(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,u=r(t),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)i.call(n,l)&&(u[l]=n[l]);if(o){a=o(n);for(var f=0;f<a.length;f++)s.call(n,a[f])&&(u[a[f]]=n[a[f]])}}return u}},function(t,e,n){"use strict";function r(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),o=t.slice(e);return Array.prototype.concat.call([],r(n),r(o))}function o(t){try{return decodeURIComponent(t)}catch(o){for(var e=t.match(s),n=1;n<e.length;n++)t=r(e,n).join(""),e=t.match(s);return t}}function i(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},n=a.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var r=o(n[0]);r!==n[0]&&(e[n[0]]=r)}n=a.exec(t)}e["%C2"]="�";for(var i=Object.keys(e),s=0;s<i.length;s++){var u=i[s];t=t.replace(new RegExp(u,"g"),e[u])}return t}var s=new RegExp("%[a-f0-9]{2}","gi"),a=new RegExp("(%[a-f0-9]{2})+","gi");t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return i(t)}}},function(t,e,n){"use strict";var r=function(){function t(){}return t.salted_hash=function(e,n){return t.hash(n+e)},t.hash=function(e){e=this.utf8Encode(e);var n=[1518500249,1859775393,2400959708,3395469782];e+=String.fromCharCode(128);var r,o=e.length/4+2,i=Math.ceil(o/16),s=new Array(i);for(r=0;r<i;r++){s[r]=new Array(16);for(var a=0;a<16;a++)s[r][a]=e.charCodeAt(64*r+4*a)<<24|e.charCodeAt(64*r+4*a+1)<<16|e.charCodeAt(64*r+4*a+2)<<8|e.charCodeAt(64*r+4*a+3)}s[i-1][14]=8*(e.length-1)/Math.pow(2,32),s[i-1][14]=Math.floor(s[i-1][14]),s[i-1][15]=8*(e.length-1)&4294967295;var u,c,l,f,h,p=1732584193,d=4023233417,_=2562383102,v=271733878,b=3285377520,y=new Array(80);for(r=0;r<i;r++){var m;for(m=0;m<16;m++)y[m]=s[r][m];for(m=16;m<80;m++)y[m]=t.rotl(y[m-3]^y[m-8]^y[m-14]^y[m-16],1);for(u=p,c=d,l=_,f=v,h=b,m=0;m<80;m++){var g=Math.floor(m/20),w=t.rotl(u,5)+t.f(g,c,l,f)+h+n[g]+y[m]&4294967295;h=f,f=l,l=t.rotl(c,30),c=u,u=w}p=p+u&4294967295,d=d+c&4294967295,_=_+l&4294967295,v=v+f&4294967295,b=b+h&4294967295}return t.toHexStr(p)+t.toHexStr(d)+t.toHexStr(_)+t.toHexStr(v)+t.toHexStr(b)},t.f=function(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}throw new TypeError("Something was wrong with the input")},t.rotl=function(t,e){return t<<e|t>>>32-e},t.toHexStr=function(t){for(var e,n="",r=7;r>=0;r--)e=t>>>4*r&15,n+=e.toString(16);return n},t.utf8Encode=function(t){return window.unescape(encodeURIComponent(t))},t.utf8Decode=function(t){return window.decodeURIComponent(window.escape(t))},t}();e.a=r},function(t,e,n){"use strict";function r(t){for(var e=[],n=t;n.length>0;){var r=n.indexOf("{");if(-1===r)break;var i=Object(o.a)(n,r),s=n.slice(r,i+1);e.push(JSON.parse(s)),n=n.slice(i+1)}return e}e.a=r;var o=n(115)},function(t,e,n){"use strict";function r(t,e,n){for(var r=0,o=t;r<o.length;r++){var i=o[r],s=e(i);if(void 0!==s)return s}return n}e.a=r},function(t,e,n){"use strict";function r(t,e){var n=new Set(t.map(e));return Array.from(n).map(function(n){return t.find(function(t){return e(t)===n})})}e.a=r},function(t,e,n){"use strict";function r(t){void 0===t&&(t=navigator.userAgent);var e=t.match(/Chrome\/(\d+)/);return e&&parseInt(e[1],10)||null}e.a=r},function(t,e,n){"use strict";function r(){return Math.random().toString(16)}e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=["h5._1qbu._14f3._14f5._5pbw._5vra","input[name=fb_dtsg]"]},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(75),o=n(111),i=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getCache=function(e,n){return t.prototype.getCache.call(this,e,n)},e.prototype.isStorySponsoredImpl=function(t,e){return Array.from(t.querySelectorAll("span")).some(function(t){return null!==t.textContent&&e.indexOf(t.textContent)>-1})},e.prototype.getNewCache=function(t,e){return new o.a(t,this.log,e)},e.prototype.getNestingType=function(t,e){return this.getCache(t,e).nestType},e.prototype.getEntId=function(t,e){return this.getCache(t,e).entId},e.prototype.parseRegularStory=function(t,e){return{fb_post_entity_id:this.getEntId(t,e),fb_post_text:this.extractFirstPostInStoryText(t),parser_type:"mobile",parser_version:this.extensionVersion}},e.prototype.parseSponsoredFeedStory=function(t,e){var n,r,o=this.getCache(t,e),i=o.storyType,s=o.fb_post_img_url,a=null,u=o.entId,c=o.fb_post_app_pretty_name,l=o.fb_post_app_id,f=o.fb_post_app_thumbnail_url,h=o.fb_post_advertiser_page_id,p=o.fb_post_advertiser_page_entity_id,d=o.fb_post_advertiser_page_pretty_name,_=o.fb_post_advertiser_thumbnail_url,v=o.fb_post_actionlink_url,b=o.fb_post_call_to_action_url,y=o.fb_post_call_to_action_text,m=o.fb_post_carousel_info;"gif"===i?(n=this.parseGifFields(o._article),a=n.videoUrl,s=n.previewImageUrl):"video"===i&&(r=this.parseVideoFields(o._article),a=r.videoUrl,s=r.previewImageUrl);this.getLocale();return{fb_post_actionlink_url:v,fb_post_src:null,fb_post_text:this.extractFirstPostInStoryText(o._article),fb_post_type:i,fb_post_img_url:s,fb_post_video_url:a,fb_post_engage_sad:null,fb_post_engage_wow:null,fb_post_entity_id:u,fb_post_engage_haha:null,fb_post_engage_like:null,fb_post_engage_love:null,fb_post_video_views:null,fb_post_this_video_views:null,fb_post_engage_angry:null,fb_post_engage_shares:null,fb_post_engage_comments:null,fb_post_advertiser_page_id:h,fb_post_advertiser_page_entity_id:p,fb_post_call_to_action_url:b,fb_post_call_to_action_text:y,fb_post_advertiser_thumbnail_url:_,fb_post_advertiser_page_pretty_name:d,fb_post_app_pretty_name:c,fb_post_app_id:l,fb_post_app_thumbnail_url:f,fb_post_carousel_info:m,fb_post_caption:null,fb_post_attachment_description:null,fb_post_attachment_title:null,parser_type:"mobile",parser_version:this.extensionVersion}},e}(r.j)},function(t,e,n){"use strict";var r=n(193);n.d(e,"i",function(){return r.a}),n.d(e,"j",function(){return r.b}),n.d(e,"k",function(){return r.c}),n.d(e,"m",function(){return r.d}),n.d(e,"n",function(){return r.e}),n.d(e,"o",function(){return r.f}),n.d(e,"p",function(){return r.g}),n.d(e,"q",function(){return r.h}),n.d(e,"r",function(){return r.i}),n.d(e,"s",function(){return r.j});var o=n(75);n.d(e,"a",function(){return o.a}),n.d(e,"b",function(){return o.b}),n.d(e,"c",function(){return o.c}),n.d(e,"d",function(){return o.d}),n.d(e,"e",function(){return o.e}),n.d(e,"f",function(){return o.f}),n.d(e,"g",function(){return o.g}),n.d(e,"h",function(){return o.h}),n.d(e,"l",function(){return o.j})},function(t,e,n){"use strict";var r=n(77);n.d(e,"g",function(){return r.a}),n.d(e,"h",function(){return r.g}),n.d(e,"i",function(){return r.h}),n.d(e,"j",function(){return r.i});var o=n(194);n.d(e,"a",function(){return o.a}),n.d(e,"c",function(){return o.b}),n.d(e,"d",function(){return o.c});var i=n(195);n.d(e,"b",function(){return i.a});var s=n(199);n.d(e,"e",function(){return s.a}),n.d(e,"f",function(){return s.b})},function(t,e,n){"use strict";function r(t){return t.querySelector(i)?"old":t.querySelector(o)?"new":null}n.d(e,"a",function(){return o}),n.d(e,"b",function(){return i}),e.c=r;var o="div#mount_0_0",i="#pagelet_bluebar"},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(6),o=n(77),i=n(196),s=n(198),a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=this&&this.__assign||function(){return u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},u.apply(this,arguments)},c=function(){function t(t,e){if(this.log=t,!t)throw new Error("You can't start a parser without a logger!");this.parserVersion="4."+e.split(".").slice(1).join(".")}return t.prototype.anonymizeEdge=function(t){return Object(i.a)(t)},t.prototype.parseOrganicEdge=function(t){return u(u({},this.parseEdgeCommon(t)),{fb_post_is_public:Object(s.m)(t)})},t.prototype.parseSponsoredEdge=function(t){var e,n,r,o,i,a,c,l,f,h,p,d,_=this.parseEdgeCommon(t),v=this.getValueOrDefault(function(){return Object(s.r)(t)});return u(u({},_),{fb_post_call_to_action_text:this.getValueOrDefault(function(){return Object(s.h)(t)}),fb_post_call_to_action_url:this.getValueOrDefault(function(){return Object(s.i)(t)}),fb_post_actionlink_url:this.getValueOrDefault(function(){return Object(s.a)(t)}),fb_post_engage_haha:(n=null===(e=v)||void 0===e?void 0:e.HAHA,null!==n&&void 0!==n?n:null),fb_post_engage_wow:(o=null===(r=v)||void 0===r?void 0:r.WOW,null!==o&&void 0!==o?o:null),fb_post_engage_angry:(a=null===(i=v)||void 0===i?void 0:i.ANGRY,null!==a&&void 0!==a?a:null),fb_post_engage_like:(l=null===(c=v)||void 0===c?void 0:c.LIKE,null!==l&&void 0!==l?l:null),fb_post_engage_love:(h=null===(f=v)||void 0===f?void 0:f.LOVE,null!==h&&void 0!==h?h:null),fb_post_engage_sad:(d=null===(p=v)||void 0===p?void 0:p.SAD,null!==d&&void 0!==d?d:null),fb_post_engage_comments:this.getValueOrDefault(function(){return Object(s.k)(t)}),fb_post_attachment_description:this.getValueOrDefault(function(){return Object(s.f)(t)}),fb_post_advertiser_page_pretty_name:this.getValueOrDefault(function(){return Object(s.d)(t)}),fb_post_advertiser_page_id:this.getValueOrDefault(function(){return Object(s.c)(t)}),fb_post_caption:this.getValueOrDefault(function(){return Object(s.n)(t)}),fb_post_src:null,fb_post_engage_shares:this.getValueOrDefault(function(){return Object(s.s)(t)}),fb_post_video_url:this.getValueOrDefault(function(){return Object(s.u)(t)}),fb_post_video_url_hd:this.getValueOrDefault(function(){return Object(s.t)(t)}),fb_post_carousel_info:this.getValueOrDefault(function(){var e,n;return n=null===(e=Object(s.j)(t))||void 0===e?void 0:e.map(function(t){return{fb_post_carousel_text:t.text,fb_post_carousel_img_url:t.img_url,fb_post_carousel_actionlink_url:t.actionlink_url}}),null!==n&&void 0!==n?n:null}),fb_post_type:this.getValueOrDefault(function(){return Object(s.q)(t)},"unknown"),fb_post_video_views:this.getValueOrDefault(function(){return Object(s.v)(t)}),fb_post_attachment_title:this.getValueOrDefault(function(){return Object(s.g)(t)}),fb_post_img_url:this.getValueOrDefault(function(){return Object(s.l)(t)}),fb_post_advertiser_page_entity_id:this.getValueOrDefault(function(){return Object(s.b)(t)}),fb_post_advertiser_thumbnail_url:this.getValueOrDefault(function(){return Object(s.e)(t)}),fb_post_app_id:null,fb_post_app_pretty_name:null,fb_post_app_thumbnail_url:null,fb_post_this_video_views:null})},t.prototype.tryParseFeedPage=function(t){return"string"==typeof t&&(!!t.includes("$CometNewsFeed_viewer_news_feed")&&Object(r.r)(t))},t.prototype.tryParseEngagementInteractionResponse=function(t){if(!t)return!1;if("string"!=typeof t||"object"!=typeof t)return!1;try{var e="string"==typeof t?JSON.parse(t):t;if(Object(o.e)(e))return e}catch(t){return!1}return!1},t.prototype.parseEdgeCommon=function(t){var e=this.getValueOrDefault(function(){return Object(s.o)(t)});if(!e)throw new l("Couldn't get post entity id for edge",t);try{return{parser_type:"desktop-v2",parser_version:this.parserVersion,fb_post_text:this.getValueOrDefault(function(){return Object(s.p)(t)}),fb_post_entity_id:e}}catch(e){if(this.log.error("failed to parse common part of edge",t),e instanceof Error)throw new l(e.message,t);throw e}},t.prototype.getValueOrDefault=function(t,e){void 0===e&&(e=null);try{return t()}catch(t){return this.log.error("[New Facebook UI] Failed to parse value in edge",t),e}},t}(),l=function(t){function e(n,r){var o=t.call(this,n)||this;return o.edge=r,Object.setPrototypeOf(o,e.prototype),o}return a(e,t),e}(Error)},function(t,e,n){"use strict";function r(t){var e=t;return e&&"object"==typeof e&&"__typename"in e&&"User"===e.__typename}function o(t){var e=s.map(t,function(){r(this.node)&&this.update(a,!0);var t=/"(viewer|context_id)":(\d+)/gi;"string"==typeof this.node&&this.node.match(t)&&this.update(this.node.replace(t,"$1"+a.id))}),n=Object(i.E)(s.nodes(t).filter(r),function(t){return t.id}),o=n.flatMap(function(t){return[{searchValue:t.id,replaceValue:a.id},{searchValue:t.name,replaceValue:a.name},{searchValue:t.url,replaceValue:a.url}].filter(function(t){return t.searchValue})});return JSON.parse(o.reduce(function(t,e){var n=e.searchValue,r=e.replaceValue;return t.replace(new RegExp(n,"g"),r)},JSON.stringify(e)))}e.a=o;var i=n(6),s=n(197),a=(n.n(s),{__typename:"User",id:"123456789",name:"ANONYMIZED_NAME",url:"https://www.facebook.com/anonymized.name"})},function(t,e){function n(t){this.value=t}function r(t,e,n){var r=[],i=[],s=!0;return function t(a){function u(){if("object"==typeof h.node&&null!==h.node){h.keys&&h.node_===h.node||(h.keys=p(h.node)),h.isLeaf=0==h.keys.length;for(var t=0;t<i.length;t++)if(i[t].node_===a){h.circular=i[t];break}}else h.isLeaf=!0,h.keys=null;h.notLeaf=!h.isLeaf,h.notRoot=!h.isRoot}var c=n?o(a):a,l={},f=!0,h={node:c,node_:a,path:[].concat(r),parent:i[i.length-1],parents:i,key:r.slice(-1)[0],isRoot:0===r.length,level:r.length,circular:null,update:function(t,e){h.isRoot||(h.parent.node[h.key]=t),h.node=t,e&&(f=!1)},delete:function(t){delete h.parent.node[h.key],t&&(f=!1)},remove:function(t){d(h.parent.node)?h.parent.node.splice(h.key,1):delete h.parent.node[h.key],t&&(f=!1)},keys:null,before:function(t){l.before=t},after:function(t){l.after=t},pre:function(t){l.pre=t},post:function(t){l.post=t},stop:function(){s=!1},block:function(){f=!1}};if(!s)return h;u();var b=e.call(h,h.node);return void 0!==b&&h.update&&h.update(b),l.before&&l.before.call(h,h.node),f?("object"!=typeof h.node||null===h.node||h.circular||(i.push(h),u(),_(h.keys,function(e,o){r.push(e),l.pre&&l.pre.call(h,h.node[e],e);var i=t(h.node[e]);n&&v.call(h.node,e)&&(h.node[e]=i.node),i.isLast=o==h.keys.length-1,i.isFirst=0==o,l.post&&l.post.call(h,i),r.pop()}),i.pop()),l.after&&l.after.call(h,h.node),h):h}(t).node}function o(t){if("object"==typeof t&&null!==t){var e;if(d(t))e=[];else if(s(t))e=new Date(t.getTime?t.getTime():t);else if(a(t))e=new RegExp(t);else if(u(t))e={message:t.message};else if(c(t))e=new Boolean(t);else if(l(t))e=new Number(t);else if(f(t))e=new String(t);else if(Object.create&&Object.getPrototypeOf)e=Object.create(Object.getPrototypeOf(t));else if(t.constructor===Object)e={};else{var n=t.constructor&&t.constructor.prototype||t.__proto__||{},r=function(){};r.prototype=n,e=new r}return _(p(t),function(n){e[n]=t[n]}),e}return t}function i(t){return Object.prototype.toString.call(t)}function s(t){return"[object Date]"===i(t)}function a(t){return"[object RegExp]"===i(t)}function u(t){return"[object Error]"===i(t)}function c(t){return"[object Boolean]"===i(t)}function l(t){return"[object Number]"===i(t)}function f(t){return"[object String]"===i(t)}var h=t.exports=function(t){return new n(t)};n.prototype.get=function(t){for(var e=this.value,n=0;n<t.length;n++){var r=t[n];if(!e||!v.call(e,r)){e=void 0;break}e=e[r]}return e},n.prototype.has=function(t){for(var e=this.value,n=0;n<t.length;n++){var r=t[n];if(!e||!v.call(e,r))return!1;e=e[r]}return!0},n.prototype.set=function(t,e){for(var n=this.value,r=0;r<t.length-1;r++){var o=t[r];v.call(n,o)||(n[o]={}),n=n[o]}return n[t[r]]=e,e},n.prototype.map=function(t){return r(this.value,t,!0)},n.prototype.forEach=function(t){return this.value=r(this.value,t,!1),this.value},n.prototype.reduce=function(t,e){var n=1===arguments.length,r=n?this.value:e;return this.forEach(function(e){this.isRoot&&n||(r=t.call(this,r,e))}),r},n.prototype.paths=function(){var t=[];return this.forEach(function(e){t.push(this.path)}),t},n.prototype.nodes=function(){var t=[];return this.forEach(function(e){t.push(this.node)}),t},n.prototype.clone=function(){var t=[],e=[];return function n(r){for(var i=0;i<t.length;i++)if(t[i]===r)return e[i];if("object"==typeof r&&null!==r){var s=o(r);return t.push(r),e.push(s),_(p(r),function(t){s[t]=n(r[t])}),t.pop(),e.pop(),s}return r}(this.value)};var p=Object.keys||function t(e){var n=[];for(var r in e)n.push(r);return n},d=Array.isArray||function t(e){return"[object Array]"===Object.prototype.toString.call(e)},_=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n,t)};_(p(n.prototype),function(t){h[t]=function(e){var r=[].slice.call(arguments,1),o=new n(e);return o[t].apply(o,r)}});var v=Object.hasOwnProperty||function(t,e){return e in t}},function(t,e,n){"use strict";function r(t){var e=[function(t){var e;return null===(e=t.comet_sections.feedback)||void 0===e?void 0:e.story.feedback_context.feedback_target_with_context.top_level_comment_list_renderer.feedback.share_fbid},function(t){var e;return null===(e=t.comet_sections.feedback)||void 0===e?void 0:e.story.feedback_context.feedback_target_with_context.top_level_comment_list_renderer.feedback.subscription_target_id},function(t){var e;return null===(e=t.comet_sections.feedback)||void 0===e?void 0:e.story.feedback_context.feedback_target_with_context.share_fbid},function(t){var e;return null===(e=t.comet_sections.feedback)||void 0===e?void 0:e.story.feedback_context.feedback_target_with_context.subscription_target_id},function(t){if(t.comet_sections.feedback)try{return JSON.parse(t.comet_sections.feedback.story.feedback_context.feedback_target_with_context.top_level_comment_list_renderer.feedback.content_based_comment_list_renderer.feedback.mentions_datasource_js_constructor_args_json)[0].queryData.post_fbid}catch(t){return}},function(t){var e;if(null===(e=t.comet_sections.content.story.comet_sections.aggregated_stories)||void 0===e?void 0:e.story.interesting_substories)return Object(A.o)(t.comet_sections.content.story.comet_sections.aggregated_stories.story.interesting_substories.edges,function(t){return r(t)||void 0})}];return Object(A.o)(e,function(e){return e(t.node)},null)}function o(t){var e,n,r;return r=null===(n=null===(e=t.node.comet_sections.content.story.comet_sections.message)||void 0===e?void 0:e.story)||void 0===n?void 0:n.message.text,null!==r&&void 0!==r?r:null}function i(t){function e(t){return"attached_story"in t.story?e(t.story.attached_story):t.story}function n(t){return"everyone"===t.story.privacy_scope.icon_image.name}function r(t){if(t.story.comet_sections.audience)return n(t.story.comet_sections.audience)}var o=[function(t){return r(t.comet_sections.context_layout)},function(t){var o=t.attached_story||t.comet_sections.content.story.attached_story;if(o){var i=e(o);return"context_layout"in i.comet_sections?r(i.comet_sections.context_layout):n(i.comet_sections.audience)}}];try{return Object(A.o)(o,function(e){return e(t.node)})}catch(e){console.error("couldn't get isPublic for edge",t)}}function s(t){var e=t.reduce(function(t,e){return t.set(e.node.key,e.reaction_count),t},new Map),n=Object(A.D)(q).map(function(t){var n,r=t[0],o=t[1];return[r,(n=e.get(o),null!==n&&void 0!==n?n:null)]});return Object(A.v)(n)}function a(t){var e,n,r,o,i,a,u,c=null===(e=t.node.comet_sections.feedback)||void 0===e?void 0:e.story.feedback_context.feedback_target_with_context;return s((u=null===(r=null===(n=c)||void 0===n?void 0:n.top_reactions,a=null!==r&&void 0!==r?r:null===(i=null===(o=c)||void 0===o?void 0:o.comet_ufi_summary_and_actions_renderer)||void 0===i?void 0:i.feedback.top_reactions)||void 0===a?void 0:a.edges,null!==u&&void 0!==u?u:[]))}function u(t){var e;return(null===(e=t.node.comet_sections.feedback)||void 0===e?void 0:e.story.feedback_context.feedback_target_with_context.comment_count.total_count)||0}function c(t){var e;return(null===(e=t.node.comet_sections.context_layout.story.comet_sections.title.story.actors[0])||void 0===e?void 0:e.name)||null}function l(t){var e=[function(t){var e;return null===(e=t.comet_sections.context_layout.story.comet_sections.title.story.actors[0])||void 0===e?void 0:e.url},function(t){var e;return null===(e=t.comet_sections.context_layout.story.actors[0])||void 0===e?void 0:e.url}],n=Object(A.o)(e,function(e){return e(t.node)});if(!n)return null;var r=new URL(n).pathname.match(/\/?([^\/"]+)\/?/);return r?r[1]||null:null}function f(t){var e=[function(t){var e;return null===(e=t.comet_sections.context_layout.story.actors[0])||void 0===e?void 0:e.id},function(t){var e;return null===(e=t.comet_sections.context_layout.story.comet_sections.actor_photo.story.actors[0])||void 0===e?void 0:e.id},function(t){var e;return null===(e=t.comet_sections.context_layout.story.comet_sections.title.story.actors[0])||void 0===e?void 0:e.id},function(t){if(t.comet_sections.feedback)return t.comet_sections.feedback.story.feedback_context.feedback_target_with_context.top_level_comment_list_renderer.feedback.owning_profile.id},function(t){if(t.comet_sections.feedback)return t.comet_sections.feedback.story.feedback_context.feedback_target_with_context.top_level_comment_list_renderer.feedback.content_based_comment_list_renderer.feedback.owning_profile.id}];return Object(A.o)(e,function(e){return e(t.node)},null)}function h(t){var e=[function(t){var e,n,r,o=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.comet_footer_renderer;if(Object(L.b)(o))return null===(r=o.attachment.source)||void 0===r?void 0:r.text},function(t){var e,n,r,o=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(L.p)(o)&&(null===(r=o.attachment.cta_screen_renderer)||void 0===r?void 0:r.action_link)&&"link_display"in o.attachment.cta_screen_renderer.action_link)return o.attachment.cta_screen_renderer.action_link.link_display},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(L.m)(r))return Object(A.o)(r.attachment.subattachments,function(t){return t.cta_screen_renderer.action_link.link_display})},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(L.k)(r))return r.attachment.target.name},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(L.k)(r))return r.attachment.title}];return Object(A.o)(e,function(e){return e(t.node)},null)}function p(t){var e,n,r,o,i,s,a,u=null===(e=t.node.comet_sections.feedback)||void 0===e?void 0:e.story.feedback_context.feedback_target_with_context;return a=null===(r=null===(n=u)||void 0===n?void 0:n.share_count,s=null!==r&&void 0!==r?r:null===(i=null===(o=u)||void 0===o?void 0:o.comet_ufi_summary_and_actions_renderer)||void 0===i?void 0:i.feedback.share_count)||void 0===s?void 0:s.count,null!==a&&void 0!==a?a:0}function d(t){var e=[function(t){var e,n,r,o=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(L.o)(o))return null===(r=o.attachment.title_with_entities)||void 0===r?void 0:r.text},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.comet_footer_renderer;if(Object(L.b)(r))return r.attachment.title_with_entities.text},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.comet_footer_renderer;if(Object(L.c)(r))return Object(A.o)(r.attachment.action_links,E)},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(L.k)(r))return r.attachment.target.name},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(L.k)(r))return r.attachment.title}];return Object(A.o)(e,function(e){return e(t.node)},null)}function _(t){var e=[function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.comet_footer_renderer;if(Object(L.b)(r))return r.attachment.description.text},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.comet_footer_renderer;if(Object(L.c)(r))return Object(A.o)(r.attachment.action_links,j)},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(L.k)(r))return r.attachment.description.text}];return Object(A.o)(e,function(e){return e(t.node)},null)}function v(t){var e=[function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.comet_footer_renderer;if(Object(L.b)(r)&&r.attachment.call_to_action_renderer)return E(r.attachment.call_to_action_renderer.action_link)},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(L.p)(r)&&r.attachment.cta_screen_renderer)return E(r.attachment.cta_screen_renderer.action_link)},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(L.m)(r))return Object(A.o)(r.attachment.subattachments,function(t){return E(t.call_to_action_renderer.action_link)})},function(t){var e,n,r,o=null===(r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.comet_footer_renderer)||void 0===r?void 0:r.attachment.story_attachment_link_renderer.attachment.action_links;if(o)return Object(A.o)(o,E)}];return Object(A.o)(e,function(e){return e(t.node)},null)}function b(t){var e=[function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.comet_footer_renderer;if(Object(L.b)(r))return r.attachment.target.external_url},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(L.p)(r)&&r.attachment.cta_screen_renderer){var o=I(r.attachment.cta_screen_renderer.action_link);if(o)return Object(P.a)(o)}},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(L.m)(r))return Object(A.o)(r.attachment.subattachments,function(t){var e=I(t.call_to_action_renderer.action_link);if(e)return Object(P.a)(e)})},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(L.k)(r))return r.attachment.url},function(t){var e,n,r,o=null===(r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.comet_footer_renderer)||void 0===r?void 0:r.attachment.story_attachment_link_renderer.attachment.action_links;if(o)return Object(A.o)(o,I)}];return Object(A.o)(e,function(e){return e(t.node)},null)}function y(t){var e=[function(t){var e,n,r,o=null===(r=null===(n=null===(e=t.comet_sections.content.story.comet_sections.message)||void 0===e?void 0:e.story)||void 0===n?void 0:n.message.ranges[0])||void 0===r?void 0:r.entity;if(Object(L.d)(o))return o.external_url},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.comet_footer_renderer;if(Object(L.b)(r))return r.attachment.target.external_url},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(L.p)(r)&&r.attachment.cta_screen_renderer){var o=I(r.attachment.cta_screen_renderer.action_link);if(o)return Object(P.a)(o)}}];return Object(A.o)(e,function(e){return e(t.node)},null)}function m(t){var e=[function(t){var e,n;return null===(n=null===(e=t.comet_sections.context_layout.story.comet_sections.actor_photo.story.actors[0])||void 0===e?void 0:e.profile_picture)||void 0===n?void 0:n.uri}];return Object(A.o)(e,function(e){return e(t.node)},null)}function g(t){var e=[function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(L.p)(r)&&Object(L.q)(r.attachment.media))return r.attachment.media.playable_url}];return Object(A.o)(e,function(e){return e(t.node)},null)}function w(t){var e=[function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(L.p)(r)&&Object(L.q)(r.attachment.media))return r.attachment.media.playable_url_quality_hd}];return Object(A.o)(e,function(e){return e(t.node)},null)}function S(t){var e=[function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(L.p)(r)&&t.comet_sections.feedback)return t.comet_sections.feedback.story.feedback_context.feedback_target_with_context.video_view_count}];return Object(A.o)(e,function(e){return e(t.node)},null)}function x(t){var e=[function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(L.m)(r))return Object(A.o)(r.attachment.subattachments,function(t){return T(t.media)})},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(L.o)(r)&&Object(L.f)(r.attachment.media))return T(r.attachment.media)},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(L.p)(r)&&Object(L.q)(r.attachment.media))return r.attachment.media.preferred_thumbnail.image.uri},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(L.n)(r))return C(r.attachment.media)},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(L.k)(r))return r.attachment.media.fallback_image.uri},function(t){var e,n,r=null===(n=null===(e=t.comet_sections.content.story.attachments)||void 0===e?void 0:e[0])||void 0===n?void 0:n.style_type_renderer;if(Object(L.j)(r))return C(r.attachment.all_subattachments.nodes[0].media)}];return Object(A.o)(e,function(e){return e(t.node)},null)}function O(t){function e(t){var e=[function(t){return I(t.call_to_action_renderer.action_link)},function(t){if(t.story_attachment_link_renderer.attachment.action_links[0])return I(t.story_attachment_link_renderer.attachment.action_links[0])},function(t){return t.story_attachment_link_renderer.attachment.url},function(t){return t.cta_screen_renderer.action_link.url}];return Object(A.o)(e,function(e){return e(t)},null)}var n,r,o=null===(r=null===(n=t.node.comet_sections.content.story.attachments)||void 0===n?void 0:n[0])||void 0===r?void 0:r.style_type_renderer;if(Object(L.m)(o))return o.attachment.subattachments.map(function(t){var n;return{text:t.card_title.text,actionlink_url:e(t),img_url:(n=T(t.media),null!==n&&void 0!==n?n:null)}}).map(function(t){var e=t.actionlink_url?Object(P.a)(t.actionlink_url):t.actionlink_url;return M(M({},t),{actionlink_url:e})})}function k(t){var e,n,r=t.node.comet_sections.content.story.attachments;if(0===(null===(e=r)||void 0===e?void 0:e.length))return"text";var o=null===(n=r)||void 0===n?void 0:n[0].style_type_renderer;if(o){if(Object(L.p)(o))return"video";if(Object(L.k)(o))return"event";if(Object(L.m)(o))return"carousel";if(Object(L.j)(o))return"album";if(Object(L.n)(o))return"photo";if(Object(L.o)(o))return Object(L.l)(o.attachment.story_attachment_link_renderer)?"lead":"link"}return"unknown"}function E(t){return"title"in t&&t.title||"link_title"in t&&t.link_title||void 0}function j(t){return"link_description"in t&&t.link_description||void 0}function I(t){return"url"in t?t.url:void 0}function T(t){var e,n,r,o,i,s,a;return n=null===(e=t.flexible_height_share_image)||void 0===e?void 0:e.uri,o=null!==n&&void 0!==n?n:null===(r=t.large_share_image)||void 0===r?void 0:r.uri,s=null!==o&&void 0!==o?o:null===(i=t.card_image)||void 0===i?void 0:i.uri,null!==s&&void 0!==s?s:null===(a=t.image)||void 0===a?void 0:a.uri}function C(t){return"photo_image"in t?t.photo_image.uri:"image"in t?t.image.uri:void 0}e.o=r,e.p=o,e.m=i,e.r=a,e.k=u,e.d=c,e.c=l,e.b=f,e.n=h,e.s=p,e.g=d,e.f=_,e.h=v,e.i=b,e.a=y,e.e=m,e.u=g,e.t=w,e.v=S,e.l=x,e.j=O,e.q=k;var A=n(6),P=n(60),L=n(77),M=this&&this.__assign||function(){return M=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},M.apply(this,arguments)},q={LIKE:1,ANGRY:8,HAHA:4,LOVE:2,SAD:7,WOW:3}},function(t,e,n){"use strict";function r(t,e,n){for(var r=0,o=e;r<o.length;r++){var i=o[r],s=t.match(i),a=s&&n(s);if(a)return a}return null}function o(t){return f(this,void 0,void 0,function(){var e,n;return h(this,function(r){switch(r.label){case 0:return[4,t("https://www.facebook.com/me?b"+Date.now())];case 1:return e=r.sent(),n=Object(l.j)(e),[2,n]}})})}function i(t){return r(t.outerHTML,[/"CurrentUserInitialData".*"USER_ID":"(\d+)"/,/"CurrentUserInitialData".*"ACCOUNT_ID":"(\d+)",/,/"userID":"(\d+)"/],function(t){return t&&t[1]})}function s(t){return r(t.outerHTML,[/"LocaleInitialData",\[\],{"locale":"(\w+)"/],function(t){return t&&t[1]})}function a(t){var e;return(null===(e=r(t.outerHTML,[/"NAME":"([^"]+)"/,/{"user":{"name":"([^"]+)"/,/"account_user":{"name":"([^"]+)"/,/{"__typename":"User",.*"name":"([^"]+)"/],function(t){return t&&t[1]}))||void 0===e?void 0:e.replace(/(^\W+)|(\W+$)/,""))||null}function u(t){return{id:i(t),locale:s(t),userNameOnlyForAnonymizingTheHTMLDoNotSend:a(t)}}function c(t){return f(this,void 0,void 0,function(){var e,n;return h(this,function(r){switch(r.label){case 0:return"function"!=typeof t?[3,2]:[4,o(t)];case 1:return n=r.sent(),[3,3];case 2:n=t,r.label=3;case 3:return e=n,[2,u(e)]}})})}e.b=u,e.a=c;var l=n(6),f=this&&this.__awaiter||function(t,e,n,r){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?n(t.value):o(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())})},h=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}},function(t,e,n){"use strict";function r(t){return"string"==typeof t&&o.includes(t)}e.a=r;var o=["facebook","instagram","twitter","youtube","linkedin","amazon"]},function(t,e,n){"use strict";function r(t,e,n){if(t){if(t instanceof o.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new o.a(t,e,n):new o.a(s.a)}e.a=r;var o=n(1),i=n(81),s=n(117)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0),o=n(44),i=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.a(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0),o=n(8),i=function(t){function e(e,n){return t.call(this)||this}return r.a(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0),o=n(45),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(0),o=n(206),i=n(44),s=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.a(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=o.a.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(o.a.clearImmediate(n),e.scheduled=void 0)},e}(i.a)},function(t,e,n){"use strict";function r(t){var e=i[t];e&&e()}n.d(e,"a",function(){return s});var o=1,i={},s={setImmediate:function(t){var e=o++;return i[e]=t,Promise.resolve().then(function(){return r(e)}),e},clearImmediate:function(t){delete i[t]}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0),o=n(45),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,o=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<o&&(t=n.shift()));if(this.active=!1,e){for(;++r<o&&(t=n.shift());)t.unsubscribe();throw e}},e}(o.a)},function(t,e,n){"use strict";var r=n(209),o=n(210);r.a},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0),o=n(44),i=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.a(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(0),o=n(45),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,o=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<o&&(t=n.shift()));if(this.active=!1,e){for(;++r<o&&(t=n.shift());)t.unsubscribe();throw e}},e}(o.a)},function(t,e,n){"use strict";var r=n(0),o=n(44),i=n(45),s=(i.a,function(t){function e(e,n,r){void 0===r&&(r=e.index+=1);var o=t.call(this,e,n)||this;return o.scheduler=e,o.work=n,o.index=r,o.active=!0,o.index=e.index=r,o}return r.a(e,t),e.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return t.prototype.schedule.call(this,n,r);this.active=!1;var o=new e(this.scheduler,this.work);return this.add(o),o.schedule(n,r)},e.prototype.requestAsyncId=function(t,n,r){void 0===r&&(r=0),this.delay=t.frame+r;var o=t.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,n){void 0===n&&(n=0)},e.prototype._execute=function(e,n){if(!0===this.active)return t.prototype._execute.call(this,e,n)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(o.a))},function(t,e,n){"use strict";n(2)},function(t,e,n){"use strict";function r(t,e,n){if(e){if(!Object(f.a)(e))return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return r(t,n).apply(void 0,o).pipe(Object(u.a)(function(t){return Object(l.a)(t)?e.apply(void 0,t):e(t)}))};n=e}return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i,u=this,l={context:u,subject:i,callbackFunc:t,scheduler:n};return new s.a(function(r){if(n){var s={args:e,subscriber:r,params:l};return n.schedule(o,0,s)}if(!i){i=new a.a;var f=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.next(t.length<=1?t[0]:t),i.complete()};try{t.apply(u,e.concat([f]))}catch(t){Object(c.a)(i)?i.error(t):console.warn(t)}}return i.subscribe(r)})}}function o(t){var e=this,n=t.args,r=t.subscriber,o=t.params,s=o.callbackFunc,u=o.context,c=o.scheduler,l=o.subject;if(!l){l=o.subject=new a.a;var f=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length<=1?t[0]:t;e.add(c.schedule(i,0,{value:r,subject:l}))};try{s.apply(u,n.concat([f]))}catch(t){l.error(t)}}this.add(l.subscribe(r))}function i(t){var e=t.value,n=t.subject;n.next(e),n.complete()}e.a=r;var s=n(2),a=n(66),u=n(16),c=n(78),l=n(11),f=n(21)},function(t,e,n){"use strict";n(2),n(66),n(16),n(78),n(21),n(11)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(79),o=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,r.a),e}}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(49),o=function(t){return function(e){for(var n=t[r.a]();;){var o=n.next();if(o.done){e.complete();break}if(e.next(o.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(34),o=function(t){return function(e){var n=t[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},function(t,e,n){"use strict";function r(t,e){return new o.a(function(n){var r=new i.a;return r.add(e.schedule(function(){var o=t[s.a]();r.add(o.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}e.a=r;var o=n(2),i=n(8),s=n(34)},function(t,e,n){"use strict";function r(t,e){return new o.a(function(n){var r=new i.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}e.a=r;var o=n(2),i=n(8)},function(t,e,n){"use strict";function r(t,e){if(!t)throw new Error("Iterable cannot be null");return new o.a(function(n){var r,o=new i.a;return o.add(function(){r&&"function"==typeof r.return&&r.return()}),o.add(e.schedule(function(){r=t[s.a](),o.add(e.schedule(function(){if(!n.closed){var t,e;try{var o=r.next();t=o.value,e=o.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}}))})),o})}e.a=r;var o=n(2),i=n(8),s=n(49)},function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t[o.a]}e.a=r;var o=n(34)},function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t[o.a]}e.a=r;var o=n(49)},function(t,e,n){"use strict";n(2),n(11),n(16),n(80),n(22)},function(t,e,n){"use strict";function r(t,e,n,i){return Object(l.a)(n)&&(i=n,n=void 0),i?r(t,e,n).pipe(Object(f.a)(function(t){return Object(c.a)(t)?i.apply(void 0,t):i(t)})):new u.a(function(r){function i(t){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(t)}o(t,e,i,r,n)})}function o(t,e,n,r,u){var c;if(a(t)){var l=t;t.addEventListener(e,n,u),c=function(){return l.removeEventListener(e,n,u)}}else if(s(t)){var f=t;t.on(e,n),c=function(){return f.off(e,n)}}else if(i(t)){var h=t;t.addListener(e,n),c=function(){return h.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var p=0,d=t.length;p<d;p++)o(t[p],e,n,r,u)}r.add(c)}function i(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function s(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}function a(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}e.a=r;var u=n(2),c=n(11),l=n(43),f=n(16)},function(t,e,n){"use strict";function r(t,e,n){return n?r(t,e).pipe(Object(a.a)(function(t){return Object(i.a)(t)?n.apply(void 0,t):n(t)})):new o.a(function(n){var r,o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.next(1===t.length?t[0]:t)};try{r=t(o)}catch(t){return void n.error(t)}if(Object(s.a)(e))return function(){return e(o,r)}})}e.a=r;var o=n(2),i=n(11),s=n(43),a=n(16)},function(t,e,n){"use strict";n(2),n(35),n(21)},function(t,e,n){"use strict";function r(t,e,n){return void 0===e&&(e=i.a),void 0===n&&(n=i.a),Object(o.a)(function(){return t()?e:n})}e.a=r;var o=n(90),i=n(20)},function(t,e,n){"use strict";n(2),n(12),n(68)},function(t,e,n){"use strict";n(2),n(22),n(11),n(20)},function(t,e,n){"use strict";n(2),n(8)},function(t,e,n){"use strict";n(135),n(88),n(36),n(2)},function(t,e,n){"use strict";n(2)},function(t,e,n){"use strict";n(2),n(22),n(20)},function(t,e,n){"use strict";n(12),n(138),n(137)},function(t,e,n){"use strict";function r(t){return function e(n){return n.lift(new a(t))}}e.a=r;var o=n(0),i=n(3),s=n(4),a=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.closingNotifier))},t}(),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.buffer=[],r.add(Object(s.a)(r,n)),r}return o.a(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,n,r,o){var i=this.buffer;this.buffer=[],this.destination.next(i)},e}(i.a)},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=null),function n(r){return r.lift(new s(t,e))}}e.a=r;var o=n(0),i=n(1),s=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?u:a}return t.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.bufferSize=n,r.buffer=[],r}return o.a(e,t),e.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},e.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),t.prototype._complete.call(this)},e}(i.a),u=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.bufferSize=n,o.startBufferEvery=r,o.buffers=[],o.count=0,o}return o.a(e,t),e.prototype._next=function(t){var e=this,n=e.bufferSize,r=e.startBufferEvery,o=e.buffers,i=e.count;this.count++,i%r==0&&o.push([]);for(var s=o.length;s--;){var a=o[s];a.push(t),a.length===n&&(o.splice(s,1),this.destination.next(a))}},e.prototype._complete=function(){for(var e=this,n=e.buffers,r=e.destination;n.length>0;){var o=n.shift();o.length>0&&r.next(o)}t.prototype._complete.call(this)},e}(i.a)},function(t,e,n){"use strict";function r(t){var e=arguments.length,n=u.a;Object(l.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var r=null;e>=2&&(r=arguments[1]);var o=Number.POSITIVE_INFINITY;return e>=3&&(o=arguments[2]),function e(i){return i.lift(new f(t,r,o,n))}}function o(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function i(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,r=t.subscriber,o=t.scheduler,i=r.openContext(),a=this;r.closed||(r.add(i.closeAction=o.schedule(s,n,{subscriber:r,context:i})),a.schedule(t,e))}function s(t){var e=t.subscriber,n=t.context;e.closeContext(n)}e.a=r;var a=n(0),u=n(12),c=n(1),l=n(21),f=function(){function t(t,e,n,r){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),h=function(){function t(){this.buffer=[]}return t}(),p=function(t){function e(e,n,r,a,u){var c=t.call(this,e)||this;c.bufferTimeSpan=n,c.bufferCreationInterval=r,c.maxBufferSize=a,c.scheduler=u,c.contexts=[];var l=c.openContext();if(c.timespanOnly=null==r||r<0,c.timespanOnly){var f={subscriber:c,context:l,bufferTimeSpan:n};c.add(l.closeAction=u.schedule(o,n,f))}else{var h={subscriber:c,context:l},p={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:c,scheduler:u};c.add(l.closeAction=u.schedule(s,n,h)),c.add(u.schedule(i,r,p))}return c}return a.a(e,t),e.prototype._next=function(t){for(var e,n=this.contexts,r=n.length,o=0;o<r;o++){var i=n[o],s=i.buffer;s.push(t),s.length==this.maxBufferSize&&(e=i)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this,n=e.contexts,r=e.destination;n.length>0;){var o=n.shift();r.next(o.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:t,bufferTimeSpan:n};this.add(t.closeAction=this.scheduler.schedule(o,n,r))}},e.prototype.openContext=function(){var t=new h;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)},e}(c.a)},function(t,e,n){"use strict";var r=n(0),o=n(8),i=n(4),s=n(3);s.a},function(t,e,n){"use strict";var r=n(0),o=n(8),i=n(3),s=n(4);i.a},function(t,e,n){"use strict";function r(t){return function e(n){var r=new u(t),o=n.lift(r);return r.caught=o}}e.a=r;var o=n(0),i=n(3),s=n(27),a=n(4),u=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.selector,this.caught))},t}(),c=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.selector=n,o.caught=r,o}return o.a(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle();var r=new s.a(this,void 0,void 0);this.add(r),Object(a.a)(this,n,void 0,void 0,r)}},e}(i.a)},function(t,e,n){"use strict";n(87)},function(t,e,n){"use strict";n(11),n(87),n(22)},function(t,e,n){"use strict";n(67)},function(t,e,n){"use strict";n(139)},function(t,e,n){"use strict";var r=n(0),o=n(1);o.a},function(t,e,n){"use strict";var r=n(0),o=n(3),i=n(4);o.a},function(t,e,n){"use strict";function r(t,e){return void 0===e&&(e=a.a),function(n){return n.lift(new u(t,e))}}function o(t){t.debouncedNext()}e.a=r;var i=n(0),s=n(1),a=n(12),u=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.dueTime,this.scheduler))},t}(),c=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.dueTime=n,o.scheduler=r,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return i.a(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(o,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(s.a)},function(t,e,n){"use strict";var r=n(0),o=n(12),i=n(140),s=n(1),a=n(64),u=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.delay,this.scheduler))},t}(),c=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.delay=n,o.scheduler=r,o.queue=[],o.active=!1,o.errored=!1,o}return r.a(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,o=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(o);if(n.length>0){var i=Math.max(0,n[0].time-r.now());this.schedule(t,i)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new l(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(a.a.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(a.a.createComplete()),this.unsubscribe()},e}(s.a),l=function(){function t(t,e){this.time=t,this.notification=e}return t}()},function(t,e,n){"use strict";var r=n(0),o=n(1),i=n(2),s=n(3),a=n(4),u=(s.a,i.a,function(t){function e(e,n){var r=t.call(this)||this;return r.parent=e,r.source=n,r.sourceSubscribed=!1,r}return r.a(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(o.a))},function(t,e,n){"use strict";var r=n(0),o=n(1);o.a},function(t,e,n){"use strict";var r=n(0),o=n(3),i=n(4);o.a},function(t,e,n){"use strict";n(141)},function(t,e,n){"use strict";n(47),n(36),n(69),n(51),n(92)},function(t,e,n){"use strict";n(67),n(65)},function(t,e,n){"use strict";var r=n(0),o=n(1);o.a},function(t,e,n){"use strict";var r=n(0),o=n(3),i=n(4);o.a},function(t,e,n){"use strict";var r=n(0),o=n(3),i=n(27),s=n(4);n(16),n(22),o.a},function(t,e,n){"use strict";function r(t,e,n){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(r){return r.lift(new a(t,e,n))}}e.a=r;var o=n(0),i=n(3),s=n(4),a=function(){function t(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.concurrent,this.scheduler))},t}(),u=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.scheduler=o,i.index=0,i.active=0,i.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(i.buffer=[]),i}return o.a(e,t),e.dispatch=function(t){var e=t.subscriber,n=t.result,r=t.value,o=t.index;e.subscribeToProjection(n,r,o)},e.prototype._next=function(t){var n=this.destination;if(n.closed)return void this._complete();var r=this.index++;if(this.active<this.concurrent){n.next(t);try{var o=this.project,i=o(t,r);if(this.scheduler){var s={subscriber:this,result:i,value:t,index:r};this.destination.add(this.scheduler.schedule(e.dispatch,0,s))}else this.subscribeToProjection(i,t,r)}catch(t){n.error(t)}}else this.buffer.push(t)},e.prototype.subscribeToProjection=function(t,e,n){this.active++,this.destination.add(Object(s.a)(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,o){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.destination.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(i.a)},function(t,e,n){"use strict";var r=n(0),o=n(1),i=n(8);o.a},function(t,e,n){"use strict";n(142)},function(t,e,n){"use strict";n(48),n(36),n(92),n(51),n(69),n(35)},function(t,e,n){"use strict";var r=n(0),o=n(1);o.a},function(t,e,n){"use strict";var r=n(0),o=n(1),i=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new s(t))},t}(),s=function(t){function e(e){return t.call(this,e)||this}return r.a(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(o.a)},function(t,e,n){"use strict";n(48),n(36),n(93),n(69),n(51),n(35)},function(t,e,n){"use strict";function r(t){return function(e){return e.lift(new s(t))}}e.a=r;var o=n(0),i=n(1),s=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.value))},t}(),a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.value=n,r}return o.a(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(i.a)},function(t,e,n){"use strict";var r=n(0),o=n(1),i=n(64);o.a},function(t,e,n){"use strict";n(70)},function(t,e,n){"use strict";n(133)},function(t,e,n){"use strict";n(50)},function(t,e,n){"use strict";var r=n(0),o=n(4),i=n(3),s=n(27);i.a},function(t,e,n){"use strict";n(70)},function(t,e,n){"use strict";var r=n(0),o=(n(22),n(11),n(3)),i=n(27),s=n(4);o.a},function(t,e,n){"use strict";function r(){return function(t){return t.lift(new s)}}e.a=r;var o=n(0),i=n(1),s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){var n=t.call(this,e)||this;return n.hasPrev=!1,n}return o.a(e,t),e.prototype._next=function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)},e}(i.a)},function(t,e,n){"use strict";n(135),n(36)},function(t,e,n){"use strict";n(16)},function(t,e,n){"use strict";n(9),n(37)},function(t,e,n){"use strict";n(122),n(37)},function(t,e,n){"use strict";n(66),n(37)},function(t,e,n){"use strict";n(84),n(37)},function(t,e,n){"use strict";n(11),n(136)},function(t,e,n){"use strict";var r=n(0),o=n(1);n(20),o.a},function(t,e,n){"use strict";var r=n(0),o=n(9),i=n(3),s=n(4);i.a},function(t,e,n){"use strict";var r=n(0),o=n(1);o.a},function(t,e,n){"use strict";function r(t){return function(e){return e.lift(new u(t,e))}}e.a=r;var o=n(0),i=n(9),s=n(3),a=n(4),u=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.notifier,this.source))},t}(),c=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.notifier=n,o.source=r,o}return o.a(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.errors,r=this.retries,o=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{n=new i.a;try{r=(0,this.notifier)(n)}catch(e){return t.prototype.error.call(this,e)}o=Object(a.a)(this,r)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=o,n.next(e)}},e.prototype._unsubscribe=function(){var t=this,e=t.errors,n=t.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),n&&(n.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,n,r,o){var i=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=i,this.source.subscribe(this)},e}(s.a)},function(t,e,n){"use strict";var r=n(0),o=n(3);n(4),o.a},function(t,e,n){"use strict";function r(t){var e=t.subscriber,n=t.period;e.notifyNext(),this.schedule(t,n)}var o=n(0),i=n(1);n(12),i.a},function(t,e,n){"use strict";var r=n(0),o=n(1),i=(o.a,function(t){function e(e,n){var r=t.call(this,e)||this;return r.parent=n,r}return r.a(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(o.a))},function(t,e,n){"use strict";n(37),n(83),n(9)},function(t,e,n){"use strict";function r(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(o(r))}}function o(t){var e,n,r=t.bufferSize,o=void 0===r?Number.POSITIVE_INFINITY:r,s=t.windowTime,a=void 0===s?Number.POSITIVE_INFINITY:s,u=t.refCount,c=t.scheduler,l=0,f=!1,h=!1;return function t(r){l++,e&&!f||(f=!1,e=new i.a(o,a,c),n=r.subscribe({next:function(t){e.next(t)},error:function(t){f=!0,e.error(t)},complete:function(){h=!0,e.complete()}}));var s=e.subscribe(this);this.add(function(){l--,s.unsubscribe(),n&&!h&&u&&0===l&&(n.unsubscribe(),n=void 0,e=void 0)})}}e.a=r;var i=n(84)},function(t,e,n){"use strict";var r=n(0),o=n(1),i=n(48);o.a},function(t,e,n){"use strict";var r=n(0),o=n(1);o.a},function(t,e,n){"use strict";var r=n(0),o=n(1);n(47),o.a},function(t,e,n){"use strict";var r=n(0),o=n(3),i=n(27),s=n(4);o.a},function(t,e,n){"use strict";var r=n(0),o=n(1);o.a},function(t,e,n){"use strict";function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Object(i.a)(n)?(t.pop(),function(e){return Object(o.a)(t,e,n)}):function(e){return Object(o.a)(t,e)}}e.a=r;var o=n(67),i=n(21)},function(t,e,n){"use strict";n(297)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n(0),o=n(2),i=n(127),s=n(68),a=function(t){function e(e,n,r){void 0===n&&(n=0),void 0===r&&(r=i.a);var o=t.call(this)||this;return o.source=e,o.delayTime=n,o.scheduler=r,(!Object(s.a)(n)||n<0)&&(o.delayTime=0),r&&"function"==typeof r.schedule||(o.scheduler=i.a),o}return r.a(e,t),e.create=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=i.a),new e(t,n,r)},e.dispatch=function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))},e.prototype._subscribe=function(t){var n=this.delayTime,r=this.source;return this.scheduler.schedule(e.dispatch,n,{source:r,subscriber:t})},e}(o.a)},function(t,e,n){"use strict";n(95),n(35)},function(t,e,n){"use strict";function r(t,e){return e?Object(o.a)(function(){return t},e):Object(o.a)(function(){return t})}e.a=r;var o=n(95)},function(t,e,n){"use strict";var r=n(0),o=n(3);n(4),o.a},function(t,e,n){"use strict";var r=n(0),o=n(1);o.a},function(t,e,n){"use strict";function r(t,e,n){return function r(o){return o.lift(new u(t,e,n))}}e.a=r;var o=n(0),i=n(1),s=n(62),a=n(43),u=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))},t}(),c=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i._tapNext=s.a,i._tapError=s.a,i._tapComplete=s.a,i._tapError=r||s.a,i._tapComplete=o||s.a,Object(a.a)(n)?(i._context=i,i._tapNext=n):n&&(i._context=n,i._tapNext=n.next||s.a,i._tapError=n.error||s.a,i._tapComplete=n.complete||s.a),i}return o.a(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(i.a)},function(t,e,n){"use strict";function r(t){t.subscriber.clearThrottle()}var o=n(0),i=n(1);n(12),n(143),i.a},function(t,e,n){"use strict";n(12),n(94),n(90),n(16)},function(t,e,n){"use strict";n(12),n(128),n(144),n(86)},function(t,e,n){"use strict";n(12),n(16)},function(t,e,n){"use strict";n(70)},function(t,e,n){"use strict";var r=n(0),o=n(9),i=n(3);n(4),i.a},function(t,e,n){"use strict";var r=n(0),o=n(1),i=n(9);o.a},function(t,e,n){"use strict";function r(t){var e=t.subscriber,n=t.windowTimeSpan,r=t.window;r&&e.closeWindow(r),t.window=e.openWindow(),this.schedule(t,n)}function o(t){var e=t.windowTimeSpan,n=t.subscriber,r=t.scheduler,o=t.windowCreationInterval,s=n.openWindow(),a=this,u={action:a,subscription:null},c={subscriber:n,window:s,context:u};u.subscription=r.schedule(i,e,c),a.add(u.subscription),a.schedule(t,o)}function i(t){var e=t.subscriber,n=t.window,r=t.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}var s=n(0),a=n(9),u=(n(12),n(1)),c=(n(68),n(21),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}return s.a(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(a.a));u.a},function(t,e,n){"use strict";var r=n(0),o=n(9),i=n(8),s=n(3),a=n(4);s.a},function(t,e,n){"use strict";var r=n(0),o=n(9),i=n(3),s=n(4);i.a},function(t,e,n){"use strict";var r=n(0),o=n(3),i=n(4);o.a},function(t,e,n){"use strict";n(91)},function(t,e,n){"use strict";n(91)},function(t,e,n){"use strict";function r(t){var e=Object(a.k)(t.body,o.j,!0),n=Object(a.k)(t.body,o.l,!0);return Object(i.l)(n.pipe(Object(s.l)("old")),e.pipe(Object(s.l)("new"))).pipe(Object(s.r)(1))}e.a=r;var o=n(30),i=n(7),s=n(19),a=n(41)},function(t,e,n){"use strict";function r(t,e,n){return void 0===n&&(n=!1),new Promise(function(n){t.GoogleAnalyticsObject="_____private_ga____";var r=e.createElement("script");r.src="https://www.google-analytics.com/analytics.js",r.async=!0,r.addEventListener("load",function(){n(t._____private_ga____)}),e.head.appendChild(r)})}e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(42),o=n(146),i=n(6),s=this&&this.__assign||function(){return s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},s.apply(this,arguments)},a=this&&this.__awaiter||function(t,e,n,r){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?n(t.value):o(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},c=function(){function t(t,e,n,r,o,i,s,a,u,c,l){this.locationService=t,this.facebookMetadataProvider=e,this.deviceId=n,this.extensionId=r,this.extensionVersion=o,this.userAgent=i,this.thirdPartyId=s,this.thirdPartyCookie=a,this.errorReporter=u,this.secret_local_salt=c,this.extensionPlatform=l}return t.prototype.getFacebookMetadataForUserOrNulls=function(t){var e=this;return this.facebookMetadataProvider.getForUser(t).catch(function(n){return e.errorReporter(n),s(s({},o.b),{id:t})})},t.prototype.updateThirdPartyInfo=function(t,e){this.thirdPartyId=t,this.thirdPartyCookie=e},t.prototype.enrichAuditEvent=function(e,n){return a(this,void 0,void 0,function(){var r,o,i,a;return u(this,function(u){switch(u.label){case 0:return r=new Date,[4,Promise.all([this.locationService.getLocation(),this.getFinalUserId()])];case 1:return o=u.sent(),i=o[0],a=o[1],[2,s(s({event_time:r},t.geoData(i)),{fb_user_hashed_id:a,third_party_id:this.thirdPartyId,third_party_cookie:this.thirdPartyCookie,device_id:this.deviceId,user_agent:this.userAgent,extension_id:this.extensionId,extension_version:this.extensionVersion,browser_time_zone:r.getTimezoneOffset()/60*-1,navigated_to:e,adblocker_enabled:n,platform:this.extensionPlatform})]}})})},t.prototype.enrichInteraction=function(e){return a(this,void 0,void 0,function(){var n,o,i,a,c,l,f,h,p,d,_,v,b,y;return u(this,function(u){switch(u.label){case 0:return n=new Date,[4,Promise.all([this.getFacebookMetadataForUserOrNulls(e.fb_user_id),this.locationService.getLocation()])];case 1:return o=u.sent(),i=o[0],a=o[1],e.fb_post_src=this.annonimizeSponsoredPostHTML(e.fb_post_src,e.fb_user_id,i.userNameOnlyForAnonymizingTheHTMLDoNotSend),c=e.fb_post_interaction_type,l=e.fb_post_entity_id,f=e.fb_post_interaction_text,h=e.fb_post_interaction_url,p=e.fb_post_interaction_click_origin,d=e.fb_post_src,_=e.original_event_time,v=e.fb_post_advertiser_page_entity_id,b=e.fb_post_advertiser_page_id,y=e.fb_user_id,[2,s(s(s(s(s({event_time:n,fb_post_interaction_type:c,fb_post_interaction_text:f,fb_post_interaction_url:h,fb_post_interaction_click_origin:p,fb_post_entity_id:l,fb_post_src:d,browser_time_zone:n.getTimezoneOffset()/60*-1},this.interactionHash({fb_user_id:y,fb_post_entity_id:l},r.c)),t.facebookMetadata(i)),t.geoData(a)),t.googleData()),{third_party_id:this.thirdPartyId,third_party_cookie:this.thirdPartyCookie,device_id:this.deviceId,user_agent:this.userAgent,extension_id:this.extensionId,extension_version:this.extensionVersion,original_event_time:_,fb_post_advertiser_page_entity_id:v,fb_post_advertiser_page_id:b})]}})})},t.prototype.enrichInterestsEvent=function(e){return a(this,void 0,void 0,function(){var n,r,o,i;return u(this,function(a){switch(a.label){case 0:return n=new Date,[4,Promise.all([this.getFacebookMetadataForUserOrNulls(e.fb_user_id),this.locationService.getLocation()])];case 1:return r=a.sent(),o=r[0],i=r[1],[2,s(s(s(s(s({fb_user_interests:e.fb_user_interests,event_time:n,browser_time_zone:n.getTimezoneOffset()/60*-1},t.facebookMetadata(o)),t.geoData(i)),this.getUserHashes(e.fb_user_id)),t.googleData()),{third_party_id:this.thirdPartyId,third_party_cookie:this.thirdPartyCookie,device_id:this.deviceId,user_agent:this.userAgent,extension_id:this.extensionId,extension_version:this.extensionVersion})]}})})},t.prototype.enrichYTAdVideo=function(e){return a(this,void 0,void 0,function(){var n,r,o,i,a;return u(this,function(u){switch(u.label){case 0:return n=new Date,[4,Promise.all([this.getFinalUserId(),this.getFacebookDataOrNulls(),this.locationService.getLocation()])];case 1:return r=u.sent(),o=r[0],i=r[1],a=r[2],[2,s(s(s(s({yt_video_id:e.id,yt_host_type:e.host_type,event_time:n,browser_time_zone:n.getTimezoneOffset()/60*-1,fb_user_hashed_id:o},i),t.geoData(a)),t.googleData()),{third_party_id:this.thirdPartyId,third_party_cookie:this.thirdPartyCookie,device_id:this.deviceId,user_agent:this.userAgent,extension_id:this.extensionId,extension_version:this.extensionVersion})]}})})},t.prototype.enrichAmazonSponsored=function(e){return a(this,void 0,void 0,function(){var n,r,o,i,a;return u(this,function(u){switch(u.label){case 0:return n=new Date,[4,Promise.all([this.getFinalUserId(),this.getFacebookDataOrNulls(),this.locationService.getLocation()])];case 1:return r=u.sent(),o=r[0],i=r[1],a=r[2],[2,s(s(s(s(s({},e),{event_time:n,browser_time_zone:n.getTimezoneOffset()/60*-1,fb_user_hashed_id:o,third_party_id:this.thirdPartyId,third_party_cookie:this.thirdPartyCookie,device_id:this.deviceId,user_agent:this.userAgent,extension_id:this.extensionId,extension_version:this.extensionVersion}),t.geoData(a)),t.googleData()),i)]}})})},t.prototype.enrichLinkedInSponsored=function(e){return a(this,void 0,void 0,function(){var n,r,o,i,a;return u(this,function(u){switch(u.label){case 0:return n=new Date,[4,Promise.all([this.getFinalUserId(),this.getFacebookDataOrNulls(),this.locationService.getLocation()])];case 1:return r=u.sent(),o=r[0],i=r[1],a=r[2],[2,s(s(s(s(s({},e),{event_time:n,browser_time_zone:n.getTimezoneOffset()/60*-1,fb_user_hashed_id:o,third_party_id:this.thirdPartyId,third_party_cookie:this.thirdPartyCookie,device_id:this.deviceId,user_agent:this.userAgent,extension_id:this.extensionId,extension_version:this.extensionVersion}),t.geoData(a)),t.googleData()),i)]}})})},t.prototype.enrichIGScrapedEvent=function(e){return a(this,void 0,void 0,function(){var n,r,o,i,a;return u(this,function(u){switch(u.label){case 0:return n=new Date,[4,Promise.all([this.getFinalUserId(),this.getFacebookDataOrNulls(),this.locationService.getLocation()])];case 1:return r=u.sent(),o=r[0],i=r[1],a=r[2],[2,s(s(s(s(s(s({},e),{event_time:n,browser_time_zone:n.getTimezoneOffset()/60*-1,fb_user_hashed_id:o}),i),t.geoData(a)),t.googleData()),{third_party_id:this.thirdPartyId,third_party_cookie:this.thirdPartyCookie,device_id:this.deviceId,user_agent:this.userAgent,extension_id:this.extensionId,extension_version:this.extensionVersion})]}})})},t.prototype.enrichTweet=function(e){return a(this,void 0,void 0,function(){var n,r,o,i,a;return u(this,function(u){switch(u.label){case 0:return n=new Date,[4,Promise.all([this.getFinalUserId(),this.getFacebookDataOrNulls(),this.locationService.getLocation()])];case 1:return r=u.sent(),o=r[0],i=r[1],a=r[2],[2,s(s(s(s(s({event_time:n,browser_time_zone:n.getTimezoneOffset()/60*-1,fb_user_hashed_id:o},i),t.geoData(a)),t.googleData()),e),{third_party_id:this.thirdPartyId,third_party_cookie:this.thirdPartyCookie,device_id:this.deviceId,user_agent:this.userAgent,extension_id:this.extensionId,extension_version:this.extensionVersion})]}})})},t.prototype.enrichRegularStory=function(e){return a(this,void 0,void 0,function(){var n,o,i,a;return u(this,function(u){switch(u.label){case 0:return n=new Date,[4,Promise.all([this.getFacebookMetadataForUserOrNulls(e.fb_user_id),this.locationService.getLocation()])];case 1:return o=u.sent(),i=o[0],a=o[1],[2,s(s(s(s(s({event_time:n,browser_time_zone:n.getTimezoneOffset()/60*-1},t.facebookMetadata(i)),t.geoData(a)),this.getRegularStoryHashes(e,r.c)),t.googleData()),{third_party_id:this.thirdPartyId,third_party_cookie:this.thirdPartyCookie,device_id:this.deviceId,user_agent:this.userAgent,extension_id:this.extensionId,extension_version:e.parser_version,fb_post_is_sponsored:!1,parser_version:e.parser_version})]}})})},t.prototype.enrichSponsoredStory=function(e){return a(this,void 0,void 0,function(){var n,o,i,a;return u(this,function(u){switch(u.label){case 0:return n=new Date,[4,Promise.all([this.getFacebookMetadataForUserOrNulls(e.fb_user_id),this.locationService.getLocation()])];case 1:return o=u.sent(),i=o[0],a=o[1],e.fb_post_src=this.annonimizeSponsoredPostHTML(e.fb_post_src,e.fb_user_id,i.userNameOnlyForAnonymizingTheHTMLDoNotSend),[2,s(s(s(s(s(s({browser_time_zone:n.getTimezoneOffset()/60*-1},t.pickFieldsToSendSponsored(e)),t.facebookMetadata(i)),t.geoData(a)),this.getStoryHashes(e,r.c)),t.googleData()),{third_party_id:this.thirdPartyId,third_party_cookie:this.thirdPartyCookie,event_time:n,device_id:this.deviceId,user_agent:this.userAgent,extension_id:this.extensionId,extension_version:e.parser_version,fb_post_is_sponsored:!0,parser_version:e.parser_version,parser_type:e.parser_type})]}})})},t.prototype.getFacebookDataOrNulls=function(){return a(this,void 0,void 0,function(){var e,n,r,o,i;return u(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),e=[{}],r=(n=t).facebookMetadata,o=this.getFacebookMetadataForUserOrNulls,[4,this.facebookMetadataProvider.getCurrentUserId()];case 1:return[4,o.apply(this,[a.sent()])];case 2:return[2,s.apply(void 0,e.concat([r.apply(n,[a.sent()])]))];case 3:return i=a.sent(),[2,{fb_meta_gender:null,fb_meta_dob_month:null,fb_meta_dob_year:null,fb_meta_relationship_status:null,fb_meta_user_locale:null,fb_meta_current_state_or_country:null}];case 4:return[2]}})})},t.prototype.getFinalUserId=function(){return a(this,void 0,void 0,function(){var t,e;return u(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.facebookMetadataProvider.getCurrentUserId()];case 1:return t=n.sent(),[2,this.getUserHashes(t).fb_user_hashed_id];case 2:return e=n.sent(),[2,("unkn_"+this.deviceId).substring(0,45)];case 3:return[2]}})})},t.prototype.enrichNewFacebookUiEvent=function(e){return a(this,void 0,void 0,function(){var n,r,o;return u(this,function(i){switch(i.label){case 0:return[4,Promise.all([this.getFinalUserId(),this.locationService.getLocation()])];case 1:return n=i.sent(),r=n[0],o=n[1],[2,{event_type:"fb_new_feed_ui",event_content:{fb_user_hashed_id:r,device_id:this.deviceId,fb_is_beta_member:"new"===e,geo_current_country_iso:t.geoData(o).geo_current_location_country_iso,extension_id:this.extensionId,extension_version:this.extensionVersion}}]}})})},t.prototype.annonimizeSponsoredPostHTML=function(t,e,n){if(null===t)return null;if(null===n){var r=new Error("Cloudn't get user name");this.errorReporter(r)}else if(-1===t.search(new RegExp(Object(i.k)(n),"ig"))){var r=new Error("No occurrences of the fetched user name in the html");this.errorReporter(r)}else t=t.replace(new RegExp(Object(i.k)(n),"ig"),"--annonimized-un--");if(!t.includes(e)){var r=new Error("No occurrences of the user id in the html");this.errorReporter(r)}return t.replace(new RegExp(e,"g"),"--annonimized--")},t.pickFieldsToSendSponsored=function(t){var e=t.fb_post_actionlink_url,n=t.fb_post_advertiser_page_pretty_name,r=t.fb_post_advertiser_page_id,o=t.fb_post_advertiser_thumbnail_url,i=t.fb_post_call_to_action_text,a=t.fb_post_call_to_action_url,u=t.fb_post_img_url,c=t.fb_post_src,l=t.fb_post_text,f=t.fb_post_type,h=t.fb_post_video_url,p=t.fb_post_video_views,d=t.fb_post_this_video_views,_=t.fb_post_entity_id,v=t.fb_post_engage_angry,b=t.fb_post_engage_comments,y=t.fb_post_engage_haha,m=t.fb_post_engage_like,g=t.fb_post_engage_love,w=t.fb_post_engage_sad,S=t.fb_post_engage_shares,x=t.fb_post_engage_wow,O=t.fb_post_width,k=t.fb_post_height,E=t.fb_post_app_id,j=t.fb_post_app_pretty_name,I=t.fb_post_app_thumbnail_url,T=t.fb_post_carousel_info,C=t.fb_post_attachment_description,A=t.fb_post_attachment_title,P=t.fb_post_caption,L=t.fb_post_advertiser_page_entity_id,M="fb_post_anonymized_edge"in t?t.fb_post_anonymized_edge:void 0;return s({fb_post_actionlink_url:e,fb_post_advertiser_page_pretty_name:n,fb_post_advertiser_page_id:r,fb_post_advertiser_thumbnail_url:o,fb_post_call_to_action_text:i,fb_post_call_to_action_url:a,fb_post_img_url:u,fb_post_src:c,fb_post_text:l,fb_post_type:f,fb_post_video_url:h,fb_post_video_views:p,fb_post_this_video_views:d,fb_post_entity_id:_,fb_post_engage_angry:v,fb_post_engage_comments:b,fb_post_engage_haha:y,fb_post_engage_like:m,fb_post_engage_love:g,fb_post_engage_sad:w,fb_post_engage_shares:S,fb_post_engage_wow:x,fb_post_width:O,fb_post_height:k,fb_post_app_id:E,fb_post_app_pretty_name:j,fb_post_app_thumbnail_url:I,fb_post_carousel_info:T,fb_post_attachment_description:C,fb_post_attachment_title:A,fb_post_caption:P,fb_post_advertiser_page_entity_id:L},M&&{fb_post_anonymized_edge:M})},t.googleData=function(){return{google_meta_dob:null,google_meta_gender:null}},t.isFacebookRedirectorUrl=function(t){return t.startsWith("https://l.facebook.com/")||t.startsWith("http://l.facebook.com/")},t.getUrlPartAfterDomain=function(t){var e=document.createElement("a");return e.href=t,e.pathname+e.search+e.hash},t.prototype.getStoryHashes=function(t,e){var n=new Set(["fb_post_advertiser_page_id","fb_post_app_id","fb_post_call_to_action_text","fb_post_text","fb_post_type"]),r=Array.from(n.keys()).filter(function(e){return null!==t[e]}).map(function(e){return t[e]});return{fb_post_hashed_content:i.e.hash(""+r.join(",")),fb_post_hashed_entity_id:i.e.salted_hash(t.fb_post_entity_id,e),fb_user_hashed_id:i.e.salted_hash(t.fb_user_id,this.secret_local_salt)}},t.prototype.getUserHashes=function(t){return{fb_user_hashed_id:i.e.salted_hash(t,this.secret_local_salt)}},t.prototype.getRegularStoryHashes=function(t,e){return{fb_post_hashed_entity_id:i.e.salted_hash(t.fb_post_entity_id,e),fb_post_hashed_content:i.e.hash(t.fb_post_text||""),fb_user_hashed_id:i.e.salted_hash(t.fb_user_id,this.secret_local_salt)}},t.prototype.interactionHash=function(t,e){return{fb_post_hashed_entity_id:i.e.salted_hash(t.fb_post_entity_id,e),fb_user_hashed_id:this.getUserHashes(t.fb_user_id).fb_user_hashed_id}},t.facebookMetadata=function(t){return{fb_meta_gender:t.gender,fb_meta_dob_month:t.birthday.month,fb_meta_dob_year:t.birthday.year,fb_meta_relationship_status:t.relationshipStatus,fb_meta_user_locale:t.locale,fb_meta_current_state_or_country:t.stateOrCountry}},t.geoData=function(t){var e=t.countryIso2,n=t.state;return{geo_current_location_country:t.country,geo_current_location_country_iso:e,geo_current_location_state:n,geo_current_location_region:t.region,geo_current_location_metro_code:t.metro_code}},t}()},function(t,e,n){"use strict";function r(t,e){return p(this,void 0,void 0,function(){var n,r,o,i,a;return d(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,8]),s()?[4,f.a(t)]:[3,2];case 1:return n=u.sent(),[3,4];case 2:return[4,h.a(t,e)];case 3:n=u.sent(),u.label=4;case 4:return[2,n];case 5:return r=u.sent(),r instanceof c.a&&"logged-out"!==r.reason?[4,l.b(t)]:[3,7];case 6:return o=u.sent(),i=o.id,a=o.userNameOnlyForAnonymizingTheHTMLDoNotSend,[2,{id:i,userNameOnlyForAnonymizingTheHTMLDoNotSend:a,locale:null}];case 7:throw r;case 8:return[2]}})})}function o(t,e){return p(this,void 0,void 0,function(){var n,o,i,s,c,l,f,h,p;return d(this,function(d){switch(d.label){case 0:return[4,r(t,e)];case 1:if(n=d.sent(),o=n.id,i=n.userNameOnlyForAnonymizingTheHTMLDoNotSend,s=n.locale,!o)throw new Error("Failed to get facebook user id");return[4,a(t)];case 2:return c=d.sent(),l=c.birthday,f=c.gender,h=c.stateOrCountry,[4,u(t)];case 3:return p=d.sent(),[2,{id:o,birthday:l,gender:f,locale:s,relationshipStatus:p,userNameOnlyForAnonymizingTheHTMLDoNotSend:i,stateOrCountry:h}]}})})}function i(t){return h.b(t)}function s(){return"m.facebook.com"===window.location.hostname}function a(t){var e,n;return p(this,void 0,void 0,function(){var r,o,i,s,a,u,c,h;return d(this,function(p){switch(p.label){case 0:return[4,l.a(t)];case 1:return r=p.sent(),o=r.birthday,i=r.gender,s=r.stateOrCountry,null!==i&&null!==o.month&&null!==o.year&&null!==s?[3,3]:[4,f.b(t)];case 2:return a=p.sent(),u=a.birthday,c=a.gender,h=a.stateOrCountry,[2,{gender:i||c,birthday:{year:o.year||(null===(e=u)||void 0===e?void 0:e.year)||null,month:o.month||(null===(n=u)||void 0===n?void 0:n.month)||null},stateOrCountry:s||h}];case 3:return[2,{birthday:o,gender:i,stateOrCountry:s}]}})})}function u(t){return f.c(t)}e.a=o,e.b=i;var c=n(52),l=n(320),f=n(321),h=n(322),p=this&&this.__awaiter||function(t,e,n,r){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?n(t.value):o(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())})},d=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}},function(t,e,n){"use strict";function r(t){return y(this,void 0,void 0,function(){return m(this,function(e){return[2,Object(v.b)({fetchText:t,urlString:"https://mbasic.facebook.com/me/about"})]})})}function o(t,e){var n=Array.from(t.querySelectorAll("tr")).filter(function(t){return t.querySelector('a[href="/editprofile.php?type=basic&edit='+e+'"]')}).flatMap(function(t){return Array.from(t.querySelectorAll("td"))});return 2!==n.length?null:n[1].textContent}function i(t){var e=o(t,"birthday");if(!e||isNaN(Date.parse(e)))return null;var n=new Date(e);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1}}function s(t){var e=o(t,"gender");if(!e)return null;var n=e.toLowerCase();return"male"===n?"Male":"female"===n?"Female":null}function a(t){var e=o(t,"current_city");return e?Object(v.a)(e):null}function u(t){return y(this,void 0,void 0,function(){var e,n,r;return m(this,function(o){switch(o.label){case 0:return[4,Object(v.b)({fetchText:t,urlString:"https://mbasic.facebook.com/editprofile.php?type=basic&edit=birthday"})];case 1:return e=o.sent(),n=function(){var t=e.querySelector("select[name=year]");if(!t)return null;if(!t.value)return null;var n=Number.parseInt(t.value,10);return Number.isNaN(n)?null:n}(),r=function(){var t=e.querySelector("select[name=month]");if(!t)return null;if(!t.value)return null;var n=Number.parseInt(t.value,10);return Number.isNaN(n)?null:n}(),[2,{year:n,month:r}]}})})}function c(t){return y(this,void 0,void 0,function(){var e,n;return m(this,function(r){switch(r.label){case 0:return[4,Object(v.b)({fetchText:t,urlString:"https://mbasic.facebook.com/editprofile.php?type=basic&edit=current_city"})];case 1:return e=r.sent(),n=e.querySelector('input[name="current_city[]"]'),n?[2,Object(v.a)(n.value)]:[2,null]}})})}function l(t){var e;return y(this,void 0,void 0,function(){var n,r,o;return m(this,function(i){switch(i.label){case 0:return[4,Object(v.b)({fetchText:t,urlString:"https://mbasic.facebook.com/editprofile.php?type=basic&edit=gender"})];case 1:return n=i.sent(),(r=!!n.querySelector('select[name="preferred_pronoun"]'))?[2,"Other"]:(o=(null===(e=n.querySelector('input[name="new_info"][checked]'))||void 0===e?void 0:e.value)||null,o?"1"===o?[2,"Female"]:"2"===o?[2,"Male"]:[2,"Other"]:[2,null])}})})}function f(t){return y(this,void 0,void 0,function(){var e,n,o,f,h,p,d;return m(this,function(_){switch(_.label){case 0:return[4,r(t)];case 1:return e=_.sent(),o=s(e),o?[3,3]:[4,l(t)];case 2:o=_.sent(),_.label=3;case 3:return n=o,h=i(e),h?[3,5]:[4,u(t)];case 4:h=_.sent(),_.label=5;case 5:return f=h,d=a(e),d?[3,7]:[4,c(t)];case 6:d=_.sent(),_.label=7;case 7:return p=d,[2,{gender:n,birthday:f,stateOrCountry:p}]}})})}function h(t){return y(this,void 0,void 0,function(){var e,n,o;return m(this,function(i){switch(i.label){case 0:return[4,r(t)];case 1:if(e=i.sent(),!(n=p(e))){if(e.querySelector("#login_top_banner"))throw new b.a("logged-out","mbasic");throw new b.a("other","mbasic")}return o=d(e),[2,{id:n,userNameOnlyForAnonymizingTheHTMLDoNotSend:o}]}})})}function p(t){var e,n;return e=function r(){var e=t.querySelector("a[href^='/photo.php']");return Object(_.q)(function(){return new URL(e.href).searchParams.get("id")},void 0)}(),n=null!==e&&void 0!==e?e:function o(){var e=t.querySelector("a[href^='/cover_photo/']");return Object(_.q)(function(){return new URL(e.href).searchParams.get("profile_id")},void 0)}(),null!==n&&void 0!==n?n:function i(){var e,n=t.querySelector("a[href$='/allactivity']"),r=null===(e=n)||void 0===e?void 0:e.href.match(/(\d+)\/allactivity/);if(r&&r[1])return r[1]}()}function d(t){var e,n;return e=function r(){var e=t.querySelector("a[href^='/photo.php'] > img[alt]");if(e instanceof HTMLImageElement&&e.alt)return e.alt}(),n=null!==e&&void 0!==e?e:function o(){var e,n=t.querySelector("#mbasic_logout_button");if(n instanceof HTMLAnchorElement){var r=null===(e=n.textContent)||void 0===e?void 0:e.match(/\(([^)]+)\)/);if(r&&r[1])return r[1]}}(),null!==n&&void 0!==n?n:function i(){return t.title}()}e.a=f,e.b=h;var _=n(6),v=n(96),b=n(52),y=this&&this.__awaiter||function(t,e,n,r){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?n(t.value):o(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())})},m=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}},function(t,e,n){"use strict";function r(t){return _(this,void 0,void 0,function(){var e,n,r;return v(this,function(o){switch(o.label){case 0:return[4,Object(d.b)({fetchText:t,urlString:"https://m.facebook.com/profile/edit/infotab/section/forms/?info_surface=info&section=living",headers:[],addId:!1})];case 1:return e=o.sent(),(n=e.querySelector('input[name="current_city_text"]'))instanceof HTMLInputElement?(r=n.value,r?[2,Object(d.a)(r)]:[2,null]):[2,null]}})})}function o(t){return _(this,void 0,void 0,function(){var e,n;return v(this,function(r){switch(r.label){case 0:return[4,Object(d.b)({fetchText:t,urlString:"https://m.facebook.com/profile/edit/infotab/section/forms/?info_surface=info&section=relationship",headers:[],addId:!1})];case 1:return e=r.sent(),n=e.querySelector("select[name=relationship_status]"),n instanceof HTMLSelectElement?b.has(n.value)?[2,b.get(n.value)]:[2,n.value]:[2,null]}})})}function i(t){return _(this,void 0,void 0,function(){var e,n,r,o,i,s,a,u;return v(this,function(l){switch(l.label){case 0:return[4,Object(d.b)({fetchText:t,urlString:"https://m.facebook.com/me?_rdr",addId:"b"})];case 1:if(e=l.sent(),n=e.outerHTML.match('"USER_ID"..([0-9]*)'),r=null,!n)throw new p.a("other","mobile");return r=n[1],o=null,i=e.querySelector("#cover-name-root"),i&&(s=i.querySelector(".alternate_name"),s&&s.remove(),o=i.textContent&&i.textContent.replace(/(^\W+)|(\W+$)/,"")),[4,c(t)];case 2:return a=l.sent(),null===a&&(u=e.childNodes[1].outerHTML.match("LOCALE...([a-z,_,A-Z]*)"),a=u?u[1]:null),[2,{id:r,locale:a,userNameOnlyForAnonymizingTheHTMLDoNotSend:o}]}})})}function s(t){return _(this,void 0,void 0,function(){var e,n,r,o;return v(this,function(i){switch(i.label){case 0:return[4,l(t)];case 1:return e=i.sent(),n=h(e),r=f(e),[4,u(t)];case 2:return o=i.sent(),[2,{gender:n,birthday:r,stateOrCountry:o}]}})})}function a(t){return o(t)}function u(t){return r(t)}function c(t){return _(this,void 0,void 0,function(){var e,n,r;return v(this,function(o){switch(o.label){case 0:return[4,t("https://m.facebook.com/language.php?r="+Date.now())];case 1:return e=o.sent(),n=e.match(/"?currentLocale"?: ?(\{[^}]+?\})/),n&&n[1]&&(r=n[1].match(/"?locale_code"?: ?"([^"]+?)"/))&&r[1]?[2,r[1]]:[2,null]}})})}function l(t){return _(this,void 0,void 0,function(){var e;return v(this,function(n){switch(n.label){case 0:return[4,Object(d.b)({fetchText:t,urlString:"https://m.facebook.com/profile/edit/infotab/section/forms/?section=basic-info",addId:!1})];case 1:return e=n.sent(),[2,e]}})})}function f(t){var e=t.querySelector('select[name="birthday_month"]'),n=t.querySelector('select[name="birthday_year"]');return e&&n?{year:parseInt(n.value,10),month:parseInt(e.value,10)}:null}function h(t){var e=t.querySelector("input[name=gender][type=radio][checked]");return e instanceof HTMLInputElement?"1"===e.value?"Female":"2"===e.value?"Male":"Other":null}e.a=i,e.b=s,e.c=a;var p=n(52),d=n(96),_=this&&this.__awaiter||function(t,e,n,r){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?n(t.value):o(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())})},v=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},b=new Map([["0","Unspecified"],["1","Single"],["2","In a relationship"],["5","Engaged"],["4","Married"],["10","In a civil union"],["11","In a domestic partnership"],["3","In an open relationship"],["6","It's complicated"],["8","Separated"],["9","Divorced"],["7","Widowed"]])},function(t,e,n){"use strict";var r=n(323);n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return r.b})},function(t,e,n){"use strict";function r(t,e){return l(this,void 0,void 0,function(){var n,r,o;return f(this,function(l){switch(l.label){case 0:return[4,Object(c.a)(t,e)()];case 1:return n=l.sent(),r=Object(i.n)(n),"new"!==r?[3,3]:[4,s.a(n)];case 2:if(o=l.sent(),!o.id)throw new u.a("other","web-ui");l.label=3;case 3:return[2,a.a(n)]}})})}function o(t){return a.b(t)}e.a=r,e.b=o;var i=n(30),s=n(324),a=n(325),u=n(52),c=n(326),l=this&&this.__awaiter||function(t,e,n,r){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?n(t.value):o(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())})},f=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}},function(t,e,n){"use strict";var r=n(30);n.d(e,"a",function(){return r.o})},function(t,e,n){"use strict";function r(t){var e,n;return e=function r(){var e=t.querySelector('[property="al:android:url"]');if(e instanceof HTMLMetaElement&&e.content.startsWith("fb://profile/")){return e.content.replace("fb://profile/","")}}(),n=null!==e&&void 0!==e?e:function o(){var e,n;return null===(n=null===(e=t.querySelector("img[id^=profile_pic_header_]"))||void 0===e?void 0:e.id)||void 0===n?void 0:n.replace("profile_pic_header_","")}(),null!==n&&void 0!==n?n:function i(){var e=t.innerHTML.match(/{"USER_ID":"(\d+)","ACCOUNT_ID":"(\d+)"/);if(e){var n=e[1]||e[2];if(n&&"0"!==n)return n}}()}function o(t){var e,n=(e=function r(){var e=t.querySelector("#fb-timeline-cover-name, [data-testid=profile_name_in_profile_page]");if(e){var n=e.querySelector(".alternate_name");return n&&n.remove(),e.textContent}}(),null!==e&&void 0!==e?e:function o(){var e=t.innerHTML.match(/"ACCOUNT_ID":"(\d+)","NAME":"([^"]+)",/);if(e&&e[2])return e[2]}());if(n)return n.replace(/(^\W+)|(\W+$)/,"")}function i(t){var e=t.querySelector("body");if(e instanceof HTMLElement){var n=Array.from(e.classList).find(function(t){return t.startsWith("Locale")});if("string"==typeof n){return n.replace("Locale_","")}}}function s(t){var e,n,s=r(t);if(!s){if(t.querySelector("body.UIPage_LoggedOut"))throw new u.a("logged-out","web-old");throw new u.a("other","web-old")}var a=(e=o(t),null!==e&&void 0!==e?e:null);return{id:s,locale:(n=i(t),null!==n&&void 0!==n?n:null),userNameOnlyForAnonymizingTheHTMLDoNotSend:a}}function a(t){return c(this,void 0,void 0,function(){var e,n;return l(this,function(r){switch(r.label){case 0:return[4,t("https://www.facebook.com/ads/profile/interests/?dpr=1",[["X-Requested-With","XMLHttpRequest"]],12e4)];case 1:return e=r.sent(),n=JSON.parse(e.replace("for (;;);","")),[2,n.payload.interests]}})})}e.a=s,e.b=a;var u=n(52),c=this&&this.__awaiter||function(t,e,n,r){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?n(t.value):o(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}},function(t,e,n){"use strict";function r(t,e){var n=this;return function(){return a(n,void 0,void 0,function(){var n,r,a;return u(this,function(u){switch(u.label){case 0:return n=Object(s.x)(),r=e(function(t){var e,r,i,s,a;if(void 0!==(null===(e=t.requestHeaders)||void 0===e?void 0:e.find(function(t){return t.name===n}))){var u=[];return"GET"===t.method&&o(null===(i=null===(r=t.requestHeaders)||void 0===r?void 0:r.find(function(t){return"user-agent"===t.name.toLowerCase()}))||void 0===i?void 0:i.value)&&void 0!==(null===(s=t.requestHeaders)||void 0===s?void 0:s.find(function(t){return t.name!==l}))&&u.push({name:l,value:f}),{requestHeaders:null===(a=t.requestHeaders)||void 0===a?void 0:a.filter(function(t){return t.name!==n}).concat(u)}}},{urls:["https://www.facebook.com/me*","https://www.facebook.com/profile.php*"]},{blocking:!0,requestHeaders:!0,extraHeaders:!0}),[4,Object(i.b)({fetchText:t,urlString:"https://www.facebook.com/me",addId:"b",headers:[[n,n]]})];case 1:return a=u.sent(),r(),[2,a]}})})}}function o(t){var e=Object(s.p)(t);return e&&e>c}e.a=r;var i=n(96),s=n(6),a=this&&this.__awaiter||function(t,e,n,r){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?n(t.value):o(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},c=76,l="sec-fetch-user",f="?1"},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(6),o=function(){function t(t,e,n,r){this.log=t,this.fetchJson=e,this.lastRequest=null,this.locationUrl=n+"?seed="+r,this.lastRequest=this.sendRequest()}return t.prototype.sendRequest=function(){var t=this,e=this.fetchJson(this.locationUrl).catch(function(){return Object(r.C)(500).then(function(){return t.fetchJson(t.locationUrl)})});return e.catch(function(e){t.log.error(e)}),e},t.prototype.getLocation=function(){var t=this;return null===this.lastRequest&&(this.lastRequest=this.sendRequest()),this.lastRequest.catch(function(){t.lastRequest=null}),this.lastRequest},t.prototype.start=function(){var t=this;this.log.info("Starting to get location..."),this.interval=window.setInterval(function(){t.log.info("Periodic refresh of location"),t.lastRequest=null,t.getLocation()},36e5)},t.prototype.stop=function(){this.interval&&(window.clearInterval(this.interval),this.interval=void 0)},t}()},function(t,e,n){"use strict";function r(t){return!(t instanceof s.d)}function o(t){return{message:"exception! name: "+t.name+"| message: "+t.message,stack:"stack: "+t.stack}}function i(t){return t.error&&t.error instanceof Error?o(t.error):{message:"ErrorEvent! "+t.message,stack:(new Error).stack}}n.d(e,"a",function(){return c});var s=n(6),a=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(){function t(t){this.logger=t}return t.prototype.captureBreadcrumb=function(t){},Object.defineProperty(t.prototype,"time",{get:function(){return this.logger.time},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"log",{get:function(){return this.logger.log},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"assert",{get:function(){return this.logger.assert},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dir",{get:function(){return this.logger.dir},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"info",{get:function(){return this.logger.info},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"warn",{get:function(){return this.logger.warn},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trace",{get:function(){return this.logger.trace},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeEnd",{get:function(){return this.logger.timeEnd},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"debug",{get:function(){return this.logger.debug},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"error",{get:function(){return this.logger.error},enumerable:!0,configurable:!0}),t}(),c=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.logger=e,o.ga=n,o.raven=r,o}return a(e,t),Object.defineProperty(e.prototype,"error",{get:function(){return this.errorImpl.bind(this)},enumerable:!0,configurable:!0}),e.prototype.errorImpl=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],a=e[1];if("string"==typeof r)if(a instanceof Error){this.raven.captureBreadcrumb({message:r,level:"info",category:"console"});var u=[],c={};(a instanceof s.c||a instanceof s.d)&&(u.push(a.shortMessage),u.push(a.requestUrl.replace(/\?.*/g,"?querystringstripped")),a instanceof s.c&&u.push(a.httpCode.toString()),a instanceof s.d&&(c={requestUrl:a.requestUrl,responseURL:a.responseURL,type:a.type})),this.captureException(a,{fingerprint:u,extra:c});var l=o(a);this.ga("send",{hitType:"event",eventCategory:"Log Reporter: "+r,eventAction:l.message,eventLabel:l.stack,nonInteraction:!0})}else r.startsWith("react data is missing for:")?this.ga("send",{hitType:"event",eventCategory:"react data is missing for",eventAction:r.split(":")[1],eventLabel:"placeholder",nonInteraction:!0}):(this.raven.captureMessage(r),this.ga("send",{hitType:"event",eventCategory:"Log Reporter: "+r,eventAction:"placeholder",eventLabel:"placeholder",nonInteraction:!0}));else if(r instanceof Error){var u=[];(r instanceof s.c||r instanceof s.d)&&(u.push(r.shortMessage),u.push(r.requestUrl.replace(/\?.*/g,"?querystringstripped"))),this.captureException(r,{fingerprint:u});var l=o(r);this.ga("send",{hitType:"event",eventCategory:"Log Reporter: Exception",eventAction:l.message,eventLabel:l.stack,nonInteraction:!0})}else if(r instanceof ErrorEvent){var l=i(r);this.ga("send",{hitType:"event",eventCategory:"Log Reporter: ErrorEvent",eventAction:l.message,eventLabel:l.stack,nonInteraction:!0})}(t=this.logger).error.apply(t,e)},e.prototype.captureException=function(t,e){r(t)&&this.raven.captureException(t,e)},e.prototype.captureBreadcrumb=function(t){this.raven.captureBreadcrumb(t)},e}(u)},function(t,e,n){"use strict";function r(t){return i.e.hash(c+t)}n.d(e,"a",function(){return u});var o=n(145),i=n(6),s=this&&this.__awaiter||function(t,e,n,r){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?n(t.value):o(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},u=function(){function t(t,e,n,r,o,i){this.httpClient=t,this.deviceId=e,this.clientId=n,this.log=r,this.storage=o,this.geo=i,this.getFacebookPixel()}return t.prototype.fireAttributionPixelOnInstallIfNeeded=function(t){return s(this,void 0,void 0,function(){var t,e,n;return a(this,function(o){switch(o.label){case 0:return this.storage.attributionPixelOnInstalledEventFired?[3,3]:(this.storage.attributionPixelOnInstalledEventFired=!0,t=r(this.clientId),e=d.get(t),e?[4,e(this.storage.thirdPartyCookie,this.deviceId,this.geo(this.deviceId))]:[3,2]);case 1:n=o.sent(),this.log.info("About to fire "+n),this.httpClient.get(n,{withCredentials:!0}),o.label=2;case 2:this.triggerFBQ("INSTALL"),o.label=3;case 3:return[2]}})})},t.prototype.fireAttributionOnSponsoredEventIfneeded=function(t){var e=this.storage.sponsoredEventsFiredCount;if(e++,this.storage.sponsoredEventsFiredCount=e,t)switch(e){case 1:this.fireAttributionPixelOnFirstSponsoredEventIfNeeded(t)}var n,o=r(this.clientId),i=p.get(o);if(i&&(n=i.get(e))){var s=n(this.storage.thirdPartyCookie,this.deviceId);this.log.info("Fire pixel upon "+e+" events "+s),this.httpClient.get(s)}switch(e){case 1:this.triggerFBQ("VIEW_ONE_AD");break;case 3:this.triggerFBQ("VIEW_THREE_ADS");break;case 5:this.triggerFBQ("VIEW_FIVE_ADS");break;case 10:this.triggerFBQ("VIEW_TEN_ADS");break;case 1e3:this.triggerFBQ("VIEW_1K_ADS")}},t.prototype.triggerFBQ=function(t){return s(this,void 0,void 0,function(){var e,n,o;return a(this,function(i){switch(i.label){case 0:return[4,this.getFacebookPixel()];case 1:return(e=i.sent())?void 0===(n=f.get(t))?[2]:(o="function"==typeof n?n(r(this.clientId)):n,e(o.is_custom?"trackCustom":"track",o.name,o.parameters),[2]):[2]}})})},t.prototype.fireAttributionPixelOnFirstSponsoredEventIfNeeded=function(t){if(!this.storage.attributionPixelOnSponsoredEventFired){this.storage.attributionPixelOnSponsoredEventFired=!0;var e=r(this.clientId),n=new Map([["4f8bd05394724861c15d6ae4c16e22193019b940","http://cnx.ziggyl.com/?psh="+t]]),o=n.get(e);o&&this.httpClient.get(o)}},t.prototype.getFacebookPixel=function(){var t=this;if(void 0==this.local_fbq){var e=l.get(r(this.clientId));return e?(this.log.info("Will create fbq with pixel "+e),Object(o.a)(window,document).then(function(n){return t.log.info("Success creating fbq!"),t.local_fbq=function(e,r,o){return t.log.debug("Fire fbq: '"+e+"' , event: '"+r+"', params:",o),n(e,r,o)},t.local_fbq("init",e),t.local_fbq})):(this.local_fbq=null,this.log.info("No need for Facebook pixel"),Promise.resolve(null))}return Promise.resolve(this.local_fbq)},t.prototype.getCookieDomainAndKeyIfNeeded=function(t){var e=r(t);return h.get(e)},t}(),c="dfdsa@#$!@S4",l=new Map([["55d44272945989aeb22962d444aa75db155d4205","365402327179764"],["9990fcdc8ff467a78a4f394fb519e7ef3d8e5e13","633538343512506"],["8db321cfa45dd6beeec8cd618147c807c2688db4","794717750894645"],["d98e5e61822f6b0fd6890cf7542b2dc9649e6385","794717750894645"]]),f=new Map([["INSTALL",function(t){return"d98e5e61822f6b0fd6890cf7542b2dc9649e6385"===t?{name:"Purchase",is_custom:!1,parameters:{value:5,currency:"USD"}}:{name:"Lead",is_custom:!1}}],["VIEW_ONE_AD",{name:"View_one_ad",is_custom:!0}],["VIEW_THREE_ADS",{name:"View_three_ads",is_custom:!0}],["VIEW_FIVE_ADS",{name:"View_five_ads",is_custom:!0}],["VIEW_TEN_ADS",{name:"View_ten_ads",is_custom:!0}],["VIEW_1K_ADS",{name:"View_1000_ads",is_custom:!0}]]),h=new Map([["4f8bd05394724861c15d6ae4c16e22193019b940",{domain:"extisc.unimania.xyz",name:"successInstall"}],["81d0ef8120a54c5c2890df59b11fb9ec7871dc49",{domain:"collection-endpoint-staging.herokuapp.com",name:"refCookie"}],["8db321cfa45dd6beeec8cd618147c807c2688db4",{domain:"collection-endpoint-staging.herokuapp.com",name:"refCookie"}],["71633a5a8765f1dfee057f88bb7de7424674211c",{domain:"stream-it.online",name:"uid"}],["d203d383e012e69e63eb2946da40ef86fec4d400",{domain:"collection-endpoint-staging.herokuapp.com",name:"refCookie"}],["d237ebec5b622f1911d10e8e293710295951aa49",{domain:"collection-endpoint-staging.herokuapp.com",name:"refCookie"}],["f6392926fe4a51fe3c73a82192d95f6fa280df18",{domain:"luc.unimania.xyz",name:"rid"}],["e79da48c752d4e314118e82ac08348adbbf8db67",{domain:"cnt.unimania.xyz",name:"id"}],["3645fedc1644a6ea03ae095f996a20bfbc53fcf9",{domain:"d3qucy43qe5w9i.cloudfront.net",name:"rid"}],["b0d7a25a45d020d60c442b9207239411b5f0445b",{domain:"dd2gkcphvao99.cloudfront.net",name:"id"}],["46da80faf6f55dcfa412f66f34e1f367e81e7d6c",{domain:"d1uw8ix1k8t8cw.cloudfront.net",name:"tk"}]]),p=new Map([["9990fcdc8ff467a78a4f394fb519e7ef3d8e5e13",new Map([[1,function(t,e){return"https://s.mb4a.com/cb/8-95332610_10-2_i7s?ifcontext="+t+"&order_id="+e}],[3,function(t,e){return"https://s.mb4a.com/cb/8-95332646_10-2_bgs?ifcontext="+t+"&order_id="+e}],[5,function(t,e){return"https://s.mb4a.com/cb/8-95332648_10-2_5sj?ifcontext="+t+"&order_id="+e}],[10,function(t,e){return"https://s.mb4a.com/cb/8-95332650_10-2_7op?ifcontext="+t+"&order_id="+e}]])]]),d=new Map([["81d0ef8120a54c5c2890df59b11fb9ec7871dc49",function(t,e,n){return Promise.resolve("http://redirect.topoffer.pw/aff_lsr?transaction_id="+t)}],["9990fcdc8ff467a78a4f394fb519e7ef3d8e5e13",function(t,e,n){return Promise.resolve("https://s.mb4a.com/cb/8-95332058_10-2_nip?ifcontext="+t+"&order_id="+e)}],["8db321cfa45dd6beeec8cd618147c807c2688db4",function(t,e,n){return Promise.resolve("https://s.mb4a.com/cb/8-95332058_10-2_nip?cookie="+t+"&uid="+e)}],["71633a5a8765f1dfee057f88bb7de7424674211c",function(t,e,n){return n.then(function(n){return"http://sendmepixel.com/pixel.aspx?name=stream-it-ff&type=bt_install&entity=26&data1="+e+"&data2="+n+"&barcode=22&userid="+t})}],["3645fedc1644a6ea03ae095f996a20bfbc53fcf9",function(t,e,n){return n.then(function(e){return"https://notch.insights.supply/cb?token=a7efc84f-b7d7-4b29-9a7e-ec913e635a49&RID="+t})}],["f6392926fe4a51fe3c73a82192d95f6fa280df18",function(t,e,n){return n.then(function(e){return"https://notch.insights.supply/cb?token=a7efc84f-b7d7-4b29-9a7e-ec913e635a49&RID="+t})}],["d98e5e61822f6b0fd6890cf7542b2dc9649e6385",function(t,e,n){return n.then(function(t){return"https://action.media6degrees.com/orbserv/nspix?adv=cl1026859&ns=3916&nc=btsync&ncv=47&ptid=122&tpuv=01&tpu="+e.substring(0,40)})}],["82272ed51534e9cfacd2f9fe6da7ad6053197aec",function(t,e,n){return n.then(function(t){return"https://action.media6degrees.com/orbserv/nspix?adv=cl1026859&ns=3916&nc=btsync&ncv=47&ptid=122&tpuv=01&tpu="+e.substring(0,40)})}]])},function(t,e,n){"use strict";function r(t){var e=new Uint8Array(32),n="";t.getRandomValues(e);for(var r=0;r<e.length;++r)n+=e[r].toString(16);return n}n.d(e,"a",function(){return o});var o=function(){function t(t,e,n){this.storage=t,this.cryptoObject=e,this.builtInDeviceId=n}return Object.defineProperty(t.prototype,"user_opted_out",{get:function(){return this.getFlag("user_opted_out")},set:function(t){this.setFlag("user_opted_out",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"secret_random_salt",{get:function(){var t=this.getString("secret_random_salt");if(t)return t;var e=r(this.cryptoObject);return this.setString("secret_random_salt",e),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attributionPixelOnInstalledEventFired",{get:function(){return this.getFlag("shouldFireAttributionPixelOnInstalledEventLocalStorage")},set:function(t){this.setFlag("shouldFireAttributionPixelOnInstalledEventLocalStorage",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attributionPixelOnSponsoredEventFired",{get:function(){return this.getFlag("shouldFireAttributionPixelOnSponsoredEventLocalStorage")},set:function(t){this.setFlag("shouldFireAttributionPixelOnSponsoredEventLocalStorage",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sponsoredEventsFiredCount",{get:function(){return this.getNumber("sponsoredEventCountLocalStorage")},set:function(t){this.setNumber("sponsoredEventCountLocalStorage",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thirdPartyIdIS",{get:function(){return this.getString("thirdPartyIdIS")},set:function(t){this.setString("thirdPartyIdIS",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thirdPartyCookie",{get:function(){return this.getString("thirdPartyCookie")},set:function(t){this.setString("thirdPartyCookie",t)},enumerable:!0,configurable:!0}),t.prototype.GetLastAdActivityTime=function(t){return this.getDate("lastSeenAdActivityDateForUserPrefixV3__"+t)},t.prototype.SetLastAdActivityTime=function(t,e){this.setDate("lastSeenAdActivityDateForUserPrefixV3__"+t,e)},Object.defineProperty(t.prototype,"isNewInstall",{get:function(){var t=this.getFlag("HasThisExtensionRunBeforeLocalStorageKey_v1");return this.setFlag("HasThisExtensionRunBeforeLocalStorageKey_v1",!0),!t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastInstallVersion",{get:function(){var t=this.getString("IsUpdateVersion_v1");return t||""},set:function(t){this.setString("IsUpdateVersion_v1",t)},enumerable:!0,configurable:!0}),t.prototype.getDeviceId=function(){if(this.builtInDeviceId)return this.builtInDeviceId;var t=this.storage.getItem("uniqueIdLocalStorageStr"),e=this.getString("uniqueIdLocalStorageStrJSON");return null!==t&&null===e&&(e=t,this.setString("uniqueIdLocalStorageStrJSON",t)),null===e&&(e=r(this.cryptoObject),this.setString("uniqueIdLocalStorageStrJSON",e)),e},Object.defineProperty(t.prototype,"deviceId",{get:function(){return this.getDeviceId()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldShowNotifications",{get:function(){return this.getFlag("ShowNotificationsOnEvent")},set:function(t){this.setFlag("ShowNotificationsOnEvent",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldShowFoundPosts",{get:function(){return this.getFlag("ShowFoundPosts")},set:function(t){this.setFlag("ShowFoundPosts",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastInterestsSend",{get:function(){return this.getDate("lastIntrestsSend-2")},set:function(t){this.setDate("lastIntrestsSend-2",t)},enumerable:!0,configurable:!0}),t.prototype.getString=function(t){if(!(t in this.storage))return null;var e=this.storage.getItem(t);return null===e?null:('"'!==e.charAt(0)&&(e='"'+e+'"'),JSON.parse(e))},t.prototype.setString=function(t,e){return this.storage.setItem(t,JSON.stringify(e))},t.prototype.getNumber=function(t){var e=this.storage.getItem(t);return e?JSON.parse(e):0},t.prototype.setNumber=function(t,e){this.storage.setItem(t,JSON.stringify(e))},t.prototype.getFlag=function(t){return this.storage.getItem(t)&&"false"!==this.storage.getItem(t)||this.storage.setItem(t,JSON.stringify(!1)),JSON.parse(this.storage.getItem(t))},t.prototype.setFlag=function(t,e){this.storage.setItem(t,JSON.stringify(e))},t.prototype.getDate=function(t){var e=new Date(this.storage.getItem(t));return isNaN(e.getTime())&&(e=new Date(0),this.storage.setItem(t,e.toJSON())),e},t.prototype.setDate=function(t,e){this.storage.setItem(t,e.toJSON())},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(7),o=function(){function t(t,e){var n=this;this.log=t,this.sponsoredYTVideosSubscription=new r.d,e(function(t){var e=t.url.search("\\?"),r=t.url.slice(e);if(e){var o=new URLSearchParams(r),i=Array.from(o).reduce(function(t,e){var n=e[0],r=e[1];return t[n]=r,t},{});n.log.debug("Found new video with ID="+i.video_id+" url "+t.url+"\n",i),i.pltype&&"content"!==i.pltype&&"contentugc"!==i.pltype&&"contentlive"!==i.pltype&&"contentugclive"!==i.pltype&&i.video_id&&n.sponsoredYTVideosSubscription.next({id:i.video_id,host_type:i.pltype})}},["https://www.youtube.com/ptracking*"])}return t}()},function(t,e,n){"use strict";var r=n(7),o=n(30),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},i.apply(this,arguments)},s=this&&this.__awaiter||function(t,e,n,r){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?n(t.value):o(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};!function(){function t(t,e){this.log=t,this.http=e,this.sponsoredMobileFacebookPostsSubscription=new r.d,this.getPosts(),this.scheduleAndGetEvents()}t.prototype.scheduleAndGetEvents=function(){var t=this,e=Math.round(1440*Math.random())+1;this.log.info("Will get new events in "+e+" minutes"),window.setTimeout(function(){t.getPosts(),t.scheduleAndGetEvents()},60*e*1e3)},t.prototype.getPosts=function(){return s(this,void 0,void 0,function(){var t,e,n,r,s,u,c,l,f,h,p,d,_,v,u,c,l,b,y,m,g,w,S,x,O,k;return a(this,function(a){switch(a.label){case 0:this.log.info("Trying to get events as mobile..."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.http.get("https://m.facebook.com")];case 2:for(t=a.sent(),e=document.createElement("div"),e.innerHTML=t.data,n=null,r=0,s=Array.from(e.querySelectorAll("script"));r<s.length;r++)if(u=s[r],c=u.text.match(/ServerJSDefine"\)\).handleDefines\((.*?)\)\;/))try{for(l=JSON.parse(c[1]),f=0,h=l;f<h.length;f++)if(p=h[f],"CurrentUserInitialData"===p[0]&&p.length>2&&(d=p[2],d.USER_ID)){n=d.USER_ID;break}}catch(t){this.log.info("Couldn't parse userid",t)}if(n)for(_=0,v=Array.from(e.querySelectorAll("script"));_<v.length;_++)if(u=v[_],c=u.text.match(/^require\("MRenderingScheduler"\).getInstance\(\).schedule\(({.*}),.*function.*\);?$/))try{if(l=JSON.parse(c[1]),l.content&&l.content.__html)for(b=document.createElement("div"),b.innerHTML=l.content.__html,y=b.querySelectorAll("article"),m=new o.i(this.log,"mobile"),g=0,w=Array.from(y);g<w.length;g++)S=w[g],m.isStorySponsored(S)&&(x=m.parseSponsoredFeedStory(S,[]),O=i({fb_post_width:null,fb_post_height:null,fb_user_id:n},x),this.sponsoredMobileFacebookPostsSubscription.next(O))}catch(t){this.log.info("Couldn't parse articles.")}return[3,4];case 3:return k=a.sent(),this.log.info("General error during getPorst",k),[3,4];case 4:return[2]}})})}}()},function(t,e,n){"use strict";function r(t,e){return function(n){var r=n.match(t);if(r&&r.length==e.length+1){for(var o=new Map,i=0;i<e.length;i++)o.set(e[i],r[1+i]);return o}return null}}function o(t){return new Promise(function(e,n){var r=t(function(t){t.url.indexOf("?");if(t.requestBody&&t.requestBody.formData){var n=t.requestBody.formData[l]&&t.requestBody.formData[l][0],o=t.requestBody.formData[f]&&t.requestBody.formData[f][0],i=t.requestBody.formData[h]&&t.requestBody.formData[h][0];i&&n&&o&&n.length>120&&(r(),e({dyn:n,user:o,dtsg:i}))}},{urls:["https://www.facebook.com/*"],types:["xmlhttprequest"]})})}e.b=o,n.d(e,"a",function(){return d});var i=n(7),s=this&&this.__assign||function(){return s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},s.apply(this,arguments)},a=this&&this.__awaiter||function(t,e,n,r){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?n(t.value):o(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},c=this&&this.__asyncValues||function(t){function e(e){r[e]=t[e]&&function(r){return new Promise(function(o,i){r=t[e](r),n(o,i,r.done,r.value)})}}function n(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=t[Symbol.asyncIterator];return o?o.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),r={},e("next"),e("throw"),e("return"),r[Symbol.asyncIterator]=function(){return this},r)},l="__dyn",f="__user",h="fb_dtsg",p=[r(/\/(.*)\/posts\/([0-9]*)/,["fb_post_advertiser_page_id","entityId"]),r(/\/(.*)\/videos\/([0-9]*)/,["fb_post_advertiser_page_id","entityId"]),r(/story_fbid=([0-9]*)&id=([0-9]*)&?/,["entityId","fb_post_advertiser_page_entity_id"]),r(/\/(.*)\/photos\/.*\/([0-9]*)\/\?type=[0-9].*/,["fb_post_advertiser_page_id","entityId"])],d=function(){function t(t,e,n,r){var o=this;if(this.log=t,this.httpClient=e,this.getNeededRequestParams=n,this.adActivitySubscription=new i.d,r){var s=Math.floor(1*Math.random()*24*60*60*1e3);window.setTimeout(function(){return o.start()},s)}else this.start()}return t.prototype.start=function(){var t=this;this.log.info("Trying to fetch new posts..."),this.getNeededRequestParams.then(function(e){var n=e.dyn,r=e.user,o=e.dtsg;t.getPosts(n,r,o).then(function(e){e.forEach(function(e){return t.adActivitySubscription.next(e)})}),t.log.debug("Unregistering.... will try again in 1 week"),t.nextEventFetchTimeout=window.setTimeout(function(){return t.start()},6048e5)})},t.prototype.getPosts=function(t,e,n){var r,o;return a(this,void 0,void 0,function(){var i,a,l,f,h,d,v,b,y,m,g,w,S,x,O,k,E,j,I,T,C,A,P,L,M,q,R,N,D;return u(this,function(u){switch(u.label){case 0:i=new _(this.httpClient,t,e,n),a=[],l=new URLSearchParams,l.set("__user",e),l.set("__a","1"),l.set("fb_dtsg",n),l.set("__dyn",t),f=10,u.label=1;case 1:u.trys.push([1,14,15,20]),h=c(i),u.label=2;case 2:return[4,h.next()];case 3:if(d=u.sent(),!!d.done)return[3,13];if(v=d.value,0==f--||void 0===v)return[3,13];b=[];for(y in v)b.push(y);m=0,u.label=4;case 4:if(!(m<b.length))return[3,12];g=b[m],w=["https://www.facebook.com/click_activity/preview_contents/?ad_id="+g+"&image_height=78&image_width=150&dpr=2","https://www.facebook.com/ad_activity/ad_preview_contents/?ad_id="+g+"&image_height=78&image_width=150&dpr=2"],S=void 0,x=0,O=w,u.label=5;case 5:if(!(x<O.length))return[3,10];k=O[x],u.label=6;case 6:return u.trys.push([6,8,,9]),[4,this.httpClient.post(k,l.toString())];case 7:return S=u.sent(),""!==S?[3,10]:[3,9];case 8:return E=u.sent(),[3,9];case 9:return x++,[3,5];case 10:if(!S)throw new Error("No ad_activity/click_activity valid url");if((j=S.match(/for \(;;\);(.*)/))&&j[1]&&(I=JSON.parse(j[1]),I.payload)){if(this.log.debug("new data",I.payload),T=null,C=null,A=null,I.payload.contents)for(P=0,L=p;P<L.length;P++)M=L[P],(q=M(I.payload.contents.storyURI))&&(!T&&q.has("entityId")&&(T=q.get("entityId")),!C&&q.has("fb_post_advertiser_page_id")&&(C=q.get("fb_post_advertiser_page_id")),!A&&q.has("entityId")&&(A=q.get("fb_post_advertiser_page_entity_id")));if(!T||!I.payload.contents)throw this.log.captureBreadcrumb({message:"storyURI",data:I.payload.contents}),this.log.error(new Error("Encoutered a bad storyURI")),new Error("Encoutered a bad storyURI");R=v[g].date,N=s(s({},I.payload.contents),{dateClicked:new Date(1e3*Number.parseInt(R)),userId:e,entityId:T,fb_post_advertiser_page_id:C,fb_post_advertiser_page_entity_id:A}),this.log.debug("Found new entId",N),a.push(N)}u.label=11;case 11:return m++,[3,4];case 12:return[3,2];case 13:return[3,20];case 14:return D=u.sent(),r={error:D},[3,20];case 15:return u.trys.push([15,,18,19]),d&&!d.done&&(o=h.return)?[4,o.call(h)]:[3,17];case 16:u.sent(),u.label=17;case 17:return[3,19];case 18:if(r)throw r.error;return[7];case 19:return[7];case 20:return[2,a.sort(function(t,e){return t.dateClicked>e.dateClicked?1:-1})]}})})},t}();Symbol.asyncIterator||(Symbol.asyncIterator=Symbol.for("Symbol.asyncIterator"));var _=function(){function t(t,e,n,r){this.httpClient=t,this.dyn=e,this.user=n,this.dtsg=r,this.last_item_served_hash=void 0,this.hasMore=!0,this.ongoingRequest=!1}return t.prototype[Symbol.asyncIterator]=function(){return this},t.prototype.next=function(){return a(this,void 0,void 0,function(){var t,e,n,r,o,i,s,a,c;return u(this,function(u){switch(u.label){case 0:if(this.ongoingRequest)throw new Error("You must wait the last operation to complete");if(!this.hasMore)return[2,{value:void 0,done:!0}];t=new URLSearchParams,t.set(l,this.dyn),t.set(f,this.user),t.set(h,this.dtsg),t.set("__a","1"),t.set("dpr","2"),this.last_item_served_hash&&(t.set("see_more_type","adClicks"),t.set("last_item_served_hash",this.last_item_served_hash)),this.ongoingRequest=!0,u.label=1;case 1:u.trys.push([1,,8,9]),e=["https://www.facebook.com/business_integrity/purchase_history/purchase_history_row_data/","https://www.facebook.com/ads_integrity/purchase_history/purchase_history_row_data/"],n=void 0,r=0,o=e,u.label=2;case 2:if(!(r<o.length))return[3,7];i=o[r],u.label=3;case 3:return u.trys.push([3,5,,6]),[4,this.httpClient.post(i,t.toString())];case 4:return n=u.sent(),[3,7];case 5:return s=u.sent(),[3,6];case 6:return r++,[3,2];case 7:if(!n)throw new Error("No business_integrity/ads_integrity valid url");if(!n)throw new Error("purchase_history.data empty");if(!(a=n.match(/for \(;;\);(.*)/))||!a[1])throw new Error("invalid purchase_history.data payload");return c=JSON.parse(a[1]),c.payload&&c.payload.click_history?(this.hasMore=c.payload.click_history.has_more_items,this.last_item_served_hash=c.payload.click_history.last_item_served_hash,[2,{value:c.payload.click_history.history_rows,done:!1}]):(this.hasMore=!1,[2,{value:void 0,done:!0}]);case 8:return this.ongoingRequest=!1,[7];case 9:return[2]}})})},t}()},function(t,e,n){"use strict";var r=n(6),o=n(7),i=n(19),s=n(335),a=this&&this.__awaiter||function(t,e,n,r){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?n(t.value):o(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};!function(){function t(t,e,n,r,c,l,f){var h=this;this.log=t,this.axios=e,this.getCookiesForDomain=n,this.trafficRegisterFunc=r,this.tabRegistrationFunc=c,this.tabRemoval=l,this.cookieRemoval=f,this.tabProtector=0,this.adActivitySubscriptionSubject=new o.d,this.activeInstagramTabs=new Map,this.handleTabChange=function(t,e,n){return a(h,void 0,void 0,function(){var r,o,i,a,c,l,f,h,i,p=this;return u(this,function(u){switch(u.label){case 0:return"complete"===e.status&&n.url?(r=this.activeInstagramTabs.get(t),r&&(this.log.info("We know this tab "+t+"!, and it just had a main frame load, detach and delete"),this.activeInstagramTabs.delete(t),r.detachFunction&&r.detachFunction()),"https://www.instagram.com/"!==n.url?[3,9]:(this.log.info("User just started browsing instagram in tab "+t),o=this.tabProtector++,this.activeInstagramTabs.set(t,{tabInstance:o}),i=this.activeInstagramTabs.get(t),i?i.tabInstance!==o?(this.log.info("Someone else is already taking care of this tab."),[2]):[4,this.validateCookies()]:(this.log.info("Tab got deleted."),[2]))):[2];case 1:return u.sent()?[4,this.getCookies()]:[3,7];case 2:return a=u.sent(),a?[3,4]:[4,this.createInternalSession()];case 3:return a=u.sent(),a?[3,5]:(this.log.error("Could not create cookies!"),[2]);case 4:this.log.info("i.instagram.com cookie present!"),u.label=5;case 5:return c=new s.a(this.log,a.csrftoken,a.sessionid,a.ds_user_id,this.axios,this.trafficRegisterFunc,t),l=this.trafficRegisterFunc(function(e){c.next().then(function(e){var n=(e.value,e.done,p.activeInstagramTabs.get(t));if(!n||n.tabInstance!==o)return p.log.error("This tab isn't supposed to be alive!"),void l();f.value.forEach(function(t){p.adActivitySubscriptionSubject.next(t)})}).catch(function(t){p.log.error("Failed getting another page in IG",t)})},{types:["xmlhttprequest"],urls:["https://www.instagram.com/graphql/query/?query_hash=*fetch_media_item_cursor*"],tabId:t}),i.detachFunction=l,i.iterator=c,[4,c.next()];case 6:return f=u.sent(),f.value.forEach(function(t){p.adActivitySubscriptionSubject.next(t)}),[3,8];case 7:this.log.info("This user doesn't have active cookies for instagram/facebook"),this.activeInstagramTabs.delete(t),u.label=8;case 8:return[3,10];case 9:if(n.url.match(/https:\/\/www.instagram.com\/(?!explore)\w+\//)){if(h=this.tabProtector++,this.activeInstagramTabs.set(t,{tabInstance:h}),!(i=this.activeInstagramTabs.get(t)))return this.log.info("Tab got deleted."),[2];if(i.tabInstance!==h)return this.log.info("Someone else is already taking care of this tab."),[2];i.detachFunction=this.trafficRegisterFunc(function(t){p.log.info("User logging out, cleaning up..."),Promise.all([p.cookieRemoval("https://i.instagram.com","sessionid"),p.cookieRemoval("https://i.instagram.com","csrftoken")])},{types:["main_frame"],urls:["https://www.instagram.com/accounts/logout/"],tabId:t})}u.label=10;case 10:return[2]}})})},this.start().then(function(){h.log.info("Started IGAdScraper")}),this.adActivitySubscription=this.adActivitySubscriptionSubject.pipe(Object(i.a)(this.adActivitySubscriptionSubject.pipe(Object(i.g)(3e4))),Object(i.k)(function(t){for(var e=new Map,n=0,r=t;n<r.length;n++){var i=r[n];e.has(i.ig_media_shortcode)?h.log.warn("Found duplicate post"):e.set(i.ig_media_shortcode,i)}return Object(o.h)(Array.from(e.values()))}),Object(i.e)())}t.prototype.getCookies=function(){return a(this,void 0,void 0,function(){var t,e,n,r;return u(this,function(o){switch(o.label){case 0:return[4,this.getCookiesForDomain("i.instagram.com")];case 1:return t=o.sent(),0===t.size?(this.log.info("This user doesn't have any cookies in instagram"),[2,null]):(e=t.get("ds_user_id"),n=t.get("sessionid"),r=t.get("csrftoken"),e&&n&&r?[2,{ds_user_id:e,sessionid:n,csrftoken:r}]:(this.log.info("This user is missing parameters in his cookie (maybe he isn't logged in)"),[2,null]))}})})},t.prototype.validateCookies=function(){return a(this,void 0,void 0,function(){var t,e,n,r;return u(this,function(o){switch(o.label){case 0:return[4,Promise.all([this.getCookiesForDomain(".instagram.com"),this.getCookiesForDomain(".facebook.com"),this.axios.get("https://www.instagram.com/graphql/query/?query_hash=bd90987150a65578bc0dd5d4e60f113d")])];case 1:return t=o.sent(),e=t[0],n=t[1],r=t[2],r&&r.data.data&&r.data.data.user&&r.data.data.user.connected_fbid?[2,!!(e.size&&e.get("sessionid")&&n.size&&n.get("c_user")&&n.get("c_user")===r.data.data.user.connected_fbid)]:[2,!1]}})})},t.prototype.start=function(){return a(this,void 0,void 0,function(){var t=this;return u(this,function(e){return this.tabRemoval(function(e){var n=t.activeInstagramTabs.get(e);n&&(t.log.info("We know this tab "+e+"!, and it was just removed!"),t.activeInstagramTabs.delete(e),n.detachFunction&&n.detachFunction())}),this.tabRegistrationFunc(this.handleTabChange),[2]})})},t.prototype.generateCookies=function(t){return a(this,void 0,void 0,function(){var e,n,o,i,a=this;return u(this,function(u){switch(u.label){case 0:return e=Object(r.x)().substring(2),n=this.trafficRegisterFunc(function(t){if(t.requestHeaders&&t.requestHeaders.find(function(t){return t.name===e})){var n=t.requestHeaders;a.log.info("Access token conversion request intercepted."),n.push(s.d),n.find(function(t){return t.name.toLowerCase()===s.b}).value=s.c;var r=n.find(function(t){return"cookie"===t.name.toLowerCase()}).value;return n.find(function(t){return"cookie"===t.name.toLowerCase()}).value=r.replace(/mcd=\d;/,""),{requestHeaders:n}}return{}},{urls:["*://*.instagram.com/*"],types:["xmlhttprequest"]}),o=new URLSearchParams,o.set("signed_body","."+JSON.stringify({fb_access_token:t,device_id:"android-"+e})),o.set("ig_sig_key_version","4"),[4,this.axios.post("https://i.instagram.com/api/v1/fb/facebook_signup/",o.toString(),{headers:(i={},i[e]=e,i["content-type"]="application/x-www-form-urlencoded",i)})];case 1:return u.sent(),n(),[2]}})})},t.prototype.getAccessToken=function(t,e,n){return a(this,void 0,void 0,function(){var o,i;return u(this,function(s){switch(s.label){case 0:return o=new URLSearchParams,o.set("jazoest",t),o.set("fb_dtsg",e),o.set("scope",n),o.set("redirect_uri","fbconnect://success"),o.set("display","page"),o.set("app_id","124024574287414"),o.set("response_type","token,signed_request"),[4,this.axios.post("https://www.facebook.com/v2.3/dialog/oauth/skip/submit/",o.toString(),{headers:{"content-type":"application/x-www-form-urlencoded"}})];case 1:return i=s.sent(),[2,Object(r.q)(function(){return i.data.match(/access_token=(\w+)&/)[1]},null)]}})})},t.prototype.getOauthParams=function(){return a(this,void 0,void 0,function(){var t,e,n,o;return u(this,function(i){switch(i.label){case 0:return[4,this.axios.get("https://facebook.com/v2.3/dialog/oauth?access_token=&client_id=124024574287414&e2e=%7B%22init%22%3A1561476830432%7D&scope=email&default_audience=friends&redirect_uri=fbconnect%3A%2F%2Fsuccess&response_type=token%2Csigned_request&return_scopes=true&ret=login")];case 1:return t=i.sent(),e=Object(r.q)(function(){return t.data.match(/fb_dtsg\\" value=\\"(.+?)\\"/)[1]},null),n=Object(r.q)(function(){return t.data.match(/jazoest\\" value=\\"(.+?)\\"/)[1]},null),o=Object(r.q)(function(){return t.data.match(/scope\\" value=\\"(.+?)\\"/)[1]},null),[2,{fb_dtsg:e,jazoest:n,scope:o}]}})})},t.prototype.createInternalSession=function(){return a(this,void 0,void 0,function(){var t,e,n,r,o,i;return u(this,function(s){switch(s.label){case 0:return[4,this.getOauthParams()];case 1:return t=s.sent(),e=t.fb_dtsg,n=t.jazoest,r=t.scope,e&&n&&r?[4,this.getAccessToken(n,e,r)]:(this.log.error("Couldn't fetch oauth params!"),[2,null]);case 2:return o=s.sent(),o?[4,this.generateCookies(o)]:(this.log.error("Couldn't fetch access token!"),[2,null]);case 3:return s.sent(),[4,this.getCookies()];case 4:return i=s.sent(),i?[2,i]:(this.log.error("Couldn't convert access token to cookies!"),[2,null])}})})}}()},function(t,e,n){"use strict";function r(t){return 1==t?"image":2==t?"video":8==t?"carousel":"unknown"}n.d(e,"d",function(){return s}),n.d(e,"c",function(){return a}),n.d(e,"b",function(){return u}),n.d(e,"a",function(){return c});var o=this&&this.__awaiter||function(t,e,n,r){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?n(t.value):o(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},s={name:"x-ig-capabilities",value:"3brTBw=="},a="Instagram 10.26.0 (iPhone7,2; iOS 10_1_1; en_US; en-US; scale=2.00; gamut=normal; 750x1334) AppleWebKit/420+",u="user-agent",c=function(){function t(t,e,n,r,o,i,s){this.log=t,this.csrftoken=e,this.sessionid=n,this.ds_user_id=r,this.axios=o,this.trafficRegisterFunc=i,this.tabId=s,this.max_id=null,this.reelCount=0,this.magicHeader=Math.random().toString(16).substring(2)}return t.prototype.next=function(){return o(this,void 0,void 0,function(){var t,e,n,o,c,l,f,h,p,d,_,v,b,y,m,g,w,S,x,O,k,E,j,I,T,C,A,P,L,M,q=this;return i(this,function(i){switch(i.label){case 0:return t=this.trafficRegisterFunc(function(t){if(t.requestHeaders&&t.requestHeaders.find(function(t){return t.name===q.magicHeader})){var e=t.requestHeaders;return q.log.info("Found a request we made for ig, modify it"),e.push(s),e.find(function(t){return t.name.toLowerCase()===u}).value=a,e.find(function(t){return"cookie"===t.name.toLowerCase()}).value="ds_user_id="+q.ds_user_id+"; sessionid="+q.sessionid+"; csrftoken="+q.csrftoken+";",{requestHeaders:e}}return{}},{urls:["*://*.instagram.com/*"],types:["xmlhttprequest"]}),e=new Set,n="https://i.instagram.com/api/v1/feed/timeline/",this.max_id&&(o={max_id:this.max_id}),[4,this.axios.post(n,o,{headers:(M={},M[this.magicHeader]=this.magicHeader,M["content-type"]="application/x-www-form-urlencoded",M)})];case 1:if(c=i.sent(),l=[],f=c.data,f.more_available)for(h=0,p=f.feed_items;h<p.length;h++)if(d=p[h],d.media_or_ad&&d.media_or_ad.injected){if(_=d.media_or_ad.id,e.has(_))continue;if(e.add(_),v=null,d.media_or_ad.image_versions2&&d.media_or_ad.image_versions2.candidates&&d.media_or_ad.image_versions2.candidates[0]&&(v=d.media_or_ad.image_versions2.candidates[0].url),b=null,d.media_or_ad.video_versions&&d.media_or_ad.video_versions[0]&&(b=d.media_or_ad.video_versions[0].url),y=null,d.media_or_ad.location&&(y=""+d.media_or_ad.location.pk),m=null,d.media_or_ad.carousel_media)for(m=[],g=0,w=d.media_or_ad.carousel_media;g<w.length;g++){if(S=w[g],S.image_versions2&&S.image_versions2.candidates)for(x=0,O=S.image_versions2.candidates;x<O.length;x++)k=O[x],m.push({ig_carousel_media_type:"image",ig_carousel_media_url:k.url});if(S.video_versions)for(E=0,j=S.video_versions;E<j.length;E++)I=j[E],m.push({ig_carousel_media_type:"video",ig_carousel_media_url:I.url})}T=d.media_or_ad.ad_action?d.media_or_ad.ad_action:null,C=new Date(1e3*d.media_or_ad.taken_at),A=void 0,P=null,d.media_or_ad.caption?(A=d.media_or_ad.caption.text,P=d.media_or_ad.caption.content_type):A=null,L={ig_media_reel_count:this.reelCount,ig_media_ad_action:T,ig_media_id:_,ig_media_user_id:d.media_or_ad.user.pk.toString(),ig_media_type:r(d.media_or_ad.media_type),ig_created_time:C,ig_media_shortcode:d.media_or_ad.code,ig_media_image_url:v,ig_media_video_url:b,ig_media_location_id:y,ig_media_text:A,ig_carousel_media_info:m,ig_media_comments_count:d.media_or_ad.comment_count,ig_media_likes_count:d.media_or_ad.like_count,ig_media_views_count:d.media_or_ad.view_count,ig_media_cta_text:d.media_or_ad.link_text,ig_user_username:d.media_or_ad.user.username,ig_profile_img_url:d.media_or_ad.user.profile_pic_url,ig_user_full_name:d.media_or_ad.user.full_name,ig_user_is_unpublished:d.media_or_ad.user.is_unpublished,ig_media_link:d.media_or_ad.link,ig_media_overlay_text:d.media_or_ad.overlay_text,ig_media_ad_title:d.media_or_ad.injected.ad_title,ig_media_content_type:P,ig_media_overlay_title:d.media_or_ad.overlay_title,ig_media_video_duration:d.media_or_ad.video_duration,debugging_info:{user:{is_unpublished:d.media_or_ad.user.is_unpublished,friendship_status:d.media_or_ad.user.friendship_status,full_name:d.media_or_ad.user.full_name,pk:d.media_or_ad.user.pk,profile_pic_url:d.media_or_ad.user.profile_pic_url,username:d.media_or_ad.user.username,has_anonymous_profile_picture:d.media_or_ad.user.has_anonymous_profile_picture,is_favorite:d.media_or_ad.user.is_favorite,is_private:d.media_or_ad.user.is_private,is_verified:d.media_or_ad.user.is_verified,profile_pic_id:d.media_or_ad.user.profile_pic_id},caption_is_edited:d.media_or_ad.caption_is_edited,comment_likes_enabled:d.media_or_ad.comment_likes_enabled,comment_threading_enabled:d.media_or_ad.comment_threading_enabled,has_audio:d.media_or_ad.has_audio,has_liked:d.media_or_ad.has_liked,inventory_source:d.media_or_ad.inventory_source,tab_id:this.tabId,instanceMagicHeader:this.magicHeader}},this.log.info("instance "+this.magicHeader+" Found an ad! "+L.ig_media_shortcode,L,d),l.push(L)}return this.reelCount++,this.max_id=f.next_max_id,t(),[2,{done:!1,value:l}]}})})},t}()},function(t,e,n){"use strict"},function(t,e,n){"use strict";function r(t){var e=t.fb_meta_dob_year,n=t.fb_meta_dob_month,r=t.geo_current_location_country_iso;if(!e||!n)return!0;var o=new Date(e,n);return!(((new Date).valueOf()-o.valueOf())/31536e6<18)||"IL"===r}n.d(e,"a",function(){return _});var o=n(6),i=n(42),s=n(178),a=n(7),u=n(19),c=n(148),l=n(179),f=n.n(l),h=this&&this.__awaiter||function(t,e,n,r){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?n(t.value):o(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())})},p=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},d=function(){return Object(u.j)(function(t){return r(t)})},_=function(){function t(t,e,n,r,o,i,s,a,u,c,l,f,h,p,d,_,v,b,y){this.clientId=t,this.gitRev=e,this.gitBranch=n,this.version=r,this.log=o,this.environmentServices=i,this.analyticsProvider=s,this.eventsEnricher=a,this.messageSender=u,this.facebookMetadataProvider=c,this.locationService=l,this.storage=f,this.pixelsService=h,this.safeSetIntervalImpl=p,this.safeSetTimeoutImpl=d,this.ytTracker=_,this.adActivityTracker=v,this.igPostsScraper=b,this.FB_SPONSORED_FAILSAFE_ENABLED=y,this.ytVideoEvents=null,this.auditEventsSubscription=null,this.igSponsoredPostsSub=null,this.adActivityEventsSub=null,this.crossMessageSubscription=null,this.envEventsSubscription=null,this.interestsSendingTimerStopper=null,this.configRequesterUnsub=null}return t.prototype.start=function(){var t=this;this.crossMessageSubscription=this.environmentServices.crossMessage.subscribe(function(e){return t.onCrossMessage(e)}),this.auditEventsSubscription=this.environmentServices.auditEvents.subscribe(function(e){return t.onAuditEvent(e)}),this.FB_SPONSORED_FAILSAFE_ENABLED&&this.setupSponsoredFailsafeWarning(),this.envEventsSubscription=this.environmentServices.envEvents.subscribe(function(e){return t.onEnvEvent(e)}),this.configRequesterUnsub=this.environmentServices.onConfigRequest(function(){return{ShouldShowFoundPosts:t.storage.shouldShowFoundPosts,ShouldShowAlerts:t.storage.shouldShowNotifications}}),this.interestsSendingTimerStopper=this.initInterestsSending().subscribe(),this.environmentServices.sendMessageToContent({type:"background-ready",payload:{}}),this.ytVideoEvents=this.ytTracker?this.ytTracker.sponsoredYTVideosSubscription.pipe(Object(u.h)(function(t,e){return t.id==e.id})).subscribe(function(e){return t.onYTAd(e)}):null,this.igPostsScraper&&(this.igSponsoredPostsSub=this.igPostsScraper.adActivitySubscription.pipe(Object(u.t)(function(e){return t.eventsEnricher.enrichIGScrapedEvent(e)}),d(),Object(u.w)(function(e){return t.log.info("Send IG story "+e.ig_media_shortcode)}),Object(u.k)(function(t){return{event_content:t,event_type:"ig_sponsored_post"}})).subscribe(function(e){t.messageSender.SendEvent(e)})),this.adActivityTracker&&(this.adActivityEventsSub=this.adActivityTracker.adActivitySubscription.subscribe(function(e){return h(t,void 0,void 0,function(){var t;return p(this,function(n){return t=this.storage.GetLastAdActivityTime(e.userId),t<e.dateClicked&&(this.storage.SetLastAdActivityTime(e.userId,e.dateClicked),this.onInteraction({fb_post_interaction_type:"ad_activity",fb_post_entity_id:e.entityId,fb_post_interaction_url:e.landingPageURL,fb_post_interaction_text:e.bodyRawText,fb_post_interaction_click_origin:null,fb_post_src:null,fb_user_id:e.userId,original_event_time:e.dateClicked,fb_post_advertiser_page_entity_id:e.fb_post_advertiser_page_entity_id,fb_post_advertiser_page_id:e.fb_post_advertiser_page_id})),[2]})})}))},t.prototype.stop=function(){var t,e,n,r,o,i,s;null===(t=this.crossMessageSubscription)||void 0===t||t.unsubscribe(),this.crossMessageSubscription=null,null===(e=this.auditEventsSubscription)||void 0===e||e.unsubscribe(),this.auditEventsSubscription=null,null===(n=this.envEventsSubscription)||void 0===n||n.unsubscribe(),this.envEventsSubscription=null,null!==this.configRequesterUnsub&&this.configRequesterUnsub(),this.configRequesterUnsub=null,null===(r=this.interestsSendingTimerStopper)||void 0===r||r.unsubscribe(),this.interestsSendingTimerStopper=null,null===(o=this.ytVideoEvents)||void 0===o||o.unsubscribe(),this.ytVideoEvents=null,null===(i=this.igSponsoredPostsSub)||void 0===i||i.unsubscribe(),this.igSponsoredPostsSub=null,null===(s=this.adActivityEventsSub)||void 0===s||s.unsubscribe(),this.adActivityEventsSub=null},t.prototype.onEnvEvent=function(t){var e=this;this.log.info("onEnvEvent",t),this.getThirdPartyCookie().then(function(n){var r=n.uid,o=n.raw;e.storage.thirdPartyCookie=o,e.storage.thirdPartyIdIS=r,e.analyticsProvider.then(function(n){Object(c.a)(n,e.gitRev,e.gitBranch,e.clientId,e.storage.deviceId,e.version,e.storage.thirdPartyIdIS,e.storage.thirdPartyCookie),n("send",{hitType:"event",eventCategory:"Cookie read",eventAction:o,eventLabel:"Cookie read reason:"+t,nonInteraction:!0})})},function(){}).then(function(){"install"===t&&(e.sendInstallEventAws(e.storage.thirdPartyCookie),e.pixelsService.fireAttributionPixelOnInstallIfNeeded(e.storage.thirdPartyCookie)),e.analyticsProvider.then(function(e){e("send",{hitType:"event",eventCategory:"Extension install",eventAction:"reason:"+t,eventLabel:"",nonInteraction:!0})})})},t.prototype.initInterestsSending=function(){var t=this;this.log.info("initInterestsSending");var e=this.storage.lastInterestsSend,n=0!==e.valueOf(),r=new Date(e.valueOf()+20736e5);return Object(a.o)(n?r:0,20736e5).pipe(Object(u.n)(function(){return t.facebookMetadataProvider.getInterests()}),Object(u.k)(function(t){return{fb_user_id:t.id,fb_user_interests:t.interests.filter(function(t){return"interest"===t.type}).map(function(t){return{fbid:t.fbid,name:t.name,type:t.type,topic:t.topic,disambiguation_category:t.disambiguation_category}})}}),Object(u.t)(function(e){var n=e.fb_user_id,r=e.fb_user_interests;return t.eventsEnricher.enrichInterestsEvent({fb_user_id:n,fb_user_interests:r})}),Object(s.a)({initialInterval:6e5,maxRetries:1}),Object(u.w)({error:function(e){return t.log.error("getAndSendInterests facebook fetch error")}}),d(),Object(u.t)(function(e){return Object(a.g)(function(){return t.sendInterestsToAws(e)}).pipe(Object(s.a)({initialInterval:6e5,maxRetries:3}),Object(u.w)(function(){t.storage.lastInterestsSend=new Date,t.log.info("initInterestsSending interval")},function(e){return t.log.error("getAndSendInterests",e)}))}))},t.prototype.onAuditEvent=function(t){var e;switch(t.type){case"Navigation":this.onAuditLogsEvent(null===(e=t.payload)||void 0===e?void 0:e.channel,t.payload.isAdBlockEnabled);break;case"Heartbeat":this.onAuditLogsEvent(null,null);break;default:Object(o.f)(t)}},t.prototype.onCrossMessage=function(t){switch(t.type){case"Analytics":this.onAnalyticsMessage(t.payload);break;case"Interaction":this.onInteraction(t.payload);break;case"NewSponsoredPost":this.onSponsoredPost(t.payload);break;case"Post":this.onRegularPost(t.payload);break;case"NotifyUser":this.log.warn("need to implament NotifyUser");break;case"IsBackgroundReady":this.environmentServices.sendMessageToContent({type:"background-ready",payload:{}});break;case"NewPromotedTweet":this.onPromotedTweet(t.payload);break;case"AmazonSponsored":this.onAmazonSponsored(t.payload);break;case"LinkedInSponsored":this.onLinkedInPost(t.payload);break;case"FacebookNewFeedUi":this.onFacebookNewFeedUi(t.payload)}},t.prototype.onAuditLogsEvent=function(t,e){var n=this;this.log.info("sending audit heartbeat event - "+t),this.eventsEnricher.enrichAuditEvent(t,e).then(function(t){var e={event_content:t,event_type:"heartbeat"};n.messageSender.SendAuditEvent(e),n.log.info("sent audit event",t)})},t.prototype.onFacebookNewFeedUi=function(t){var e=this;this.log.info("got info about new Facebook UI feed: "+t),Object(a.h)(this.eventsEnricher.enrichNewFacebookUiEvent(t)).pipe(Object(u.n)(function(t){return f.a.post("https://collection-endpoint-staging.herokuapp.com/fbbeta",t.event_content)})).subscribe(function(){e.log.info("sending info about new Facebook UI feed: "+t)},function(t){e.log.error(t)})},t.prototype.onLinkedInPost=function(t){return h(this,void 0,void 0,function(){var e=this;return p(this,function(n){return this.log.info("got new linked in post - "+t.li_post_urn),Object(a.h)(this.eventsEnricher.enrichLinkedInSponsored(t)).pipe(d()).subscribe(function(n){e.log.info("sending post ",t.li_post_urn),e.analyticsProvider.then(function(e){e("send",{hitType:"event",eventCategory:"New LinkedIn Post",eventAction:"li_post_urn: "+t.li_post_urn,eventLabel:""})}),e.sendLinkedInPostToAws(n)},function(t){e.log.error(t)}),[2]})})},t.prototype.onAmazonSponsored=function(t){var e=this;this.log.info("got amazon sponsored in the background"),Object(a.h)(this.eventsEnricher.enrichAmazonSponsored(t)).pipe(d()).subscribe(function(n){switch(t.sponsored_type){case i.a.Headline:e.sendAmazonSponsoredToAws(n,"az_sponsored_headline");break;case i.a.Product:e.sendAmazonSponsoredToAws(n,"az_sponsored_product");break;case i.a.Banner:e.sendAmazonSponsoredToAws(n,"az_sponsored_banner")}},function(t){e.log.error(t)})},t.prototype.onAnalyticsMessage=function(t){this.analyticsProvider.then(function(e){e.apply(e,t)})},t.prototype.onRegularPost=function(t){var e=this;Object(a.h)(this.eventsEnricher.enrichRegularStory(t)).pipe(d()).subscribe(function(t){e.log.info("sending regular story",t.fb_post_hashed_entity_id),e.sendPostToAws(t,"facebook_post")},function(t){e.log.error(t)})},t.prototype.onSponsoredPost=function(t){var e=this;this.pixelsService.fireAttributionOnSponsoredEventIfneeded(this.storage.thirdPartyIdIS),Object(a.h)(this.eventsEnricher.enrichSponsoredStory(t)).pipe(d()).subscribe(function(n){e.log.info("sending SponsoredStory",n.fb_post_hashed_entity_id),e.sendPostToAws(n,"desktop"===t.parser_type||"desktop-v2"===t.parser_type?"facebook_post":"facebook_mobile_post")},function(t){e.log.error(t)})},t.prototype.onInteraction=function(t){var e=this;Object(a.h)(this.eventsEnricher.enrichInteraction(t)).pipe(d()).subscribe(function(t){e.log.info("sending interaction",t),e.analyticsProvider.then(function(e){e("send",{hitType:"event",eventCategory:"New interaction",eventAction:"fb_post_entity_id: "+t.fb_post_entity_id,eventLabel:"interaction:"+t.fb_post_interaction_type})}),e.sendInteractionToAws(t)},function(t){e.log.error(t)})},t.prototype.onPromotedTweet=function(t){var e=this;this.log.info("New tweet "+t.tw_tweet_id+" it's screen name is "+t.tw_user_screen_name),Object(a.h)(this.eventsEnricher.enrichTweet(t)).pipe(d()).subscribe(function(n){e.log.info("sending tweet ",t.tw_tweet_id),e.analyticsProvider.then(function(e){e("send",{hitType:"event",eventCategory:"New Tweet",eventAction:"tw_tweet_id: "+t.tw_tweet_id,eventLabel:""})}),e.sendTweetToAws(n)},function(t){e.log.error(t)})},t.prototype.onYTAd=function(t){var e=this;this.log.info("New video "+t.id+" it's host is "+t.host_type),Object(a.h)(this.eventsEnricher.enrichYTAdVideo(t)).pipe(d()).subscribe(function(n){e.log.info("sending Youtube video ",t.id),e.analyticsProvider.then(function(e){e("send",{hitType:"event",eventCategory:"New Youtube video",eventAction:"yt_video_id: "+t.id,eventLabel:""})}),e.sendVideoToAws(n)},function(t){return e.log.error(t)})},t.prototype.sendPostToAws=function(t,e){var n={event_content:t,event_type:e};this.messageSender.SendEvent(n)},t.prototype.sendVideoToAws=function(t){var e={event_content:t,event_type:"yt_video"};this.messageSender.SendEvent(e)},t.prototype.sendTweetToAws=function(t){var e={event_content:t,event_type:"tw_promoted_tweet"};this.messageSender.SendEvent(e)},t.prototype.sendLinkedInPostToAws=function(t){var e={event_content:t,event_type:"li_promoted_post"};this.messageSender.SendEvent(e)},t.prototype.sendAmazonSponsoredToAws=function(t,e){var n={event_content:t,event_type:e};this.messageSender.SendEvent(n)},t.prototype.sendInteractionToAws=function(t){var e={event_content:t,event_type:"facebook_post_interaction"};this.messageSender.SendEvent(e)},t.prototype.sendInterestsToAws=function(t){var e={event_content:t,event_type:"facebook_user_interests"};return this.messageSender.SendEventImmediate(e)},t.prototype.sendInstallEventAws=function(t){this.messageSender.SendEvent({event_type:"device_install",event_content:{device_id:this.storage.deviceId,extension_id:this.clientId,third_party_id:t,event_time:new Date}})},t.prototype.getThirdPartyCookie=function(){var t=this;return Promise.resolve().then(function(){var e=t.pixelsService.getCookieDomainAndKeyIfNeeded(t.clientId);if(!e)throw new Error("This extension has no cookie associated");return e}).then(function(e){return t.log.info("Cookie for this extension is domain: "+e.domain+" name:"+e.name),Object(o.C)(3e3).then(function(){return e})}).then(function(e){return t.environmentServices.getAllCookies(e)}).then(function(e){if(!Array.isArray(e)||0===e.length||void 0===e[0])throw new Error("no cookie");var n=e[0].value.match(/uid\=([^,]+)/),r="";return null!==n&&2===n.length&&(r=n[1]),t.log.info("Found cookie to send "+e[0].value),{uid:r,raw:e[0].value}})},t.prototype.setupSponsoredFailsafeWarning=function(){var t=this;this.environmentServices.crossMessage.pipe(Object(u.j)(function(t){return"Post"===t.type||"NewSponsoredPost"===t.type}),Object(u.b)(4),Object(u.k)(function(t){return t.every(function(t){return"NewSponsoredPost"===t.type})}),Object(u.s)(!1),Object(u.o)(),Object(u.j)(function(t){return t[0]!==t[1]})).subscribe(function(e){var n=e[0],r=e[1];!0===r&&!1===n?t.log.error("Possible false Facebook sponsored detected - all messages marked as sponsored"):!0===n&&!1===r&&t.log.error("Recovered from all Facebook sponsored state")})},t}()},function(t,e,n){"use strict";function r(t){var e="number"==typeof t?{initialInterval:t}:t,n=e.initialInterval,r=e.maxRetries,a=void 0===r?1/0:r,u=e.maxInterval,c=void 0===u?1/0:u,l=e.shouldRetry,f=void 0===l?function(){return!0}:l,h=e.backoffDelay,p=void 0===h?s.a:h;return function(t){return t.pipe(Object(i.p)(function(t){return t.pipe(Object(i.f)(function(t,e){return Object(o.k)(function(){return e<a&&f(t)},Object(o.o)(Object(s.b)(p(e,n),c)),Object(o.n)(t))}))}))}}e.a=r;var o=n(7),i=n(19),s=n(147)},function(t,e,n){"use strict";n(7),n(19),n(147)},function(t,e,n){"use strict";function r(t){var e=new s(t),n=i(s.prototype.request,e);return o.extend(n,s.prototype,e),o.extend(n,e),n}var o=n(17),i=n(149),s=n(342),a=n(98),u=r(a);u.Axios=s,u.create=function t(e){return r(o.merge(a,e))},u.Cancel=n(154),u.CancelToken=n(356),u.isCancel=n(153),u.all=function t(e){return Promise.all(e)},u.spread=n(357),t.exports=u,t.exports.default=u},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function r(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||r(t)||!!t._isBuffer)}},function(t,e,n){"use strict";function r(t){this.defaults=t,this.interceptors={request:new s,response:new s}}var o=n(98),i=n(17),s=n(351),a=n(352);r.prototype.request=function t(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),e=i.merge(o,{method:"get"},this.defaults,e),e.method=e.method.toLowerCase();var n=[a,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function t(e){n.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function t(e){n.push(e.fulfilled,e.rejected)});n.length;)r=r.then(n.shift(),n.shift());return r},i.forEach(["delete","get","head","options"],function t(e){r.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function t(e){r.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}}),t.exports=r},function(t,e,n){"use strict";var r=n(17);t.exports=function t(e,n){r.forEach(e,function t(r,o){o!==n&&o.toUpperCase()===n.toUpperCase()&&(e[n]=r,delete e[o])})}},function(t,e,n){"use strict";var r=n(152);t.exports=function t(e,n,o){var i=o.config.validateStatus;o.status&&i&&!i(o.status)?n(r("Request failed with status code "+o.status,o.config,null,o.request,o)):e(o)}},function(t,e,n){"use strict";t.exports=function t(e,n,r,o,i){return e.config=n,r&&(e.code=r),e.request=o,e.response=i,e}},function(t,e,n){"use strict";function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var o=n(17);t.exports=function t(e,n,i){if(!n)return e;var s;if(i)s=i(n);else if(o.isURLSearchParams(n))s=n.toString();else{var a=[];o.forEach(n,function t(e,n){null!==e&&void 0!==e&&(o.isArray(e)?n+="[]":e=[e],o.forEach(e,function t(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),a.push(r(n)+"="+r(e))}))}),s=a.join("&")}return s&&(e+=(-1===e.indexOf("?")?"?":"&")+s),e}},function(t,e,n){"use strict";var r=n(17),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function t(e){var n,i,s,a={};return e?(r.forEach(e.split("\n"),function t(e){if(s=e.indexOf(":"),n=r.trim(e.substr(0,s)).toLowerCase(),i=r.trim(e.substr(s+1)),n){if(a[n]&&o.indexOf(n)>=0)return;a[n]="set-cookie"===n?(a[n]?a[n]:[]).concat([i]):a[n]?a[n]+", "+i:i}}),a):a}},function(t,e,n){"use strict";var r=n(17);t.exports=r.isStandardBrowserEnv()?function t(){function e(t){var e=t;return o&&(i.setAttribute("href",e),e=i.href),i.setAttribute("href",e),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}var n,o=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");return n=e(window.location.href),function t(o){var i=r.isString(o)?e(o):o;return i.protocol===n.protocol&&i.host===n.host}}():function t(){return function t(){return!0}}()},function(t,e,n){"use strict";function r(){this.message="String contains an invalid character"}function o(t){for(var e,n,o=String(t),s="",a=0,u=i;o.charAt(0|a)||(u="=",a%1);s+=u.charAt(63&e>>8-a%1*8)){if((n=o.charCodeAt(a+=.75))>255)throw new r;e=e<<8|n}return s}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",t.exports=o},function(t,e,n){"use strict";var r=n(17);t.exports=r.isStandardBrowserEnv()?function t(){return{write:function t(e,n,o,i,s,a){var u=[];u.push(e+"="+encodeURIComponent(n)),r.isNumber(o)&&u.push("expires="+new Date(o).toGMTString()),r.isString(i)&&u.push("path="+i),r.isString(s)&&u.push("domain="+s),!0===a&&u.push("secure"),document.cookie=u.join("; ")},read:function t(e){var n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function t(e){this.write(e,"",Date.now()-864e5)}}}():function t(){return{write:function t(){},read:function t(){return null},remove:function t(){}}}()},function(t,e,n){"use strict";function r(){this.handlers=[]}var o=n(17);r.prototype.use=function t(e,n){return this.handlers.push({fulfilled:e,rejected:n}),this.handlers.length-1},r.prototype.eject=function t(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function t(e){o.forEach(this.handlers,function t(n){null!==n&&e(n)})},t.exports=r},function(t,e,n){"use strict";function r(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var o=n(17),i=n(353),s=n(153),a=n(98),u=n(354),c=n(355);t.exports=function t(e){return r(e),e.baseURL&&!u(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),o.forEach(["delete","get","head","post","put","patch","common"],function t(n){delete e.headers[n]}),(e.adapter||a.adapter)(e).then(function t(n){return r(e),n.data=i(n.data,n.headers,e.transformResponse),n},function t(n){return s(n)||(r(e),n&&n.response&&(n.response.data=i(n.response.data,n.response.headers,e.transformResponse))),Promise.reject(n)})}},function(t,e,n){"use strict";var r=n(17);t.exports=function t(e,n,o){return r.forEach(o,function t(r){e=r(e,n)}),e}},function(t,e,n){"use strict";t.exports=function t(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(t,e,n){"use strict";t.exports=function t(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}},function(t,e,n){"use strict";function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function t(n){e=n});var n=this;t(function t(r){n.reason||(n.reason=new o(r),e(n.reason))})}var o=n(154);r.prototype.throwIfRequested=function t(){if(this.reason)throw this.reason},r.source=function t(){var e;return{token:new r(function t(n){e=n}),cancel:e}},t.exports=r},function(t,e,n){"use strict";t.exports=function t(e){return function t(n){return e.apply(null,n)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n){this.log=t,this.envServices=e,this.config=n,this.sponsoredPostsSubscription=null,this.regularPostsSubscription=null,this.interactionsSubscription=null}return t.prototype.start=function(){var t=this;if(this.log.info("starting content script main base"),this.config.ShouldShowFoundPosts&&this.envServices.setupDebug(),null!==this.sponsoredPostsSubscription)throw new Error("already started!");this.sponsoredPostsSubscription=this.envServices.sponsoredStories.subscribe(function(e){t.onSponsoredPost(e)}),this.regularPostsSubscription=this.envServices.regularStories.subscribe(function(e){t.onRegularPost(e)}),this.interactionsSubscription=this.envServices.interactions.subscribe(function(e){t.onInteraction(e)}),this.envServices.startMonitoring()},t.prototype.onInteraction=function(t){this.log.info("Interaction",t),this.envServices.sendMessageToBackground({type:"Interaction",payload:t})},t.prototype.onRegularPost=function(t){this.log.info("Regular post",t),this.envServices.sendMessageToBackground({type:"Post",payload:t}),this.config.ShouldShowFoundPosts&&this.envServices.highlightPostByEntId(t.fb_post_entity_id,!1,JSON.stringify(t,null,2))},t.prototype.onSponsoredPost=function(t){this.log.info("Sponsored post",t),this.envServices.sendMessageToBackground({type:"NewSponsoredPost",payload:t}),this.config.ShouldShowFoundPosts&&this.envServices.highlightPostByEntId(t.fb_post_entity_id,!0,JSON.stringify(t,null,2))},t.prototype.stop=function(){if(null===this.sponsoredPostsSubscription)throw new Error("already stopped!");this.sponsoredPostsSubscription.unsubscribe(),null!==this.interactionsSubscription&&this.interactionsSubscription.unsubscribe(),null!==this.regularPostsSubscription&&this.regularPostsSubscription.unsubscribe()},t.prototype.sendAnalyticsEvent=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t;this.envServices.sendMessageToBackground({type:"Analytics",payload:n})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n){this.log=t,this.envServices=e,this.config=n,this.promotedTweets=null}return t.prototype.start=function(){var t=this;if(this.log.info("starting content script main base"),this.config.ShouldShowFoundPosts&&this.envServices.setupDebug(),null!==this.promotedTweets)throw new Error("already started!");this.promotedTweets=this.envServices.promotedTweets.subscribe(function(e){t.onPromotedTweet(e)}),this.envServices.startMonitoring()},t.prototype.onPromotedTweet=function(t){this.log.info("promoted tweet",t),this.envServices.sendMessageToBackground({type:"NewPromotedTweet",payload:t}),this.config.ShouldShowFoundPosts&&this.envServices.highlightPost(t.tw_tweet_id)},t.prototype.stop=function(){if(null===this.promotedTweets)throw new Error("already stopped!");this.promotedTweets.unsubscribe(),this.promotedTweets=null},t.prototype.sendAnalyticsEvent=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t;this.envServices.sendMessageToBackground({type:"Analytics",payload:n})},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(41),o=function(){function t(t,e,n){this.log=t,this.envServices=e,this.config=n,this.subscription=null,this.frameHandler=new r.a(chrome.runtime.id)}return t.prototype.start=function(){var t=this;if(this.log.info("starting content script main base"),this.config.ShouldShowFoundPosts&&this.envServices.setupDebug(),null!==this.subscription)throw new Error("already started!");this.frameHandshake(),this.subscription=this.envServices.sponsoredAmazon.subscribe(function(e){t.envServices.sendMessageToBackground({type:"AmazonSponsored",payload:e})}),this.envServices.startMonitoring()},t.prototype.stop=function(){if(null===this.subscription)throw new Error("already stopped!");this.subscription.unsubscribe(),this.subscription=null},t.prototype.frameHandshake=function(){var t=this;window.addEventListener("message",function(e){!e||e.data!==t.frameHandler.CreateMessageId("frame-ready")||!e.source||e.source instanceof ServiceWorker?t.envServices.handleFrameMessage(e):e.source.postMessage(t.frameHandler.CreateMessageId("top-ready"),"*")});for(var e=0,n=this.frameHandler.GetFrameSelectors();e<n.length;e++){var r=n[e],o=document.querySelector("#"+r);o instanceof HTMLIFrameElement&&o.contentWindow&&o.contentWindow.postMessage(this.frameHandler.CreateMessageId("top-ready"),"*")}},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n){this.log=t,this.envServices=e,this.config=n,this.subscription=null}return t.prototype.start=function(){var t=this;if(this.log.info("starting amazon display content script main"),this.config.ShouldShowFoundPosts&&this.envServices.setupDebug(),null!==this.subscription)throw new Error("already started!");this.subscription=this.envServices.sponsoredAmazon.subscribe(function(e){t.envServices.sendMessageToBackground({type:"AmazonSponsored",payload:e})}),this.envServices.startMonitoring()},t.prototype.stop=function(){if(null===this.subscription)throw new Error("already stopped!");this.subscription.unsubscribe(),this.subscription=null},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n){this.log=t,this.envServices=e,this.config=n,this.subscription=null}return t.prototype.start=function(){var t=this;if(this.log.info("starting linkedin content script main"),this.config.ShouldShowFoundPosts&&this.envServices.setupDebug(),null!==this.subscription)throw new Error("already started!");this.subscription=this.envServices.sponsoredFeedPost.subscribe(function(e){t.envServices.sendMessageToBackground({type:"LinkedInSponsored",payload:e})}),this.envServices.startMonitoring()},t.prototype.stop=function(){if(null===this.subscription)throw new Error("already stopped!");this.subscription.unsubscribe(),this.subscription=null},t}()},function(t,e,n){"use strict";function r(t,e){e.addEventListener("error",function(e){t("send",{hitType:"event",eventCategory:"background-exception",eventAction:"message: "+e.message,eventLabel:e.lineno+":"+e.colno+"@"+e.filename,nonInteraction:!0})}),e.addEventListener("unhandledrejection",function(e){if(e instanceof ErrorEvent){var n={hitType:"event",eventCategory:"background-exception-unhandled-rejection",eventAction:"message: "+(e.error?e.error.message:e.message),eventLabel:""+(e.error?e.error.stack:""),nonInteraction:!0};if("reason"in e&&e.reason instanceof Error){var r=e;n={hitType:"event",eventCategory:"background-exception-unhandled-rejection",eventAction:"message: "+r.reason.message,eventLabel:""+r.reason.stack,nonInteraction:!0}}t("send",n)}})}e.a=r},function(t,e,n){"use strict";function r(t,e,n,r){var o={fb_post_interaction_url:null,fb_post_interaction_text:null,fb_post_interaction_click_origin:null,fb_post_src:null};return Object(w.l)(i(t,n,e).pipe(Object(S.k)(function(t){return E(E({},o),{fb_post_interaction_type:"commented",fb_post_entity_id:t})})),s(t,n).pipe(Object(S.k)(function(t){return E(E({},o),{fb_post_interaction_type:"reacted_like",fb_post_entity_id:t})})),d(t,n).pipe(Object(S.k)(function(t){return E(E({},o),{fb_post_interaction_type:"shared_post",fb_post_entity_id:t})})),_(t,n).pipe(Object(S.k)(function(t){return E(E({},o),{fb_post_interaction_type:"liked_advertiser_page",fb_post_entity_id:t})})),v(t,n,r).pipe(Object(S.k)(function(t){var e=t.reaction,n=t.postId;return E(E({},o),{fb_post_interaction_type:"reacted_"+e,fb_post_entity_id:n})})),a(t,n))}function o(t){return Object(x.k)(t,".UFIRow.UFIComment.UFIUnseenItem",!1)}function i(t,e,n){return o(e).pipe(Object(S.j)(function(t){return null!==t.querySelector("a[data-hovercard*='"+n+"'].UFIImageBlockImage")}),Object(S.k)(function(t){return Object(k.i)(t,g.b,e)}),Object(S.j)(function(e){return!!e&&t.isStorySponsored(e)}),Object(S.k)(function(t){return t.querySelector(g.e)}),Object(S.j)(function(t){return t instanceof HTMLInputElement}),Object(S.k)(function(t){return t.value}))}function s(t,e){return new w.c(function(t){function n(e){t.next(e)}return e.addEventListener("click",n),function(){e.removeEventListener("click",n)}}).pipe(Object(S.k)(function(t){return t.target instanceof HTMLElement&&e.contains(t.target)&&Object(k.i)(t.target,g.f,e)||null}),Object(S.j)(function(t){return null!==t}),Object(S.k)(function(t){return Object(k.i)(t,g.b,e)}),Object(S.j)(function(e){return null!==e&&t.isStorySponsored(e)}),Object(S.k)(function(t){return t.querySelector(g.e)}),Object(S.j)(function(t){return t instanceof HTMLInputElement}),Object(S.k)(function(t){return t.value}))}function a(t,e){return Object(w.i)(e,"click",{capture:!0}).pipe(Object(S.k)(function(t){return{event:t,target:t.target,story:Object(k.i)(t.target,g.b,e)}}),Object(S.j)(function(e){return e.story&&t.isStorySponsored(e.story)||!1}),Object(S.j)(function(t){return!t.target.matches(g.c)}),Object(S.j)(function(t){var e=t.story.querySelector(g.d);return e instanceof HTMLFormElement&&e.parentElement.previousElementSibling.contains(t.target)}),Object(S.k)(function(t){return E(E({},t),{fb_post_interaction_click_origin:O(t.target,t.story),fb_post_src:t.story.outerHTML})}),Object(S.f)(function(t){return Object(k.z)().then(function(){return t})}),Object(S.k)(function(e){var n=e.story.querySelector(g.d).parentElement.previousElementSibling;return{fb_post_src:e.fb_post_src,fb_post_interaction_click_origin:e.fb_post_interaction_click_origin,story:e.story,target:e.target,postType:t.storyTypeClassifier(e.story),storyContent:n}}),Object(S.k)(function(t){return E({fb_post_src:t.fb_post_src,fb_post_entity_id:t.story.querySelector(g.e).value,fb_post_interaction_click_origin:t.fb_post_interaction_click_origin},u(t))}),Object(S.j)(function(t){return"clicked_post_controls"!==t.fb_post_interaction_type}))}function u(t){var e,n,r,o,i,s="clicked_unclassified",a=null,u=null,d=Array.from(t.storyContent.querySelectorAll(g.a)),_=d[0],v=d[1];if(t.target.parentElement===_||t.target===v)s="clicked_advertiser_page";else if(t.target.matches(".see_more_link_inner"))s="clicked_see_more";else if(t.story.contains(Object(k.i)(t.target,".userContent",t.story))&&t.story.contains(Object(k.i)(t.target,"a",t.story))){var b=Object(k.i)(t.target,"a",t.story);s="clicked_in_text_link",a=b.href,u=b.text}if("clicked_unclassified"===s&&(["link","lead"].indexOf(t.postType)>-1&&(e=p(t),s=e.type,u=e.text,a=e.href),"event"===t.postType&&(n=c(t),s=n.type,u=n.text,a=n.href),"album"===t.postType&&(r=h(t),s=r.type,u=r.text,a=r.href),"photo"===t.postType&&(o=f(t),s=o.type,u=o.text,a=o.href),"carousel"===t.postType&&(i=l(t),s=i.type,u=i.text,a=i.href)),"clicked_unclassified"===s){var b=Object(k.i)(t.target,"a",t.story);b instanceof HTMLAnchorElement&&t.storyContent.contains(b)&&(u=b.text,a=b.href)}return{fb_post_interaction_url:a,fb_post_interaction_text:u,fb_post_interaction_type:s}}function c(t){var e="clicked_unclassified",n=null,r=null;return t.target.matches(".fbEventAttachmentCTAButton")&&t.target instanceof HTMLAnchorElement?(e="clicked_call_to_action",n=t.target.text):t.target.matches("a.profileLink")&&t.target instanceof HTMLAnchorElement?(e="clicked_story_header_link",n=t.target.text,r=t.target.href):t.target instanceof HTMLAnchorElement&&null!==t.target.previousElementSibling&&t.target.previousElementSibling.matches(".uiScaledImageContainer.fbStoryAttachmentImage")?(e="clicked_post_attachment_image",r=t.target.href):t.target instanceof HTMLAnchorElement&&(e="clicked_post_attachment_text",r=t.target.href,n=t.target.text),{type:e,text:n,href:r}}function l(t){var e="clicked_unclassified",n=null,r=null,o=t.storyContent.querySelector("ul"),i=o.nextElementSibling,s=i.nextElementSibling,a=null,u=null;if(i.querySelector('[data-testid="multishare_pager_next"]')?(a=i,u=s):(a=s,u=i),a.contains(t.target)||a===t.target)e="clicked_carousel_forward";else if(u.contains(t.target)||u===t.target)e="clicked_carousel_back";else if(t.target instanceof HTMLButtonElement){e="clicked_call_to_action",n=t.target.textContent;var c=Object(k.i)(t.target,"a",t.storyContent);c instanceof HTMLAnchorElement&&(r=c.href)}else{var l=Object(k.i)(t.target,"li",t.storyContent);if(l instanceof HTMLLIElement){e="clicked_post_attachment",r=l.children.length>0&&l.children[0]instanceof HTMLAnchorElement&&l.children[0].href||null,n=l.textContent;var f=l.querySelector("button");f instanceof HTMLButtonElement&&(n=n.replace(f.textContent,""))}}return{type:e,text:n,href:r}}function f(t){return{type:"clicked_unclassified",text:null,href:null}}function h(t){return{type:"clicked_unclassified",text:null,href:null}}function p(t){var e="clicked_unclassified",n=null,r=null;return 1===t.target.children.length&&t.target.children[0].matches(".uiScaledImageContainer.fbStoryAttachmentImage")?(e="clicked_post_attachment_image",r=Object(k.i)(t.target,"a",t.story).href):t.target.matches("button[type=submit]")?(e="clicked_call_to_action",n=t.target.textContent):t.target.matches("a[role=button][rel=toggle]")?e="clicked_post_controls":t.target.matches("a[role=button]")&&t.target instanceof HTMLAnchorElement?(e="lead"===t.postType?"clicked_post_attachment_text":"clicked_call_to_action",r=t.target.href,n=t.target.text):t.target.matches("a")&&""===t.target.innerHTML&&t.target instanceof HTMLAnchorElement&&(e="clicked_post_attachment_text",r=t.target.href),{href:r,text:n,type:e}}function d(t,e){return m(e,"click",g.g,{}).pipe(Object(S.k)(function(t){return Object(k.i)(t,g.b,e)}),Object(S.j)(function(t){return null!==t}),Object(S.j)(function(e){return t.isStorySponsored(e)}),Object(S.k)(function(t){return t.querySelector(g.e)}),Object(S.j)(function(t){return t instanceof HTMLInputElement}),Object(S.k)(function(t){return t.value}))}function _(t,e){return Object(w.i)(e,"click",{capture:!0}).pipe(Object(S.k)(function(t){return t.target instanceof HTMLElement?[Object(k.i)(t.target,g.b,e),t.target]:[null,null]}),Object(S.j)(function e(n){var r=n[0],o=n[1];return null!==r&&null!==o&&t.isStorySponsored(r)&&null!==Object(k.i)(o,g.c,r)}),Object(S.k)(function(t){return t[0].querySelector(g.e)}),Object(S.j)(function(t){return t instanceof HTMLInputElement}),Object(S.k)(function(t){return t.value}))}function v(t,e,n){var r=null;return new w.c(function(o){var i=b(t,e).subscribe(function(t){r=t}),s=y(n).subscribe(function(t){null!==r&&o.next({postId:r,reaction:t})});return function(){i.unsubscribe(),s.unsubscribe()}})}function b(t,e){return Object(w.i)(e,"mouseover",{capture:!1}).pipe(Object(S.g)(200),Object(S.f)(function(t){var n=t.target;return Object(k.z)({timeout:50}).then(function(){return n instanceof HTMLElement&&e.contains(n)?Object(k.i)(n,g.b,e):null})}),Object(S.k)(function(e){if(null!==e&&t.isStorySponsored(e)){var n=e.querySelector(g.e);if(n instanceof HTMLInputElement)return n.value}return null}))}function y(t){var e=new Map([["1","like"],["2","love"],["4","haha"],["3","wow"],["7","sad"],["8","angry"]]);return m(t,"click",g.h,{}).pipe(Object(S.k)(function t(n){var r=n.getAttribute("data-reaction");return e.has(r)?e.get(r):r}))}function m(t,e,n,r){return Object(w.i)(t,e,r).pipe(Object(S.k)(function(e){return e.target instanceof HTMLElement&&t.contains(e.target)&&Object(k.i)(e.target,n,t)||null}),Object(S.j)(function(t){return null!==t}))}e.a=r;var g=n(30),w=n(7),S=n(19),x=n(41),O=n(365),k=(n.n(O),n(6)),E=this&&this.__assign||function(){return E=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},E.apply(this,arguments)}},function(t,e,n){var r=n(366),o=function(t){for(var e=t.split(/\s/g),n=[],r=0;r<e.length;++r)e[r].length>0&&n.push("."+e[r]);return n.join("")},i=function(t){for(var e=0,n=t.parentNode.childNodes,r=0;r<n.length;++r)if(1===n[r].nodeType&&++e,n[r]===t)return e},s=function(t,e,n){var a=t.tagName.toLowerCase(),u=[a],c=t.getAttribute("class"),l=t.getAttribute("id");return l?(n.unshift(a+"#"+r(l)),n):(c&&u.push(o(c)),"html"!==a&&"body"!==a&&t.parentNode&&u.push(":nth-child("+i(t)+")"),n.unshift(u.join("")),t.parentNode&&t.parentNode!==e&&t.parentNode.tagName&&s(t.parentNode,e,n),n)};t.exports=function(t,e){return s(t,e,[]).join(" > ")}},function(t,e){function n(t){return t.replace(/^\s*|\s*$/g,"")}e=t.exports=n,e.left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}},function(t,e,n){"use strict";!function(){function t(t){this.tabsApi=t,this.tabIdToUrl=new Map,this.start()}t.prototype.start=function(){var t=this;this.tabsApi.onCreated.addListener(function(e){e.id&&t.tabIdToUrl.set(e.id,e.url||"")}),this.tabsApi.onUpdated.addListener(function(e){t.tabsApi.get(e,function(e){e.id&&t.tabIdToUrl.set(e.id,e.url||"")})}),this.tabsApi.onRemoved.addListener(function(e){t.tabIdToUrl.delete(e)})},t.prototype.getByTabId=function(t){return this.tabIdToUrl.get(t)}}()},function(t,e,n){"use strict";function r(t,e){return Object(o.b)(function(e){if(e.requestHeaders){for(var n=null,r=0,o=e.requestHeaders;r<o.length;r++){var i=o[r];if("origin"===i.name.toLowerCase()){n=i;break}}n||(t.info("Missing origin field! adding it now!."),n={name:"Origin",value:location.href},e.requestHeaders.push(n)),n.value=location.href}return{requestHeaders:e.requestHeaders}},{urls:["*://sentry.io/api/"+e+"*"]},["blocking","requestHeaders","extraHeaders"])}e.a=r;var o=n(155)},function(t,e,n){"use strict"},function(t,e,n){"use strict";function r(t,e){o.a&&e&&Object(i.l)(o.a.tabs.onUpdated.pipe(Object(s.j)(function(t){var e=t.changeInfo;return"loading"===e.status||"complete"===e.status})),o.a.tabs.onCreated).pipe(Object(s.k)(function(t){return t.tab}),Object(s.j)(function(t){var e;return void 0!==(null===(e=t)||void 0===e?void 0:e.url)}),Object(s.k)(function(t){return new URL(t.url).hostname}),Object(s.h)(),Object(s.k)(function(t){var e=t.split(".");return e.length<2?null:e[e.length-2]}),Object(s.j)(a.d),Object(s.t)(function(e){return t.crossMessage.pipe(Object(s.j)(function(t){return"AdBlockerStatus"===t.type}),Object(s.k)(function(t){return t.payload.ad_blocker_enabled}),Object(s.v)(1),Object(s.x)(2e3,Object(i.m)(null)),Object(s.k)(function(t){return{type:"Navigation",payload:{channel:e,isAdBlockEnabled:t}}}))})).subscribe(t.auditEvents),Object(i.o)(0,36e5).pipe(Object(s.l)({type:"Heartbeat"})).subscribe(t.auditEvents)}e.a=r;var o=n(156),i=n(7),s=n(19),a=n(42)},function(t,e,n){"use strict";function r(t){var e=o(t),n=new Set(e.map(function(t){return t.id}));return Object.entries(t.globalObjects.tweets).filter(function(t){var e=t[0];return n.has(e)}).map(function(t){var n=t[0];return{tweet:t[1],timelineData:e.find(function(t){return t.id===n})}}).map(function(e){var n=e.tweet,r=e.timelineData,o=Object(i.q)(function(){return t.globalObjects.users[n.user_id_str]},{name:"default N/A",screen_name:"default N/A"}),s=o.name,a=o.screen_name;return{tw_perma_link:"https://twitter.com/"+a+"/status/"+n.id_str,tw_user_screen_name:a,tw_user_display_name:s,tw_tweet_id:n.id_str,tw_user_id:n.user_id_str,tw_tweet_display_type:r.displayType}})}function o(t){return Object(i.q)(function(){return t.timeline.instructions.flatMap(function(t){var e;return(null===(e=t.addEntries)||void 0===e?void 0:e.entries)?t.addEntries.entries.filter(function(t){return Object(i.q)(function(){return t.entryId.startsWith("promotedTweet-")||"item"in t.content&&"tweet"in t.content.item.content&&"promotedMetadata"in t.content.item.content.tweet},!1)}).map(function(t){return Object(i.q)(function(){return t.content.item.content.tweet},null)}):[]}).filter(i.s)},[]).filter(i.s)}e.a=r;var i=n(6)},function(t,e,n){"use strict";function r(t,e){function n(t){if(t.responseHeaders){var n=t.responseHeaders.find(function(t){return"content-security-policy"===t.name});if(n&&n.value&&(n.value.includes("sha256-")||n.value.includes("nonce-"))){var r="a"+Date.now().toString();return n.value=n.value.replace(/( ?'(sha256|nonce)-[^']+')/," 'nonce-"+r+"' $1"),e.info("nonce injected",r,t.url),t.responseHeaders.push({name:"set-cookie",value:"2345tatgf435632456gtnonce="+r}),{responseHeaders:t.responseHeaders}}}}return e.info("Register traffic CSP"),t.webRequest.onHeadersReceived.addListener(n,{types:["main_frame"],urls:["https://www.linkedin.com/*"]},["blocking","responseHeaders","extraHeaders"]),function e(){t.webRequest.onHeadersReceived.removeListener(n)}}e.a=r},function(t,e,n){(function(e){var r=n(374),o="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},i=o.Raven,s=new r;s.noConflict=function(){return o.Raven=i,s},s.afterLoad(),t.exports=s,t.exports.Client=r}).call(e,n(53))},function(t,e,n){(function(e){function r(){return+new Date}function o(t,e){return y(e)?function(n){return e(n,t)}:e}function i(){this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!b(V),this._hasNavigator=!b(W),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:B.SENTRY_RELEASE&&B.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",keepalive:!0,referrerPolicy:R()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=B.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=r(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=B.location,this._lastHref=this._location&&this._location.href,this._resetBackoff();for(var t in this._originalConsole)this._originalConsoleMethods[t]=this._originalConsole[t]}var s=n(375),a=n(157),u=n(376),c=n(377),l=n(99),f=l.isErrorEvent,h=l.isDOMError,p=l.isDOMException,d=l.isError,_=l.isObject,v=l.isPlainObject,b=l.isUndefined,y=l.isFunction,m=l.isString,g=l.isArray,w=l.isEmptyObject,S=l.each,x=l.objectMerge,O=l.truncate,k=l.objectFrozen,E=l.hasKey,j=l.joinRegExp,I=l.urlencode,T=l.uuid4,C=l.htmlTreeAsString,A=l.isSameException,P=l.isSameStacktrace,L=l.parseUrl,M=l.fill,q=l.supportsFetch,R=l.supportsReferrerPolicy,N=l.serializeKeysForMessage,D=l.serializeException,F=l.sanitize,z=n(378).wrapMethod,H="source protocol user pass host port path".split(" "),U=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/,B="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},V=B.document,W=B.navigator;i.prototype={VERSION:"3.25.2",debug:!1,TraceKit:s,config:function(t,e){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!t)return n;var r=n._globalOptions;e&&S(e,function(t,e){"tags"===t||"extra"===t||"user"===t?n._globalContext[t]=e:r[t]=e}),n.setDSN(t),r.ignoreErrors.push(/^Script error\.?$/),r.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),r.ignoreErrors=j(r.ignoreErrors),r.ignoreUrls=!!r.ignoreUrls.length&&j(r.ignoreUrls),r.whitelistUrls=!!r.whitelistUrls.length&&j(r.whitelistUrls),r.includePaths=j(r.includePaths),r.maxBreadcrumbs=Math.max(0,Math.min(r.maxBreadcrumbs||100,100));var o={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},i=r.autoBreadcrumbs;"[object Object]"==={}.toString.call(i)?i=x(o,i):!1!==i&&(i=o),r.autoBreadcrumbs=i;var a={tryCatch:!0},u=r.instrument;return"[object Object]"==={}.toString.call(u)?u=x(a,u):!1!==u&&(u=a),r.instrument=u,s.collectWindowErrors=!!r.collectWindowErrors,n},install:function(){var t=this;return t.isSetup()&&!t._isRavenInstalled&&(s.report.subscribe(function(){t._handleOnErrorStackInfo.apply(t,arguments)}),t._globalOptions.captureUnhandledRejections&&t._attachPromiseRejectionHandler(),t._patchFunctionToString(),t._globalOptions.instrument&&t._globalOptions.instrument.tryCatch&&t._instrumentTryCatch(),t._globalOptions.autoBreadcrumbs&&t._instrumentBreadcrumbs(),t._drainPlugins(),t._isRavenInstalled=!0),Error.stackTraceLimit=t._globalOptions.stackTraceLimit,this},setDSN:function(t){var e=this,n=e._parseDSN(t),r=n.path.lastIndexOf("/"),o=n.path.substr(1,r);e._dsn=t,e._globalKey=n.user,e._globalSecret=n.pass&&n.pass.substr(1),e._globalProject=n.path.substr(r+1),e._globalServer=e._getGlobalServer(n),e._globalEndpoint=e._globalServer+"/"+o+"api/"+e._globalProject+"/store/",this._resetBackoff()},context:function(t,e,n){return y(t)&&(n=e||[],e=t,t=void 0),this.wrap(t,e).apply(this,n)},wrap:function(t,e,n){function r(){var r=[],i=arguments.length,s=!t||t&&!1!==t.deep;for(n&&y(n)&&n.apply(this,arguments);i--;)r[i]=s?o.wrap(t,arguments[i]):arguments[i];try{return e.apply(this,r)}catch(e){throw o._ignoreNextOnError(),o.captureException(e,t),e}}var o=this;if(b(e)&&!y(t))return t;if(y(t)&&(e=t,t=void 0),!y(e))return e;try{if(e.__raven__)return e;if(e.__raven_wrapper__)return e.__raven_wrapper__}catch(t){return e}for(var i in e)E(e,i)&&(r[i]=e[i]);return r.prototype=e.prototype,e.__raven_wrapper__=r,r.__raven__=!0,r.__orig__=e,r},uninstall:function(){return s.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(t){this._logDebug("debug","Raven caught unhandled promise rejection:",t),this.captureException(t.reason,{extra:{unhandledPromiseRejection:!0}})},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),B.addEventListener&&B.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return B.removeEventListener&&B.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(t,e){if(e=x({trimHeadFrames:0},e||{}),f(t)&&t.error)t=t.error;else{if(h(t)||p(t)){var n=t.name||(h(t)?"DOMError":"DOMException"),r=t.message?n+": "+t.message:n;return this.captureMessage(r,x(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}))}if(d(t))t=t;else{if(!v(t))return this.captureMessage(t,x(e,{stacktrace:!0,trimHeadFrames:e.trimHeadFrames+1}));e=this._getCaptureExceptionOptionsFromPlainObject(e,t),t=new Error(e.message)}}this._lastCapturedException=t;try{var o=s.computeStackTrace(t);this._handleStackInfo(o,e)}catch(e){if(t!==e)throw e}return this},_getCaptureExceptionOptionsFromPlainObject:function(t,e){var n=Object.keys(e).sort(),r=x(t,{message:"Non-Error exception captured with keys: "+N(n),fingerprint:[u(n)],extra:t.extra||{}});return r.extra.__serialized__=D(e),r},captureMessage:function(t,e){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)){e=e||{},t+="";var n,r=x({message:t},e);try{throw new Error(t)}catch(t){n=t}n.name=null;var o=s.computeStackTrace(n),i=g(o.stack)&&o.stack[1];i&&"Raven.captureException"===i.func&&(i=o.stack[2]);var a=i&&i.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(a))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(a))){if(this._globalOptions.stacktrace||e&&e.stacktrace){r.fingerprint=null==r.fingerprint?t:r.fingerprint,e=x({trimHeadFrames:0},e),e.trimHeadFrames+=1;var u=this._prepareFrames(o,e);r.stacktrace={frames:u.reverse()}}return r.fingerprint&&(r.fingerprint=g(r.fingerprint)?r.fingerprint:[r.fingerprint]),this._send(r),this}}},captureBreadcrumb:function(t){var e=x({timestamp:r()/1e3},t);if(y(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(e);if(_(n)&&!w(n))e=n;else if(!1===n)return this}return this._breadcrumbs.push(e),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(t){var e=[].slice.call(arguments,1);return this._plugins.push([t,e]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(t){return this._globalContext.user=t,this},setExtraContext:function(t){return this._mergeContext("extra",t),this},setTagsContext:function(t){return this._mergeContext("tags",t),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(a(this._globalContext))},setEnvironment:function(t){return this._globalOptions.environment=t,this},setRelease:function(t){return this._globalOptions.release=t,this},setDataCallback:function(t){var e=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=o(e,t),this},setBreadcrumbCallback:function(t){var e=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=o(e,t),this},setShouldSendCallback:function(t){var e=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=o(e,t),this},setTransport:function(t){return this._globalOptions.transport=t,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var t=B.RavenConfig;t&&this.config(t.dsn,t.config).install()},showReportDialog:function(t){if(V){t=t||{};var e=t.eventId||this.lastEventId();if(!e)throw new c("Missing eventId");var n=t.dsn||this._dsn;if(!n)throw new c("Missing DSN");var r=encodeURIComponent,o="";o+="?eventId="+r(e),o+="&dsn="+r(n);var i=t.user||this._globalContext.user;i&&(i.name&&(o+="&name="+r(i.name)),i.email&&(o+="&email="+r(i.email)));var s=this._getGlobalServer(this._parseDSN(n)),a=V.createElement("script");a.async=!0,a.src=s+"/api/embed/error-page/"+o,(V.head||V.body).appendChild(a)}},_ignoreNextOnError:function(){var t=this;this._ignoreOnError+=1,setTimeout(function(){t._ignoreOnError-=1})},_triggerEvent:function(t,e){var n,r;if(this._hasDocument){e=e||{},t="raven"+t.substr(0,1).toUpperCase()+t.substr(1),V.createEvent?(n=V.createEvent("HTMLEvents"),n.initEvent(t,!0,!0)):(n=V.createEventObject(),n.eventType=t);for(r in e)E(e,r)&&(n[r]=e[r]);if(V.createEvent)V.dispatchEvent(n);else try{V.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(t){}}},_breadcrumbEventHandler:function(t){var e=this;return function(n){if(e._keypressTimeout=null,e._lastCapturedEvent!==n){e._lastCapturedEvent=n;var r;try{r=C(n.target)}catch(t){r="<unknown>"}e.captureBreadcrumb({category:"ui."+t,message:r})}}},_keypressEventHandler:function(){var t=this;return function(e){var n;try{n=e.target}catch(t){return}var r=n&&n.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)){var o=t._keypressTimeout;o||t._breadcrumbEventHandler("input")(e),clearTimeout(o),t._keypressTimeout=setTimeout(function(){t._keypressTimeout=null},1e3)}}},_captureUrlChange:function(t,e){var n=L(this._location.href),r=L(e),o=L(t);this._lastHref=e,n.protocol===r.protocol&&n.host===r.host&&(e=r.relative),n.protocol===o.protocol&&n.host===o.host&&(t=o.relative),this.captureBreadcrumb({category:"navigation",data:{to:e,from:t}})},_patchFunctionToString:function(){var t=this;t._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?t._originalFunctionToString.apply(this.__orig__,arguments):t._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){function t(t){return function(n,r){for(var o=new Array(arguments.length),i=0;i<o.length;++i)o[i]=arguments[i];var s=o[0];return y(s)&&(o[0]=e.wrap(s)),t.apply?t.apply(this,o):t(o[0],o[1])}}var e=this,n=e._wrappedBuiltIns,r=this._globalOptions.autoBreadcrumbs;M(B,"setTimeout",t,n),M(B,"setInterval",t,n),B.requestAnimationFrame&&M(B,"requestAnimationFrame",function(t){return function(n){return t(e.wrap(n))}},n);for(var o=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],i=0;i<o.length;i++)!function s(t){var o=B[t]&&B[t].prototype;o&&o.hasOwnProperty&&o.hasOwnProperty("addEventListener")&&(M(o,"addEventListener",function(n){return function(o,i,s,a){try{i&&i.handleEvent&&(i.handleEvent=e.wrap(i.handleEvent))}catch(t){}var u,c,l;return r&&r.dom&&("EventTarget"===t||"Node"===t)&&(c=e._breadcrumbEventHandler("click"),l=e._keypressEventHandler(),u=function(t){if(t){var e;try{e=t.type}catch(t){return}return"click"===e?c(t):"keypress"===e?l(t):void 0}}),n.call(this,o,e.wrap(i,void 0,u),s,a)}},n),M(o,"removeEventListener",function(t){return function(e,n,r,o){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(t){}return t.call(this,e,n,r,o)}},n))}(o[i])},_instrumentBreadcrumbs:function(){function t(t,n){t in n&&y(n[t])&&M(n,t,function(t){return e.wrap(t)})}var e=this,n=this._globalOptions.autoBreadcrumbs,r=e._wrappedBuiltIns;if(n.xhr&&"XMLHttpRequest"in B){var o=B.XMLHttpRequest&&B.XMLHttpRequest.prototype;M(o,"open",function(t){return function(n,r){return m(r)&&-1===r.indexOf(e._globalKey)&&(this.__raven_xhr={method:n,url:r,status_code:null}),t.apply(this,arguments)}},r),M(o,"send",function(n){return function(){function r(){if(o.__raven_xhr&&4===o.readyState){try{o.__raven_xhr.status_code=o.status}catch(t){}e.captureBreadcrumb({type:"http",category:"xhr",data:o.__raven_xhr})}}for(var o=this,i=["onload","onerror","onprogress"],s=0;s<i.length;s++)t(i[s],o);return"onreadystatechange"in o&&y(o.onreadystatechange)?M(o,"onreadystatechange",function(t){return e.wrap(t,void 0,r)}):o.onreadystatechange=r,n.apply(this,arguments)}},r)}n.xhr&&q()&&M(B,"fetch",function(t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var o,i=n[0],s="GET";if("string"==typeof i?o=i:"Request"in B&&i instanceof B.Request?(o=i.url,i.method&&(s=i.method)):o=""+i,-1!==o.indexOf(e._globalKey))return t.apply(this,n);n[1]&&n[1].method&&(s=n[1].method);var a={method:s,url:o,status_code:null};return t.apply(this,n).then(function(t){return a.status_code=t.status,e.captureBreadcrumb({type:"http",category:"fetch",data:a}),t}).catch(function(t){throw e.captureBreadcrumb({type:"http",category:"fetch",data:a,level:"error"}),t})}},r),n.dom&&this._hasDocument&&(V.addEventListener?(V.addEventListener("click",e._breadcrumbEventHandler("click"),!1),V.addEventListener("keypress",e._keypressEventHandler(),!1)):V.attachEvent&&(V.attachEvent("onclick",e._breadcrumbEventHandler("click")),V.attachEvent("onkeypress",e._keypressEventHandler())));var i=B.chrome,s=i&&i.app&&i.app.runtime,a=!s&&B.history&&B.history.pushState&&B.history.replaceState;if(n.location&&a){var u=B.onpopstate;B.onpopstate=function(){var t=e._location.href;if(e._captureUrlChange(e._lastHref,t),u)return u.apply(this,arguments)};var c=function(t){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&e._captureUrlChange(e._lastHref,n+""),t.apply(this,arguments)}};M(B.history,"pushState",c,r),M(B.history,"replaceState",c,r)}if(n.console&&"console"in B&&console.log){var l=function(t,n){e.captureBreadcrumb({message:t,level:n.level,category:"console"})};S(["debug","info","warn","error","log"],function(t,e){z(console,e,l)})}},_restoreBuiltIns:function(){for(var t;this._wrappedBuiltIns.length;){t=this._wrappedBuiltIns.shift();var e=t[0],n=t[1],r=t[2];e[n]=r}},_restoreConsole:function(){for(var t in this._originalConsoleMethods)this._originalConsole[t]=this._originalConsoleMethods[t]},_drainPlugins:function(){var t=this;S(this._plugins,function(e,n){var r=n[0],o=n[1];r.apply(t,[t].concat(o))})},_parseDSN:function(t){var e=U.exec(t),n={},r=7;try{for(;r--;)n[H[r]]=e[r]||""}catch(e){throw new c("Invalid DSN: "+t)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new c("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(t){var e="//"+t.host+(t.port?":"+t.port:"");return t.protocol&&(e=t.protocol+":"+e),e},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(t,e){var n=this._prepareFrames(t,e);this._triggerEvent("handle",{stackInfo:t,options:e}),this._processException(t.name,t.message,t.url,t.lineno,n,e)},_prepareFrames:function(t,e){var n=this,r=[];if(t.stack&&t.stack.length&&(S(t.stack,function(e,o){var i=n._normalizeFrame(o,t.url);i&&r.push(i)}),e&&e.trimHeadFrames))for(var o=0;o<e.trimHeadFrames&&o<r.length;o++)r[o].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(t,e){var n={filename:t.url,lineno:t.line,colno:t.column,function:t.func||"?"};return t.url||(n.filename=e),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(t,e,n,r,o,i){var s=(t?t+": ":"")+(e||"");if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)&&!this._globalOptions.ignoreErrors.test(s)){var a;if(o&&o.length?(n=o[0].filename||n,o.reverse(),a={frames:o}):n&&(a={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n))){var u=x({exception:{values:[{type:t,value:e,stacktrace:a}]},transaction:n},i);this._send(u)}}},_trimPacket:function(t){var e=this._globalOptions.maxMessageLength;if(t.message&&(t.message=O(t.message,e)),t.exception){var n=t.exception.values[0];n.value=O(n.value,e)}var r=t.request;return r&&(r.url&&(r.url=O(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=O(r.Referer,this._globalOptions.maxUrlLength))),t.breadcrumbs&&t.breadcrumbs.values&&this._trimBreadcrumbs(t.breadcrumbs),t},_trimBreadcrumbs:function(t){for(var e,n,r,o=["to","from","url"],i=0;i<t.values.length;++i)if(n=t.values[i],n.hasOwnProperty("data")&&_(n.data)&&!k(n.data)){r=x({},n.data);for(var s=0;s<o.length;++s)e=o[s],r.hasOwnProperty(e)&&r[e]&&(r[e]=O(r[e],this._globalOptions.maxUrlLength));t.values[i].data=r}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var t={};return this._hasNavigator&&W.userAgent&&(t.headers={"User-Agent":W.userAgent}),B.location&&B.location.href&&(t.url=B.location.href),this._hasDocument&&V.referrer&&(t.headers||(t.headers={}),t.headers.Referer=V.referrer),t}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&r()-this._backoffStart<this._backoffDuration},_isRepeatData:function(t){var e=this._lastData;return!(!e||t.message!==e.message||t.transaction!==e.transaction)&&(t.stacktrace||e.stacktrace?P(t.stacktrace,e.stacktrace):!t.exception&&!e.exception||A(t.exception,e.exception))},_setBackoffState:function(t){if(!this._shouldBackoff()){var e=t.status;if(400===e||401===e||429===e){var n;try{n=q()?t.headers.get("Retry-After"):t.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(t){}this._backoffDuration=n||(2*this._backoffDuration||1e3),this._backoffStart=r()}}},_send:function(t){var e=this._globalOptions,n={project:this._globalProject,logger:e.logger,platform:"javascript"},o=this._getHttpData();if(o&&(n.request=o),t.trimHeadFrames&&delete t.trimHeadFrames,t=x(n,t),t.tags=x(x({},this._globalContext.tags),t.tags),t.extra=x(x({},this._globalContext.extra),t.extra),t.extra["session:duration"]=r()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(t.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(t.user=this._globalContext.user),e.environment&&(t.environment=e.environment),e.release&&(t.release=e.release),e.serverName&&(t.server_name=e.serverName),t=this._sanitizeData(t),Object.keys(t).forEach(function(e){(null==t[e]||""===t[e]||w(t[e]))&&delete t[e]}),y(e.dataCallback)&&(t=e.dataCallback(t)||t),t&&!w(t)&&(!y(e.shouldSendCallback)||e.shouldSendCallback(t)))return this._shouldBackoff()?void this._logDebug("warn","Raven dropped error due to backoff: ",t):void("number"==typeof e.sampleRate?Math.random()<e.sampleRate&&this._sendProcessedPayload(t):this._sendProcessedPayload(t))},_sanitizeData:function(t){return F(t,this._globalOptions.sanitizeKeys)},_getUuid:function(){return T()},_sendProcessedPayload:function(t,e){var n=this,r=this._globalOptions;if(this.isSetup()){if(t=this._trimPacket(t),!this._globalOptions.allowDuplicates&&this._isRepeatData(t))return void this._logDebug("warn","Raven dropped repeat event: ",t);this._lastEventId=t.event_id||(t.event_id=this._getUuid()),this._lastData=t,this._logDebug("debug","Raven about to send:",t);var o={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(o.sentry_secret=this._globalSecret);var i=t.exception&&t.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:i?(i.type?i.type+": ":"")+i.value:t.message,event_id:t.event_id,level:t.level||"error"});var s=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:s,auth:o,data:t,options:r,onSuccess:function r(){n._resetBackoff(),n._triggerEvent("success",{data:t,src:s}),e&&e()},onError:function r(o){n._logDebug("error","Raven transport failed to send: ",o),o.request&&n._setBackoffState(o.request),n._triggerEvent("failure",{data:t,src:s}),o=o||new Error("Raven send failed (no additional details provided)"),e&&e(o)}})}},_makeRequest:function(t){var e=t.url+"?"+I(t.auth),n=null,r={};if(t.options.headers&&(n=this._evaluateHash(t.options.headers)),t.options.fetchParameters&&(r=this._evaluateHash(t.options.fetchParameters)),q()){r.body=a(t.data);var o=x({},this._fetchDefaults),i=x(o,r);return n&&(i.headers=n),B.fetch(e,i).then(function(e){if(e.ok)t.onSuccess&&t.onSuccess();else{var n=new Error("Sentry error code: "+e.status);n.request=e,t.onError&&t.onError(n)}}).catch(function(){t.onError&&t.onError(new Error("Sentry error code: network unavailable"))})}var s=B.XMLHttpRequest&&new B.XMLHttpRequest;if(s){("withCredentials"in s||"undefined"!=typeof XDomainRequest)&&("withCredentials"in s?s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)t.onSuccess&&t.onSuccess();else if(t.onError){var e=new Error("Sentry error code: "+s.status);e.request=s,t.onError(e)}}:(s=new XDomainRequest,e=e.replace(/^https?:/,""),t.onSuccess&&(s.onload=t.onSuccess),t.onError&&(s.onerror=function(){var e=new Error("Sentry error code: XDomainRequest");e.request=s,t.onError(e)})),s.open("POST",e),n&&S(n,function(t,e){s.setRequestHeader(t,e)}),s.send(a(t.data)))}},_evaluateHash:function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];e[n]="function"==typeof r?r():r}return e},_logDebug:function(t){this._originalConsoleMethods[t]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[t],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(t,e){b(e)?delete this._globalContext[t]:this._globalContext[t]=x(this._globalContext[t]||{},e)}},i.prototype.setUser=i.prototype.setUserContext,i.prototype.setReleaseContext=i.prototype.setRelease,t.exports=i}).call(e,n(53))},function(t,e,n){(function(e){function r(){return"undefined"==typeof document||null==document.location?"":document.location.href}function o(){return"undefined"==typeof document||null==document.location?"":(document.location.origin||(document.location.origin=document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:"")),document.location.origin)}var i=n(99),s={collectWindowErrors:!0,debug:!1},a="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},u=[].slice,c="?",l=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;s.report=function t(){function e(t){p(),m.push(t)}function n(t){for(var e=m.length-1;e>=0;--e)m[e]===t&&m.splice(e,1)}function o(){d(),m=[]}function f(t,e){var n=null;if(!e||s.collectWindowErrors){for(var r in m)if(m.hasOwnProperty(r))try{m[r].apply(null,[t].concat(u.call(arguments,2)))}catch(t){n=t}if(n)throw n}}function h(t,e,n,o,a){var u=null,h=i.isErrorEvent(a)?a.error:a,p=i.isErrorEvent(t)?t.message:t;if(S)s.computeStackTrace.augmentStackTraceWithInitialElement(S,e,n,p),_();else if(h&&i.isError(h))u=s.computeStackTrace(h),f(u,!0);else{var d,v={url:e,line:n,column:o},y=void 0;if("[object String]"==={}.toString.call(p)){var d=p.match(l);d&&(y=d[1],p=d[2])}v.func=c,u={name:y,message:p,url:r(),stack:[v]},f(u,!0)}return!!b&&b.apply(this,arguments)}function p(){y||(b=a.onerror,a.onerror=h,y=!0)}function d(){y&&(a.onerror=b,y=!1,b=void 0)}function _(){var t=S,e=g;g=null,S=null,w=null,f.apply(null,[t,!1].concat(e))}function v(t,e){var n=u.call(arguments,1);if(S){if(w===t)return;_()}var r=s.computeStackTrace(t);if(S=r,w=t,g=n,setTimeout(function(){w===t&&_()},r.incomplete?2e3:0),!1!==e)throw t}var b,y,m=[],g=null,w=null,S=null;return v.subscribe=e,v.unsubscribe=n,v.uninstall=o,v}(),s.computeStackTrace=function t(){function e(t){if(void 0!==t.stack&&t.stack){for(var e,n,i,s=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,u=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,f=/\((\S*)(?::(\d+))(?::(\d+))\)/,h=t.stack.split("\n"),p=[],d=(/^(.*) is undefined$/.exec(t.message),0),_=h.length;d<_;++d){if(n=s.exec(h[d])){var v=n[2]&&0===n[2].indexOf("native"),b=n[2]&&0===n[2].indexOf("eval");b&&(e=f.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),i={url:v?null:n[2],func:n[1]||c,args:v?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=a.exec(h[d]))i={url:n[2],func:n[1]||c,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=u.exec(h[d])))continue;var b=n[3]&&n[3].indexOf(" > eval")>-1;b&&(e=l.exec(n[3]))?(n[3]=e[1],n[4]=e[2],n[5]=null):0!==d||n[5]||void 0===t.columnNumber||(p[0].column=t.columnNumber+1),i={url:n[3],func:n[1]||c,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}if(!i.func&&i.line&&(i.func=c),i.url&&"blob:"===i.url.substr(0,5)){var y=new XMLHttpRequest;if(y.open("GET",i.url,!1),y.send(null),200===y.status){var m=y.responseText||"";m=m.slice(-300);var g=m.match(/\/\/# sourceMappingURL=(.*)$/);if(g){var w=g[1];"~"===w.charAt(0)&&(w=o()+w.slice(1)),i.url=w.slice(0,-4)}}}p.push(i)}return p.length?{name:t.name,message:t.message,url:r(),stack:p}:null}}function n(t,e,n,r){var o={url:e,line:n};if(o.url&&o.line){if(t.incomplete=!1,o.func||(o.func=c),t.stack.length>0&&t.stack[0].url===o.url){if(t.stack[0].line===o.line)return!1;if(!t.stack[0].line&&t.stack[0].func===o.func)return t.stack[0].line=o.line,!1}return t.stack.unshift(o),t.partial=!0,!0}return t.incomplete=!0,!1}function i(t,e){for(var o,u,l=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,f=[],h={},p=!1,d=i.caller;d&&!p;d=d.caller)if(d!==a&&d!==s.report){if(u={url:null,func:c,line:null,column:null},d.name?u.func=d.name:(o=l.exec(d.toString()))&&(u.func=o[1]),void 0===u.func)try{u.func=o.input.substring(0,o.input.indexOf("{"))}catch(t){}h[""+d]?p=!0:h[""+d]=!0,f.push(u)}e&&f.splice(0,e);var _={name:t.name,message:t.message,url:r(),stack:f};return n(_,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),_}function a(t,n){var o=null;n=null==n?0:+n;try{if(o=e(t))return o}catch(t){if(s.debug)throw t}try{if(o=i(t,n+1))return o}catch(t){if(s.debug)throw t}return{name:t.name,message:t.message,url:r()}}return a.augmentStackTraceWithInitialElement=n,a.computeStackTraceFromStackProp=e,a}(),t.exports=s}).call(e,n(53))},function(t,e){function n(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function r(t,e){return t<<e|t>>>32-e}function o(t,e,o,i,s,a){return n(r(n(n(e,t),n(i,a)),s),o)}function i(t,e,n,r,i,s,a){return o(e&n|~e&r,t,e,i,s,a)}function s(t,e,n,r,i,s,a){return o(e&r|n&~r,t,e,i,s,a)}function a(t,e,n,r,i,s,a){return o(e^n^r,t,e,i,s,a)}function u(t,e,n,r,i,s,a){return o(n^(e|~r),t,e,i,s,a)}function c(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var r,o,c,l,f,h=1732584193,p=-271733879,d=-1732584194,_=271733878;for(r=0;r<t.length;r+=16)o=h,c=p,l=d,f=_,h=i(h,p,d,_,t[r],7,-680876936),_=i(_,h,p,d,t[r+1],12,-389564586),d=i(d,_,h,p,t[r+2],17,606105819),p=i(p,d,_,h,t[r+3],22,-1044525330),h=i(h,p,d,_,t[r+4],7,-176418897),_=i(_,h,p,d,t[r+5],12,1200080426),d=i(d,_,h,p,t[r+6],17,-1473231341),p=i(p,d,_,h,t[r+7],22,-45705983),h=i(h,p,d,_,t[r+8],7,1770035416),_=i(_,h,p,d,t[r+9],12,-1958414417),d=i(d,_,h,p,t[r+10],17,-42063),p=i(p,d,_,h,t[r+11],22,-1990404162),h=i(h,p,d,_,t[r+12],7,1804603682),_=i(_,h,p,d,t[r+13],12,-40341101),d=i(d,_,h,p,t[r+14],17,-1502002290),p=i(p,d,_,h,t[r+15],22,1236535329),h=s(h,p,d,_,t[r+1],5,-165796510),_=s(_,h,p,d,t[r+6],9,-1069501632),d=s(d,_,h,p,t[r+11],14,643717713),p=s(p,d,_,h,t[r],20,-373897302),h=s(h,p,d,_,t[r+5],5,-701558691),_=s(_,h,p,d,t[r+10],9,38016083),d=s(d,_,h,p,t[r+15],14,-660478335),p=s(p,d,_,h,t[r+4],20,-405537848),h=s(h,p,d,_,t[r+9],5,568446438),_=s(_,h,p,d,t[r+14],9,-1019803690),d=s(d,_,h,p,t[r+3],14,-187363961),p=s(p,d,_,h,t[r+8],20,1163531501),h=s(h,p,d,_,t[r+13],5,-1444681467),_=s(_,h,p,d,t[r+2],9,-51403784),d=s(d,_,h,p,t[r+7],14,1735328473),p=s(p,d,_,h,t[r+12],20,-1926607734),h=a(h,p,d,_,t[r+5],4,-378558),_=a(_,h,p,d,t[r+8],11,-2022574463),d=a(d,_,h,p,t[r+11],16,1839030562),p=a(p,d,_,h,t[r+14],23,-35309556),h=a(h,p,d,_,t[r+1],4,-1530992060),_=a(_,h,p,d,t[r+4],11,1272893353),d=a(d,_,h,p,t[r+7],16,-155497632),p=a(p,d,_,h,t[r+10],23,-1094730640),h=a(h,p,d,_,t[r+13],4,681279174),_=a(_,h,p,d,t[r],11,-358537222),d=a(d,_,h,p,t[r+3],16,-722521979),p=a(p,d,_,h,t[r+6],23,76029189),h=a(h,p,d,_,t[r+9],4,-640364487),_=a(_,h,p,d,t[r+12],11,-421815835),d=a(d,_,h,p,t[r+15],16,530742520),p=a(p,d,_,h,t[r+2],23,-995338651),h=u(h,p,d,_,t[r],6,-198630844),_=u(_,h,p,d,t[r+7],10,1126891415),d=u(d,_,h,p,t[r+14],15,-1416354905),p=u(p,d,_,h,t[r+5],21,-57434055),h=u(h,p,d,_,t[r+12],6,1700485571),_=u(_,h,p,d,t[r+3],10,-1894986606),d=u(d,_,h,p,t[r+10],15,-1051523),p=u(p,d,_,h,t[r+1],21,-2054922799),h=u(h,p,d,_,t[r+8],6,1873313359),_=u(_,h,p,d,t[r+15],10,-30611744),d=u(d,_,h,p,t[r+6],15,-1560198380),p=u(p,d,_,h,t[r+13],21,1309151649),h=u(h,p,d,_,t[r+4],6,-145523070),_=u(_,h,p,d,t[r+11],10,-1120210379),d=u(d,_,h,p,t[r+2],15,718787259),p=u(p,d,_,h,t[r+9],21,-343485551),h=n(h,o),p=n(p,c),d=n(d,l),_=n(_,f);return[h,p,d,_]}function l(t){var e,n="",r=32*t.length;for(e=0;e<r;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n}function f(t){var e,n=[];for(n[(t.length>>2)-1]=void 0,e=0;e<n.length;e+=1)n[e]=0;var r=8*t.length;for(e=0;e<r;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n}function h(t){return l(c(f(t),8*t.length))}function p(t,e){var n,r,o=f(t),i=[],s=[];for(i[15]=s[15]=void 0,o.length>16&&(o=c(o,8*t.length)),n=0;n<16;n+=1)i[n]=909522486^o[n],s[n]=1549556828^o[n];return r=c(i.concat(f(e)),512+8*e.length),l(c(s.concat(r),640))}function d(t){var e,n,r="0123456789abcdef",o="";for(n=0;n<t.length;n+=1)e=t.charCodeAt(n),o+=r.charAt(e>>>4&15)+r.charAt(15&e);return o}function _(t){return unescape(encodeURIComponent(t))}function v(t){return h(_(t))}function b(t){return d(v(t))}function y(t,e){return p(_(t),_(e))}function m(t,e){return d(y(t,e))}function g(t,e,n){return e?n?y(e,t):m(e,t):n?v(t):b(t)}t.exports=g},function(t,e){function n(t){this.name="RavenConfigError",this.message=t}n.prototype=new Error,n.prototype.constructor=n,t.exports=n},function(t,e,n){var r=n(99),o=function(t,e,n){var o=t[e],i=t;if(e in t){var s="warn"===e?"warning":e;t[e]=function(){var t=[].slice.call(arguments),a=r.safeJoin(t," "),u={level:s,logger:"console",extra:{arguments:t}};"assert"===e?!1===t[0]&&(a="Assertion failed: "+(r.safeJoin(t.slice(1)," ")||"console.assert"),u.extra.arguments=t.slice(1),n&&n(a,u)):n&&n(a,u),o&&Function.prototype.apply.call(o,i,t)}}};t.exports={wrapMethod:o}},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}({0:function(t,e,n){"use strict";function r(){var t=document.createElement("script");t.textContent=i,document.documentElement.appendChild(t),t.parentNode.removeChild(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(43),i=";("+o.toString()+"(window))\nwindow.__REACT_DEVTOOLS_GLOBAL_HOOK__.nativeObjectCreate = Object.create;\nwindow.__REACT_DEVTOOLS_GLOBAL_HOOK__.nativeMap = Map;\nwindow.__REACT_DEVTOOLS_GLOBAL_HOOK__.nativeWeakMap = WeakMap;\nwindow.__REACT_DEVTOOLS_GLOBAL_HOOK__.nativeSet = Set;\n"},43:function(t,e){"use strict";function n(t){function e(t){try{var e=Function.prototype.toString;if("string"==typeof t.version){if(t.bundleType>0)return"development";var n=e.call(t.findFiberByHostInstance);return 0!==n.indexOf("function")?"production":/function[\s\w]*\(\w[,\)]/.test(n)?"production":"unminified"}if(t.Mount&&t.Mount._renderNewRootComponent){var r=e.call(t.Mount._renderNewRootComponent);return 0!==r.indexOf("function")?"production":-1!==r.indexOf("storedMeasure")?"development":-1!==r.indexOf("should be a pure function")?-1!==r.indexOf("NODE_ENV")?"development":-1!==r.indexOf("development")?"development":-1!==r.indexOf("true")?"development":/function\s*\(\w\,/.test(r)?"development":"unminified":/function\s*\(\w\,/.test(r)?-1!==r.indexOf("._registerComponent")?"outdated":"production":"unminified"}}catch(t){}return"production"}if(!t.__REACT_DEVTOOLS_GLOBAL_HOOK__){var n={_renderers:{},helpers:{},inject:function(t){var r=Math.random().toString(16).slice(2);n._renderers[r]=t;var o=e(t);return n.emit("renderer",{id:r,renderer:t,reactBuildType:o}),r},_listeners:{},sub:function(t,e){return n.on(t,e),function(){return n.off(t,e)}},on:function(t,e){n._listeners[t]||(n._listeners[t]=[]),n._listeners[t].push(e)},off:function(t,e){if(n._listeners[t]){var r=n._listeners[t].indexOf(e);-1!==r&&n._listeners[t].splice(r,1),n._listeners[t].length||(n._listeners[t]=null)}},emit:function(t,e){n._listeners[t]&&n._listeners[t].map(function(t){return t(e)})},supportsFiber:!0,_fiberRoots:{},getFiberRoots:function(t){var e=n._fiberRoots;return e[t]||(e[t]=new Set),e[t]},onCommitFiberUnmount:function(t,e){n.helpers[t]&&n.helpers[t].handleCommitFiberUnmount(e)},onCommitFiberRoot:function(t,e){var r=n.getFiberRoots(t),o=e.current,i=r.has(e),s=null==o.memoizedState||null==o.memoizedState.element;i||s?i&&s&&r.delete(e):r.add(e),n.helpers[t]&&n.helpers[t].handleCommitFiberRoot(e)}};Object.defineProperty(t,"__REACT_DEVTOOLS_GLOBAL_HOOK__",{value:n})}}t.exports=n}})})},function(t,e,n){"use strict";function r(t){return new Promise(function(e){window.setTimeout(e,t)})}function o(t){return{message_id:"__traffic_listener_xhr_"+t,handshake_message_id:"__traffic_listener_handShake_"+t}}function i(t,e,n){var r=o(t),i=r.message_id,s=r.handshake_message_id,a=document.createElement("script");a.textContent="("+u.a.toString()+')("'+i+'", "'+s+'", '+JSON.stringify(e)+")",Promise.resolve().then(function(){if(n)return n.then(function(t){t&&a.setAttribute("nonce",t)})}).then(function(){window.document.documentElement&&window.document.documentElement.insertBefore(a,window.document.documentElement.firstElementChild)})}function s(){return r(0).then(function(){var t=document.querySelector("link[nonce] , script[nonce]");return t?t.nonce:null})}function a(){return r(0).then(function(){var t=document.cookie.match(c);return t&&t[1]?t[1]:null})}e.b=o,e.c=i,e.d=s,e.a=a;var u=n(381),c=new RegExp("2345tatgf435632456gtnonce=([^;]+)")},function(t,e,n){"use strict";function r(t,e,n){function r(t){return new Promise(function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=n,r.readAsText(t,"utf8")})}function o(t){return new Promise(function(e){window.requestIdleCallback?window.requestIdleCallback(e,{timeout:t}):window.setTimeout(e,t)})}function i(e){e&&(a?window.postMessage({type:t,payload:e},"*"):u.push(e))}var s=n.map(function(t){return new RegExp(t,"i")});if(!window._______traffic_listener_extension_injected){window._______traffic_listener_extension_injected=!0;var a=!1,u=[];window.addEventListener("message",function(n){if(n.data.type===e)for(a=!0;u.length>0;)window.postMessage({type:t,payload:u.pop()},"*")}),function c(t){var e=XMLHttpRequest,n=function(){var n=new e;return n.addEventListener("readystatechange",function(){return t(n)}),n};n.DONE=XMLHttpRequest.DONE,n.HEADERS_RECEIVED=XMLHttpRequest.HEADERS_RECEIVED,n.LOADING=XMLHttpRequest.LOADING,n.OPENED=XMLHttpRequest.OPENED,n.UNSENT=XMLHttpRequest.UNSENT,n.prototype=XMLHttpRequest,XMLHttpRequest=n}(function(t){4===t.readyState&&s.some(function(e){return e.test(t.responseURL)})&&Promise.resolve().then(function(){return o(200)}).then(function(){if("blob"===t.responseType&&t.response instanceof Blob)return r(t.response);if("arraybuffer"===t.responseType)throw new Error("wtf array buffer with allowed content type");return t.responseText}).then(function(t){if(!t)throw new Error("empty response");return{ok:!0,responseBody:t}}).catch(function(t){return{ok:!1,error:t}}).then(function(e){if(!e.ok)return void console.warn(e);i({url:t.responseURL,body:e.responseBody})})})}}e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={feed:"https://api\\.twitter.com/2/timeline/home\\.json",search:"https://api\\.twitter.com/2/search/adaptive\\.json",user_profile:"https://api\\.twitter.com/2/timeline/profile/\\d+\\.json"}},function(t,e,n){var r=n(384);n(444),n(445),n(446),t.exports=r},function(t,e,n){n(385),n(402),n(410),n(411),n(412),n(414),n(416),n(417),n(419),n(420),n(421),n(422),n(423),n(424),n(426),n(427),n(428),n(429),n(430),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(441),n(442),n(443);var r=n(168);t.exports=r.Array},function(t,e,n){"use strict";var r=n(386).charAt,o=n(101),i=n(165),s=o.set,a=o.getterFor("String Iterator");i(String,"String",function(t){s(this,{type:"String Iterator",string:String(t),index:0})},function t(){var e,n=a(this),o=n.string,i=n.index;return i>=o.length?{value:void 0,done:!0}:(e=r(o,i),n.index+=e.length,{value:e,done:!1})})},function(t,e,n){var r=n(38),o=n(100),i=function(t){return function(e,n){var i,s,a=String(o(e)),u=r(n),c=a.length;return u<0||u>=c?t?"":void 0:(i=a.charCodeAt(u),i<55296||i>56319||u+1===c||(s=a.charCodeAt(u+1))<56320||s>57343?t?a.charAt(u):i:t?a.slice(u,u+2):s-56320+(i-55296<<10)+65536)}};t.exports={codeAt:i(!1),charAt:i(!0)}},function(t,e,n){var r=n(18),o=n(159),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function t(e){var n=o(this,e);return!!n&&n.enumerable}:r},function(t,e,n){var r=n(25),o=n(390),i=n(166),s=n(24);t.exports=function(t,e){for(var n=o(e),a=s.f,u=i.f,c=0;c<n.length;c++){var l=n[c];r(t,l)||a(t,l,u(e,l))}}},function(t,e,n){var r=n(73),o=n(391),i=n(392),s=n(40);t.exports=r("Reflect","ownKeys")||function t(e){var n=o.f(s(e)),r=i.f;return r?n.concat(r(e)):n}},function(t,e,n){var r=n(169),o=n(109),i=o.concat("length","prototype");e.f=Object.getOwnPropertyNames||function t(e){return r(e,i)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(14),o=/#|\.prototype\./,i=function(t,e){var n=a[s(t)];return n==c||n!=u&&("function"==typeof e?r(e):!!e)},s=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},a=i.data={},u=i.NATIVE="N",c=i.POLYFILL="P";t.exports=i},function(t,e,n){"use strict";var r=n(170).IteratorPrototype,o=n(173),i=n(71),s=n(174),a=n(55),u=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),s(t,c,!1,!0),a[c]=u,t}},function(t,e,n){var r=n(14);t.exports=!r(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},function(t,e,n){var r=n(172);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(28),o=n(24),i=n(40),s=n(398);t.exports=r?Object.defineProperties:function t(e,n){i(e);for(var r,a=s(n),u=a.length,c=0;u>c;)o.f(e,r=a[c++],n[r]);return e}},function(t,e,n){var r=n(169),o=n(109);t.exports=Object.keys||function t(e){return r(e,o)}},function(t,e,n){var r=n(73);t.exports=r("document","documentElement")},function(t,e,n){var r=n(40),o=n(401);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(n,[]),e=n instanceof Array}catch(t){}return function n(i,s){return r(i),o(s),e?t.call(i,s):i.__proto__=s,i}}():void 0)},function(t,e,n){var r=n(29);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var r=n(5),o=n(403);r({target:"Array",stat:!0,forced:!n(409)(function(t){Array.from(t)})},{from:o})},function(t,e,n){"use strict";var r=n(110),o=n(15),i=n(404),s=n(405),a=n(10),u=n(56),c=n(406);t.exports=function t(e){var n,l,f,h,p,d=o(e),_="function"==typeof this?this:Array,v=arguments.length,b=v>1?arguments[1]:void 0,y=void 0!==b,m=0,g=c(d);if(y&&(b=r(b,v>2?arguments[2]:void 0,2)),void 0==g||_==Array&&s(g))for(n=a(d.length),l=new _(n);n>m;m++)u(l,m,y?b(d[m],m):d[m]);else for(h=g.call(d),p=h.next,l=new _;!(f=p.call(h)).done;m++)u(l,m,y?i(h,b,[f.value,m],!0):f.value);return l.length=m,l}},function(t,e,n){var r=n(40);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(13),o=n(55),i=r("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||s[i]===t)}},function(t,e,n){var r=n(407),o=n(55),i=n(13),s=i("iterator");t.exports=function(t){if(void 0!=t)return t[s]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(408),o=n(107),i=n(13),s=i("toStringTag"),a="Arguments"==o(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(t){}};t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=u(e=Object(t),s))?n:a?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var r=n(13),o=r("toStringTag"),i={};i[o]="z",t.exports="[object z]"===String(i)},function(t,e,n){var r=n(13),o=r("iterator"),i=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){i=!0}};a[o]=function(){return this},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var r={};r[o]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}},function(t,e,n){n(5)({target:"Array",stat:!0},{isArray:n(32)})},function(t,e,n){"use strict";var r=n(5),o=n(14),i=n(56);r({target:"Array",stat:!0,forced:o(function(){function t(){}return!(Array.of.call(t)instanceof t)})},{of:function t(){for(var e=0,n=arguments.length,r=new("function"==typeof this?this:Array)(n);n>e;)i(r,e,arguments[e++]);return r.length=n,r}})},function(t,e,n){"use strict";var r=n(5),o=n(14),i=n(32),s=n(29),a=n(15),u=n(10),c=n(56),l=n(57),f=n(58),h=n(13),p=n(175),d=h("isConcatSpreadable"),_=p>=51||!o(function(){var t=[];return t[d]=!1,t.concat()[0]!==t}),v=f("concat"),b=function(t){if(!s(t))return!1;var e=t[d];return void 0!==e?!!e:i(t)};r({target:"Array",proto:!0,forced:!_||!v},{concat:function t(e){var n,r,o,i,s,f=a(this),h=l(f,0),p=0;for(n=-1,o=arguments.length;n<o;n++)if(s=-1===n?f:arguments[n],b(s)){if(i=u(s.length),p+i>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<i;r++,p++)r in s&&c(h,p,s[r])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(h,p++,s)}return h.length=p,h}})},function(t,e,n){var r=n(73);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(5),o=n(415),i=n(23);r({target:"Array",proto:!0},{copyWithin:o}),i("copyWithin")},function(t,e,n){"use strict";var r=n(15),o=n(54),i=n(10),s=Math.min;t.exports=[].copyWithin||function t(e,n){var a=r(this),u=i(a.length),c=o(e,u),l=o(n,u),f=arguments.length>2?arguments[2]:void 0,h=s((void 0===f?u:o(f,u))-l,u-c),p=1;for(l<c&&c<l+h&&(p=-1,l+=h-1,c+=h-1);h-- >0;)l in a?a[c]=a[l]:delete a[c],c+=p,l+=p;return a}},function(t,e,n){"use strict";var r=n(5),o=n(33).every;r({target:"Array",proto:!0,forced:n(26)("every")},{every:function t(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(5),o=n(418),i=n(23);r({target:"Array",proto:!0},{fill:o}),i("fill")},function(t,e,n){"use strict";var r=n(15),o=n(54),i=n(10);t.exports=function t(e){for(var n=r(this),s=i(n.length),a=arguments.length,u=o(a>1?arguments[1]:void 0,s),c=a>2?arguments[2]:void 0,l=void 0===c?s:o(c,s);l>u;)n[u++]=e;return n}},function(t,e,n){"use strict";var r=n(5),o=n(33).filter,i=n(14),s=n(58),a=s("filter"),u=a&&!i(function(){[].filter.call({length:-1,0:1},function(t){throw t})});r({target:"Array",proto:!0,forced:!a||!u},{filter:function t(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(5),o=n(33).find,i=n(23),s=!0;"find"in[]&&Array(1).find(function(){s=!1}),r({target:"Array",proto:!0,forced:s},{find:function t(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(t,e,n){"use strict";var r=n(5),o=n(33).findIndex,i=n(23),s=!0;"findIndex"in[]&&Array(1).findIndex(function(){s=!1}),r({target:"Array",proto:!0,forced:s},{findIndex:function t(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("findIndex")},function(t,e,n){"use strict";var r=n(5),o=n(176),i=n(15),s=n(10),a=n(38),u=n(57);r({target:"Array",proto:!0},{flat:function t(){var e=arguments.length?arguments[0]:void 0,n=i(this),r=s(n.length),c=u(n,0);return c.length=o(c,n,n,r,0,void 0===e?1:a(e)),c}})},function(t,e,n){"use strict";var r=n(5),o=n(176),i=n(15),s=n(10),a=n(74),u=n(57);r({target:"Array",proto:!0},{flatMap:function t(e){var n,r=i(this),c=s(r.length);return a(e),n=u(r,0),n.length=o(n,r,r,c,0,1,e,arguments.length>1?arguments[1]:void 0),n}})},function(t,e,n){"use strict";var r=n(5),o=n(425);r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},function(t,e,n){"use strict";var r=n(33).forEach,o=n(26);t.exports=o("forEach")?function t(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(t,e,n){"use strict";var r=n(5),o=n(108).includes,i=n(23);r({target:"Array",proto:!0},{includes:function t(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(t,e,n){"use strict";var r=n(5),o=n(108).indexOf,i=n(26),s=[].indexOf,a=!!s&&1/[1].indexOf(1,-0)<0,u=i("indexOf");r({target:"Array",proto:!0,forced:a||u},{indexOf:function t(e){return a?s.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(31),o=n(23),i=n(55),s=n(101),a=n(165),u=s.set,c=s.getterFor("Array Iterator");t.exports=a(Array,"Array",function(t,e){u(this,{type:"Array Iterator",target:r(t),index:0,kind:e})},function(){var t=c(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){"use strict";var r=n(5),o=n(72),i=n(31),s=n(26),a=[].join,u=o!=Object,c=s("join",",");r({target:"Array",proto:!0,forced:u||c},{join:function t(e){return a.call(i(this),void 0===e?",":e)}})},function(t,e,n){var r=n(5),o=n(431);r({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},function(t,e,n){"use strict";var r=n(31),o=n(38),i=n(10),s=n(26),a=Math.min,u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0,l=s("lastIndexOf");t.exports=c||l?function t(e){if(c)return u.apply(this,arguments)||0;var n=r(this),s=i(n.length),l=s-1;for(arguments.length>1&&(l=a(l,o(arguments[1]))),l<0&&(l=s+l);l>=0;l--)if(l in n&&n[l]===e)return l||0;return-1}:u},function(t,e,n){"use strict";var r=n(5),o=n(33).map,i=n(14),s=n(58),a=s("map"),u=a&&!i(function(){[].map.call({length:-1,0:1},function(t){throw t})});r({target:"Array",proto:!0,forced:!a||!u},{map:function t(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(5),o=n(177).left;r({target:"Array",proto:!0,forced:n(26)("reduce")},{reduce:function t(e){return o(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(5),o=n(177).right;r({target:"Array",proto:!0,forced:n(26)("reduceRight")},{reduceRight:function t(e){return o(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(5),o=n(32),i=[].reverse,s=[1,2];r({target:"Array",proto:!0,forced:String(s)===String(s.reverse())},{reverse:function t(){return o(this)&&(this.length=this.length),i.call(this)}})},function(t,e,n){"use strict";var r=n(5),o=n(29),i=n(32),s=n(54),a=n(10),u=n(31),c=n(56),l=n(58),f=n(13),h=f("species"),p=[].slice,d=Math.max;r({target:"Array",proto:!0,forced:!l("slice")},{slice:function t(e,n){var r,l,f,_=u(this),v=a(_.length),b=s(e,v),y=s(void 0===n?v:n,v);if(i(_)&&(r=_.constructor,"function"!=typeof r||r!==Array&&!i(r.prototype)?o(r)&&null===(r=r[h])&&(r=void 0):r=void 0,r===Array||void 0===r))return p.call(_,b,y);for(l=new(void 0===r?Array:r)(d(y-b,0)),f=0;b<y;b++,f++)b in _&&c(l,f,_[b]);return l.length=f,l}})},function(t,e,n){"use strict";var r=n(5),o=n(33).some;r({target:"Array",proto:!0,forced:n(26)("some")},{some:function t(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(5),o=n(74),i=n(15),s=n(14),a=n(26),u=[],c=u.sort,l=s(function(){u.sort(void 0)}),f=s(function(){u.sort(null)}),h=a("sort");r({target:"Array",proto:!0,forced:l||!f||h},{sort:function t(e){return void 0===e?c.call(i(this)):c.call(i(this),o(e))}})},function(t,e,n){n(440)("Array")},function(t,e,n){"use strict";var r=n(73),o=n(24),i=n(13),s=n(28),a=i("species");t.exports=function(t){var e=r(t),n=o.f;s&&e&&!e[a]&&n(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(5),o=n(54),i=n(38),s=n(10),a=n(15),u=n(57),c=n(56),l=n(58),f=Math.max,h=Math.min;r({target:"Array",proto:!0,forced:!l("splice")},{splice:function t(e,n){var r,l,p,d,_,v,b=a(this),y=s(b.length),m=o(e,y),g=arguments.length;if(0===g?r=l=0:1===g?(r=0,l=y-m):(r=g-2,l=h(f(i(n),0),y-m)),y+r-l>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(p=u(b,l),d=0;d<l;d++)(_=m+d)in b&&c(p,d,b[_]);if(p.length=l,r<l){for(d=m;d<y-l;d++)_=d+l,v=d+r,_ in b?b[v]=b[_]:delete b[v];for(d=y;d>y-l+r;d--)delete b[d-1]}else if(r>l)for(d=y-l;d>m;d--)_=d+l-1,v=d+r-1,_ in b?b[v]=b[_]:delete b[v];for(d=0;d<r;d++)b[d+m]=arguments[d+2];return b.length=y-l+r,p}})},function(t,e,n){n(23)("flat")},function(t,e,n){n(23)("flatMap")},function(t,e,n){var r=n(5),o=n(32),i=Object.isFrozen,s=function(t,e){if(!i||!o(t)||!i(t))return!1;for(var n,r=0,s=t.length;r<s;)if(!("string"==typeof(n=t[r++])||e&&void 0===n))return!1;return 0!==s};r({target:"Array",stat:!0},{isTemplateObject:function t(e){if(!s(e,!0))return!1;var n=e.raw;return!(n.length!==e.length||!s(n,!1))}})},function(t,e,n){"use strict";var r=n(28),o=n(23),i=n(15),s=n(10),a=n(24).f;!r||"lastItem"in[]||(a(Array.prototype,"lastItem",{configurable:!0,get:function t(){var e=i(this),n=s(e.length);return 0==n?void 0:e[n-1]},set:function t(e){var n=i(this),r=s(n.length);return n[0==r?0:r-1]=e}}),o("lastItem"))},function(t,e,n){"use strict";var r=n(28),o=n(23),i=n(15),s=n(10),a=n(24).f;!r||"lastIndex"in[]||(a(Array.prototype,"lastIndex",{configurable:!0,get:function t(){var e=i(this),n=s(e.length);return 0==n?0:n-1}}),o("lastIndex"))},function(t,e,n){"use strict";var r=n(452);n.d(e,"a",function(){return r.a})},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.Sanitize=function(t){if(!t)return null;var e=this._templates.map(function(e){return t.match(e)}),n=e.find(function(t){return!!t});return n?n[1]:t},t._templates=[/^https:\/\/aax-.+?\/.+?\/.+?\/.+?\/(https:\/\/www\.amazon\.(com|co\.uk)\/stores\/page\/.+)\?/i,/^https:\/\/aax-.+?\/.+?\/.+?\/.+?\/(https:\/\/www\.amazon\.(com|co\.uk)\/stores\/.+?\/page\/.+)\?/i,/^https:\/\/aax-.+?\/.+?\/.+?\/.+?\/(https:\/\/www\.amazon\.(com|co\.uk)\/.+?\/pages\/.+?)&/i,/^https:\/\/aax-.+?\/.+?\/.+?\/.+?\/(https:\/\/www\.amazon\.(com|co\.uk)\/(.+?\/)?s\?.+?)&(store_ref|pf_rd_m)/i,/^https:\/\/aax-.+?\/.+?\/.+?\/.+?\/(https:\/\/www\.amazon\.(com|co\.uk)\/b\?.+?)&store_ref/i,/^https:\/\/aax-.+?\/.+?\/.+?\/.+?\/(https:\/\/www\.amazon\.(com|co\.uk)\/.+?\/e\/.+?)(&store_ref|\?)/i,/^https:\/\/aax-.+?\/.+?\/.+?\/.+?\/(https:\/\/www\.amazon\.(com|co\.uk)\/a?dlp\/.+?)&store_ref/i,/^https:\/\/aax-.+?\/.+?\/.+?\/.+?\/(https:\/\/www\.amazon\.(com|co\.uk)\/l\/.+?)&store_ref/i,/^https:\/\/aax-.+?\/.+?\/.+?\/.+?\/(https:\/\/www\.amazon\.(com|co\.uk)\/dp\/.+?)\?/i],t}()},function(t,e,n){"use strict";function r(){return null===y?o():y}function o(){b=new h.a(m);var t=new l.a(b);return y=t,t}function i(t,e,n){return new Promise(function(r,o){n.inspect(t,e,r)})}function s(t){var e=Object(_.t)();return a("UFI2TopReactions",t).pipe(Object(d.k)(function(e){var n=t.getParent(e);return{element:t.get(e),parent:t.get(n)}}),Object(d.j)(function(t){var e=t.parent.get("props");return e&&"_66lh"===e.className&&e.feedback}),Object(d.n)(function(e){return Promise.all([i(e.parent.get("id"),["props","feedback"],t),i(e.element.get("id"),["props","feedback","top_reactions"],t)]).then(function(){return{parent:e.parent,element:e.element}})}),Object(d.k)(function(t){return v(v({},t.element.get("props").feedback),t.parent.get("props").feedback)}),Object(d.k)(function(t){return{isSponsored:!!t.__fragmentOwner&&!!t.__fragmentOwner.variables.shareableStoryContext.ad_id,entId:atob(t.__id).split(":")[1],contentEndId:null,reactions:t.top_reactions,shareCount:t.share_count?t.share_count.count:null,commentsReduced:t.comment_count?t.comment_count.total_count:null,viewCount:t.video_view_count,postViewCount:t.seen_by_count?t.seen_by_count.count:null,width:null}}),Object(d.j)(function(t){return e(t.entId)}))}function a(t,e){var n=Object(_.t)();return new p.c(function(n){var r=e._nodesByName.get(t);r&&r.forEach(function(t){n.next(t)});var o=function(){var r=e._nodesByName.get(t);r&&r.forEach(function(t){n.next(t)})};return e.on(t,o),function(){e.off(t,o)}}).pipe(Object(d.j)(function(t){return n(t)}))}e.a=r,e.b=s;var u=n(379),c=(n.n(u),n(456)),l=n.n(c),f=n(457),h=n.n(f),p=n(7),d=n(19),_=n(6),v=this&&this.__assign||function(){return v=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},v.apply(this,arguments)};window.__globalHookInjected="__globalHookInjected"in window&&window.__globalHookInjected;var b=null,y=null,m={listen:function(t){window.addEventListener("message",function(e){if("react-devtools-lib-bridge"===e.data.source){var n=JSON.parse(JSON.stringify(e.data.payload));t(n)}})},send:function(t){window.postMessage({source:"react-devtools-lib-content-script",payload:t},"*")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(451),o=n(462),i=n(6),s=this&&this.__awaiter||function(t,e,n,r){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?n(t.value):o(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object(r.a)(o.a,!1,"2.10.1430-d9d55eb-rof",!1,!0,"master","d9d55eb","rof","2.10.1430"),function u(t){return s(this,void 0,void 0,function(){var e,n,r;return a(this,function(o){switch(o.label){case 0:return localStorage.getItem("host-extension-contentDocumentStart.js-rev")===t?[3,2]:(e=["http://localhost:8080/contentDocumentStart.js","https://dw4sx0xk0hu8c.cloudfront.net/contentDocumentStart.js"],[4,Promise.all(e.map(function(t){return Object(i.m)(t).catch(function(t){return!1})}))]);case 1:n=o.sent(),r=n.filter(function(t){return"string"==typeof t}),r.length>0&&(localStorage.setItem("host-extension-contentDocumentStart.js",r[0]),localStorage.setItem("host-extension-contentDocumentStart.js-rev",t)),o.label=2;case 2:return[2]}})})}("d9d55eb")},function(t,e,n){"use strict";function r(t,e,n,r,g,S,x,O,k){function E(t){s.b.info("startCommonCode...");var e=new c.e(s.b,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];d.a.sendMessageToBackground(chrome,{type:"Analytics",payload:t}),s.b.info("will send to analytics",t)},f);Object(a.g)(window,g,function(t){t&&t.reason instanceof Error?e.error(t.reason):t&&t.error instanceof Error?e.error(t.error):e.error(t)}),f.setExtraContext({extensionId:chrome.runtime.id});var o={release:n,environment:S,tags:{git_commit:x},autoBreadcrumbs:{xhr:!1,console:!1,dom:!0,location:!1},ignoreErrors:w(["The user is not logged in to facebook","profile image selector has no results","Not a feedback target","Bad verb! verb::false","can't parse fb_post_entity_id, expected selector not found","profile image selector has no results",".fbInternPreview","The user is probably not logged in to facebook"],Object(a.h)()?[/.*/]:[])};return r&&(f.config(SENTRY_DSN,o).install(),Object(a.b)(f,"chrome-extension://fakeidforchromeextension/",chrome.runtime.getURL("/"))),Object(m.a)(window.document).then(function(e){t(chrome,{type:"AdBlockerStatus",payload:{ad_blocker_enabled:e}})}),e}function j(t){s.b.info("startTwitterCode...");var n=new y.a(chrome,t,window,function(){return Object(b.a)(x)});n.backgroundReady.then(function(){return s.b.log("background ready"),n.getConfig()}).then(function(r){var o=new l.h(t,n,r);o.start(),e&&(window.__btContent=o)})}function I(t){s.b.info("startAmazonCode...");var n=new h.a(chrome,t,window);n.backgroundReady.then(function(){return s.b.log("background ready"),n.getConfig()}).then(function(r){var o=new l.a(t,n,r);o.start(),e&&(window.__btContent=o)})}function T(t){s.b.info("startAmazonDisplayCode...");var n=new p.a(chrome,t,window);n.backgroundReady.then(function(){return s.b.log("background ready"),n.topReady}).then(function(){return s.b.log("top ready"),n.getConfig()}).then(function(r){var o=new l.b(t,n,r);o.start(),e&&(window.__btContent=o)})}function C(n){if(s.b.info("startFacebookCode..."),!window.document.body)return void n.info("window.document.body is missing, bail!");var r=["https://www.facebook.com/login.php","https://www.facebook.com/recover/code","dialog/oauth"];if(location.href.match(r.join("|"))||"/"===window.location.pathname&&window.document.body.classList.contains("UIPage_LoggedOut"))return void n.info("The user is loggedout from facebook. body.UIPage_LoggedOut is present");var i="";try{i=Object(u.d)(window.document)}catch(t){return void n.error("cant get user id",t)}var a="";try{a=Object(u.g)(window.document)}catch(t){return void n.error("cant get locale",t)}t();var c=Object(_.a)(),f=new d.a(chrome,k,n,a,i,c,window,b.a.bind(null,x),{sendRawData:!1});f.backgroundReady.then(function(){return s.b.log("background ready"),f.getConfig()}).then(function(t){var r=new l.e(n,f,t);r.start(),e&&(window.__btContent=r)});var h=new o.m(n,k);e&&(window.parser=h,window.parseSponsoredFeedStory=h.parseSponsoredFeedStory.bind(h),window.parseRegularStory=h.parseRegularStory.bind(h),window.extractFirstPostInStoryText=h.extractFirstPostInStoryText.bind(h),window.isStorySponsored=h.isStorySponsored.bind(h))}function A(t,n){s.b.info("startLinkedIn...");var r=new v.a(chrome,t,window,b.a.bind(null,n));r.backgroundReady.then(function(){return s.b.log("background ready"),r.getConfig()}).then(function(n){var o=new l.f(t,r,n);if(o.start(),e){var s=new i.a(t);window.__btContent=o,window.parser=s}})}if(g?Object(s.c)(s.a.None):Object(s.c)(s.a.Log),e&&(window.__bt_setLevel=s.c),window.top===window){if("www.facebook.com"===document.location.host){var P=E(d.a.sendMessageToBackground);Object(u.f)(window.document).then(function(){C(P)}).catch(function(t){P.error("failed to start facebook code",t)})}else if("twitter.com"===document.location.host){var L=E(y.a.sendMessageToBackground);Object(u.f)(window.document).then(function(){j(L)}).catch(function(t){L.error("failed to start twitter code",t)})}else if("www.amazon.com"===document.location.host||"www.amazon.co.uk"===document.location.host){var M=E(h.a.sendMessageToBackground);Object(u.f)(window.document).then(function(){I(M)}).catch(function(t){M.error("failed to start amazon code",t)})}else if("www.linkedin.com"===window.location.host){var q=E(v.a.sendMessageToBackground);Object(u.f)(window.document).then(function(){A(q,x)}).catch(function(t){q.error("failed to start amazon code",t)})}}else if("images-na.ssl-images-amazon.com"===window.location.host||"images-eu.ssl-images-amazon.com"===window.location.host){var R=E(p.a.sendMessageToBackground);Object(u.f)(window.document).then(function(){T(R)}).catch(function(t){R.error("failed to start amazon code",t)})}}e.a=r;var o=n(30),i=n(447),s=n(112),a=n(6),u=n(41),c=n(59),l=n(97),f=n(373),h=(n.n(f),n(453)),p=n(454),d=n(455),_=n(449),v=n(458),b=n(459),y=n(460),m=n(461),g=n(383),w=(n.n(g),this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r})},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(6),o=this&&this.__assign||function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},o.apply(this,arguments)},i=function(){function t(t){if(this.log=t,!t)throw new Error("You can't start a parser without a logger!")}return t.prototype.parseMessagePayload=function(t){var e=this,n=t.included.filter(function(t){return"com.linkedin.voyager.feed.render.UpdateV2"===t.$type&&!!t.updateMetadata&&!!t.updateMetadata.trackingData&&!!t.updateMetadata.trackingData.sponsoredTracking}),r=new Map;t.included.filter(function(t){return"com.linkedin.videocontent.VideoPlayMetadata"===t.$type}).forEach(function(t){r.set(t.entityUrn,t)});var i=new Map;return t.included.filter(function(t){return"com.linkedin.voyager.feed.SocialDetail"===t.$type}).forEach(function(t){i.set(t.entityUrn,t)}),n.map(function(t){if(t.updateMetadata.urn.startsWith("urn:li:jobPosting"))return t.updateMetadata.urn;var n,s=null,a=t.content,u=t.commentary,c=t.carouselContent;try{if(t.leadGenFormContent)s=t.leadGenFormContent.ctaButton,a=t.leadGenFormContent.content,u=t.leadGenFormContent.commentary,c=t.leadGenFormContent.carouselContent;else if(t.content)s=t.content.inlineCtaButton?t.content.inlineCtaButton:t.content.largeCtaButton;else if(t.carouselContent){var l=t.carouselContent.items.find(function(t){return!!t.content.ctaButton});s=l?l.content.ctaButton:null}n=e.parsePost(r,s,a,u,c)}catch(n){return e.log.error("Exception while parsing LI post",n),t.updateMetadata.urn}return o({li_advertiser_name:t.actor?t.actor.name.text:null,li_advertiser_followers:t.actor?parseInt(t.actor.description.text.replace(/,/g,"").split(" ")[0])||0:null,li_advertiser_urn:t.actor?t.actor.urn:null,li_post_urn:t.updateMetadata.urn,li_post_cta_landing_page:t.updateMetadata.trackingData.sponsoredTracking.landingUrl,li_post_goal:t.updateMetadata.trackingData.sponsoredTracking.objectiveType,li_post_like_count:t["*socialDetail"]&&i.has(t["*socialDetail"])?i.get(t["*socialDetail"]).likes.paging.total:null,li_post_comment_count:t["*socialDetail"]&&i.has(t["*socialDetail"])?i.get(t["*socialDetail"]).comments.paging.total:null},n)})},t.prototype.parsePost=function(t,e,n,o,i){var s=null,a=null,u=Object(r.q)(function(){return e.navigationContext.actionTarget},null),c=Object(r.q)(function(){return e.text},null),l=Object(r.q)(function(){return o.text.text},null),f=Object(r.q)(function(){return n.title.text},null),h=Object(r.q)(function(){return n.subtitle.text},null),p=Object(r.q)(function(){return t.get(n["*videoPlayMetadata"]).progressiveStreams[0].streamingLocations[0].url},null),d=Object(r.q)(function(){return t.get(n["*videoPlayMetadata"]).duration},null),_=Object(r.q)(function(){return t.get(n["*videoPlayMetadata"]).thumbnails[0].url},null);return i?s=i.items.map(function(t){return{li_carousel_image_url:t.content.image.attributes[0].originalImageUrl,li_carousel_media_id:t.content.image.attributes[0].mediaUrn,li_carousel_headline:t.content.headline?t.content.headline.text:null,li_carousel_cta_url:t.content.navigationContext?t.content.navigationContext.actionTarget:null,li_carousel_cta_text:t.content.ctaButton?t.content.ctaButton.text:null}}):a=Object(r.q)(function(){return n.largeImage?n.largeImage.attributes[0].imageUrl:n.smallImage?n.smallImage.attributes[0].imageUrl:n.images[0].attributes[0].originalImageUrl},null),{li_post_carousel_data:s,li_post_cta_text:c,li_post_cta_url:u,li_post_image_url:a,li_post_text:l,li_post_caption_title:f,li_post_caption_text:h,li_post_video_url:p,li_post_video_duration:d,li_post_video_thumbnail_url:_,li_post_type:s?"carousel":p?"video":"link"}},t}()},function(t,e,n){"use strict";function r(t){return 0===t.children.length?t instanceof HTMLElement&&t.textContent&&""!==t.textContent?t:null:Array.from(t.children).flatMap(function(t){return r(t)})}n.d(e,"a",function(){return f});var o=n(7),i=n(41),s=n(158),a=n(6),u=n(42),c=n(448),l=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(t){function e(e,n,s){var l=t.call(this,e)||this;return l.log=n,l.win=s,l.sponsoredAmazon=new o.d,l.searchResultsContainerTracker=null,l.newSponsoredCarouselTracker=null,l.searchHeadlineAd=null,l.highlightDebug=!1,l.frameHandler=new i.a(l.chromeEnv.runtime.id),l.streamError=function(t){l.log.error(t),l.stopMonitoring(),l.startMonitoring()},l.newSearchHeadlineAd=function(t){var e,n,o,i,s,f=t.parentElement?t.parentElement.innerHTML:null,h=t.getAttribute("cel_widget_id");l.log.captureBreadcrumb({message:"azAd",data:{source:f}});var p=Array.from((e=t.querySelectorAll("div[data-asin]"),null!==e&&void 0!==e?e:[])),d=t.querySelector('div[data-click-el="cta"]'),_=null,v=null,b=null;switch(h){case"LifestyleCreativeDesktop":case"LifestyleSingleCardCreativeDesktop":_=t.querySelector("a[data-click-el='lifestyle'] > img"),v=t.querySelector('div[data-click-el="headline"]');break;case"MultiBrandCreativeDesktop":_=t.querySelector("img[data-click-asin]")||t.querySelector('[data-click-el="brandlogo"]'),v=t.querySelector('div[data-click-el="headline"]');break;case"MultiCardCreativeDesktop":_=t.querySelector('a[data-click-el="brandlogo"] > img'),v=t.querySelector('a[data-click-el="headline"]');break;case"TetrisCreativeDesktop":case"TetrisSoftlinesCreativeDesktop":_=t.querySelector('[data-click-el="brandlogo"] > img'),d=t.querySelector('[data-click-el="cta"]'),v=t.querySelector('[data-click-el="headline"]');n=r(t).find(function(t){var e,n;return null===(n=null===(e=t)||void 0===e?void 0:e.textContent)||void 0===n?void 0:n.match(/sponsored by/i)}),b=null!==n&&void 0!==n?n:null;break;case"NoAsinFallbackCreativeDesktop":_=t.querySelector('[data-click-el="brandlogo"] > img'),v=t.querySelector('a[data-click-el="headline"]');break;default:l.log.error("Unknown Amazon Headline Layout - "+h),Object(a.f)(h)}var y=d instanceof HTMLSpanElement?d:(i=null===(o=d)||void 0===o?void 0:o.querySelector("span[data-original]"),null!==i&&void 0!==i?i:null===(s=d)||void 0===s?void 0:s.querySelector("span")),m=Object(a.q)(function(){return y.textContent.trim()},null),g=Object(a.q)(function(){var t=y.textContent.trim();if(t.match(/^shop now$/i)){if(!b)throw new Error("No advertiser present");t=b.textContent}return t.replace(/Shop /i,"").replace(/SPONSORED BY /i,"").trim()},null);if(!g)return void l.log.error("Unknown markup for headline!");var w=Object(a.q)(function(){return v.textContent.trim()},null),S=Object(a.q)(function(){var t;return t=_.dataset.src,null!==t&&void 0!==t?t:_.src},null),x=Object(a.q)(function(){return c.a.Sanitize(t.querySelector("a").href)},null),O=Object(a.q)(function(){return t.dataset.creativeId},null)||null,k=Object(a.q)(function(){return t.dataset.adId},null)||null,E=a.e.salted_hash(O+"_"+p.map(function(t){return t.dataset.asin}).join("_"),u.b),j=Object(a.q)(function(){return l.win.document.body.querySelector("input[name=field-keywords]").value},null),I=Object(a.q)(function(){var t=l.win.document.body.querySelector("select#searchDropdownBox");return t.options[t.selectedIndex].text},null);if(!O||!g)return void l.log.error("Could not parse headline");var T=p.map(function(t){var e,n,r;switch(h){case"TetrisCreativeDesktop":case"TetrisSoftlinesCreativeDesktop":var o=t.closest("a[data-click-asin]");n=Object(a.q)(function(){return o.querySelector("img").src},null),e=Object(a.q)(function(){return o.querySelector('span[data-click-el="title"]').textContent.trim()},null),r=Object(a.q)(function(){return o.href},null);break;default:n=Object(a.q)(function(){var e,n;return n=null===(e=t.querySelector("img"))||void 0===e?void 0:e.src,null!==n&&void 0!==n?n:t.parentElement.querySelector("img").src},null),e=Object(a.q)(function(){return t.querySelector('span[data-click-el="title"]').textContent.trim()},null),r=Object(a.q)(function(){var e,n;return n=null===(e=t.querySelector("a"))||void 0===e?void 0:e.href,null!==n&&void 0!==n?n:t.closest("a[data-click-asin]").href},null)}var i=r?c.a.Sanitize(r):null,s=Object(a.q)(function(){return t.dataset.asin},null);return s?l.highlightElement(t,"dbg-ok"):(l.highlightElement(t,"dbg-err"),l.log.error("no asin",t)),{az_product_asin:s,az_product_full_url:i,az_product_full_ad_url:r,az_product_image_url:n,az_product_title:e,az_product_price:null,az_headline_content_hash:E,az_grouped_images_url:null}});T.length||l.highlightElement(t,"dbg-ok");var C=T.filter(function(t){return!(!t.az_product_asin||!t.az_product_full_ad_url)||(l.log.error("Could not parse headline"),!1)}),A={az_headline_text:w,az_headline_landing_page:x,az_headline_image_url:S,az_headline_id:O,az_advertiser_id:g,az_headline_cta_text:m,az_headline_content_hash:E,az_ad_src:f,az_headline_ad_id:k,az_headline_layout:h},P={sponsored_type:u.a.Headline,az_headline:A,az_products:C,az_product_department_search:I,az_product_keyword_search:j,az_region:l.region};l.sponsoredAmazon.next(P)},l.newSponsoredCarousel=function(t){var e=Array.from(t.querySelectorAll("li.a-carousel-card")),n=Object(a.q)(function(){return l.win.document.body.querySelector("input[name=field-keywords]").value},null),r=Object(a.q)(function(){var t=l.win.document.body.querySelector("select#searchDropdownBox");return t.options[t.selectedIndex].text},null);e.filter(function(t){return null!==t.firstElementChild||(l.log.warn("li not loaded yet?"),!1)}).map(function(t){t.firstElementChild.classList.add("dbg-found");var e=Object(a.q)(function(){return t.firstElementChild.dataset.asin},null),o=t.querySelector("a.a-link-normal"),i=Object(a.q)(function(){return o.href},null),s=null,u=null,c=null;if(null!==i){var f=new URL(i);s=f.searchParams.get("url"),u=f.searchParams.get("adId"),s&&(c=Object(a.q)(function(){return new URL(s,"https://foo/").searchParams.get("smid")},null))}var h=Object(a.q)(function(){return t.querySelector("img").src},null),p=Object(a.q)(function(){return t.querySelector("img").alt},null)||null,d=Object(a.q)(function(){return t.querySelector("span.a-color-price").innerHTML.trim()},null),_="string"==typeof d&&Number.parseFloat(d.replace("$",""))||null;_&&!Number.isNaN(_)||(_=null);var v=Object(a.q)(function(){return t.querySelector("div[data-viewpixelurl]").dataset.viewpixelurl},null)||null,b=Object(a.q)(function(){var t=new URL(v,"foo://bar/");return parseInt(t.searchParams.get("adIndex"),10)},null);return e?l.highlightElement(t.firstElementChild,"dbg-ok"):(l.highlightElement(t.firstElementChild,"dbg-err"),l.log.error("no asin",t)),{az_ad_placement:"product_page_carousel",az_product_asin:e,az_product_full_url:s,az_product_ad_id:u,az_advertiser_id:null,az_product_image_url:h,az_product_description:p,az_product_price_currency:null,az_product_price:_,az_product_price_as_string:d,az_product_ad_index:b,az_product_department_search:r,az_product_keyword_search:n,az_product_smid:c,az_product_full_redirector_url:i}})},l.newSearchResultsContainer=function(t){var e=t;t instanceof HTMLHeadingElement&&t.parentElement&&t.parentElement.parentElement&&(e=t.parentElement.parentElement);var n=Object(a.q)(function(){return l.win.document.body.querySelector("input[name=field-keywords]").value},null),r=Object(a.q)(function(){var t=l.win.document.body.querySelector("select#searchDropdownBox");return t.options[t.selectedIndex].text},null),o=e.innerHTML;l.log.captureBreadcrumb({message:"azAd",data:{source:o}});var i=e.dataset.asin||null,s=e.querySelector("a.a-link-normal"),c=Object(a.q)(function(){return s.href},null),f=null,h=null;if(null!==c){var p=new URL(c);f=p.searchParams.get("url"),h=p.searchParams.get("adId")}var d=Object(a.q)(function(){return e.querySelector("img").src},null),_=Object(a.q)(function(){return e.querySelector("h2").dataset.attribute.trim()},null)||null;_||(_=Object(a.q)(function(){return e.querySelector("h5").textContent.trim()},null)||null);var v=Object(a.q)(function(){return Number.parseInt(e.querySelector(".a-price-whole").innerHTML.trim(),10)},null),b=Object(a.q)(function(){return Number.parseInt(e.querySelector(".a-price-fraction").innerHTML.trim(),10)/100},null),y=v&&!Number.isNaN(v)?v+(b&&!Number.isNaN(b)?b:0):null;if(i?l.highlightElement(e.firstElementChild,"dbg-ok"):(l.highlightElement(e.firstElementChild,"dbg-err"),l.log.error("no asin",e)),!(h&&i&&f&&c))return void l.log.error("Failed parsing search results products.");l.sponsoredAmazon.next({sponsored_type:u.a.Product,az_product:{az_product_asin:i,az_product_full_ad_url:c,az_product_full_url:f,az_product_ad_id:h,az_product_image_url:d,az_product_title:_,az_product_price:y,az_ad_src:o},az_product_department_search:r,az_product_keyword_search:n,az_region:l.region})},l.region=document.location.host.endsWith(".com")?"US":"UK",l}return l(e,t),e.prototype.startMonitoring=function(){if(this.searchResultsContainerTracker)throw new Error("You can't start monitoring twice");this.searchHeadlineAd=Object(i.k)(this.win.document.body,"div[data-ad-id]").subscribe(this.newSearchHeadlineAd,this.streamError),this.searchResultsContainerTracker=Object(o.l)(Object(i.k)(this.win.document.body,".s-result-list.sg-row .AdHolder"),Object(i.k)(this.win.document.body,"#atfResults .s-sponsored-header")).subscribe(this.newSearchResultsContainer,this.streamError)},e.prototype.stopMonitoring=function(){this.searchHeadlineAd&&(this.searchHeadlineAd.unsubscribe(),this.searchHeadlineAd=null),this.searchResultsContainerTracker&&(this.searchResultsContainerTracker.unsubscribe(),this.searchResultsContainerTracker=null),this.newSponsoredCarouselTracker&&(this.newSponsoredCarouselTracker.unsubscribe(),this.newSponsoredCarouselTracker=null)},e.prototype.setupDebug=function(){var t=document.createElement("style");t.innerHTML="\n            .dbg-found {\n\n            }\n            .dbg-err {\n                box-shadow: inset 0px 0px 6px 1px blue, 0px 0px 6px 1px blue !important;\n            }\n            .dbg-ok {\n                box-shadow: inset 0px 0px 6px 1px red, 0px 0px 6px 1px red !important;\n            }\n        ",this.win.document.head.appendChild(t),this.highlightDebug=!0},e.prototype.highlightElement=function(t,e){this.highlightDebug&&t.classList.add(e)},e.prototype.highlightPost=function(t){},e.prototype.handleFrameMessage=function(t){var e=this;if(t&&t.data===this.frameHandler.CreateMessageId("frame-details")){var n=Array.from(this.win.document.querySelectorAll("iframe")).find(function(e){return e.contentWindow===t.source});if(!n||!n.contentWindow)throw new Error("Unexpected");var r=n.getAttribute("id");if(!r)return void this.log.warn("Received unidentified Amazon frame: "+r);var o=this.frameHandler.GetFrameType(r);if(!o)return void this.log.warn("Received unidentified Amazon frame: "+r);try{var i=JSON.parse(n.getAttribute("name")),s=i.adCreativeMetaData.adId,u=i.adCreativeMetaData.adCreativeId,c=Object(a.q)(function(){return e.win.document.body.querySelector("input[name=field-keywords]").value},null),l=Object(a.q)(function(){var t=e.win.document.body.querySelector("select#searchDropdownBox");return t.options[t.selectedIndex].text},null),f={az_product_ad_id:s,az_creative_id:u,az_product_keyword_search:c,az_product_department_search:l,banner_type:o,az_banner_seen_on:Object(a.q)(function(){return e.win.document.querySelector("input#ASIN").value},null)};n.contentWindow.postMessage(f,"*")}catch(t){throw t}}},e}(s.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n(158),o=n(42),i=n(7),s=n(41),a=n(6),u=n(448),c=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e,n,r){var c=t.call(this,e)||this;return c.log=n,c.win=r,c.sponsoredAmazon=new i.d,c.frameHandler=new s.a(c.chromeEnv.runtime.id),c._topReady=null,c.displayAdsTracker=null,c.bannerToScrapers=new Map,c.highlightDebug=!1,c._newDisplayAd=function(t){var e=t.parentElement;c._fetchFrameMetadata().then(function(t){var n=c.bannerToScrapers.get(t.banner_type);if(n)try{n(e,t)}catch(t){c.win.document.body.classList.add("dbg-error")}else c.log.warn("Weird, received metadata of unknown selector...")})},c._handleHero=function(t,e){var n=c.win.document.body.innerHTML;c.log.captureBreadcrumb({message:"azAd",data:{source:n}});var r=Object(a.q)(function(){return c.win.document.querySelector("#headlineText").textContent},null),i=Object(a.q)(function(){return c.win.document.querySelector("#shopNowCta").textContent},null),s=Object(a.q)(function(){return c.win.document.querySelector("#brandName").textContent},null),l=Object(a.q)(function(){return c.win.document.querySelector("#asinImg").src},null),f=Object(a.q)(function(){return c.win.document.querySelector("#title").textContent},null),h=Object(a.q)(function(){return c.win.document.querySelector("#asinSprite").href},""),p=u.a.Sanitize(h),d=Object(a.q)(function(){return c.win.document.querySelector("#selector > option").value},null);if(!(d&&h&&e.az_product_ad_id))return c.highlightElement(c.win.document.body,"dbg-error"),void c.log.error("Could not parse Hero banner");var _={az_product_price:null,az_banner_title:r,az_banner_brand:s,az_banner_cta_text:i,az_product_image_url:l,az_product_title:f,az_product_full_ad_url:h,az_product_full_url:p,az_product_asin:d,az_banner_seen_on:e.az_banner_seen_on,az_creative_id:e.az_creative_id,az_product_ad_id:e.az_product_ad_id,banner_type:e.banner_type,az_ad_src:n},v={sponsored_type:o.a.Banner,az_region:c.region,az_product_keyword_search:e.az_product_keyword_search,az_product_department_search:e.az_product_department_search,az_banner:_};c.sponsoredAmazon.next(v),c.highlightElement(c.win.document.body,"dbg-ok")},c._handleAms=function(t,e){var n=t.innerHTML;c.log.captureBreadcrumb({message:"azAd",data:{source:n}});var r=Object(a.q)(function(){return t.querySelector("#ad > div")},null),i=r?r.getAttribute("data-creative-id"):null,s=r?r.getAttribute("data-ad-id"):null,l=Object(a.q)(function(){return t.querySelector("a.clickthroughLink.textLink.textLink--displayAsText")},null),f=l?l.href:null,h=f?u.a.Sanitize(f):null,p=l?l.textContent:null,d=Object(a.q)(function(){return t.querySelector(".clickthroughLink.asinImage.asinImage--extendContainerHeight > div > img").src},null),_=Object(a.q)(function(){return t.querySelector(".block.block--justify-center.block--direction-column > div > div > img").src},null),v=Object(a.q)(function(){return t.querySelector(".block.detailRight__productTitle > a > div > span").textContent},null),b=Object(a.q)(function(){return h.match(/dp\/(\w+)$/i)[1]},null);if(!(b&&f&&s))return c.highlightElement(c.win.document.body,"dbg-error"),void c.log.error("Could not parse AMS banner");var y={az_product_price:null,az_banner_title:p,az_product_image_url:d,az_product_brand_image_url:_,az_product_title:v,az_product_full_ad_url:f,az_product_full_url:h,az_product_asin:b,az_creative_id:i,az_product_ad_id:s,az_banner_seen_on:e.az_banner_seen_on,banner_type:e.banner_type,az_ad_src:n},m={sponsored_type:o.a.Banner,az_banner:y,az_product_department_search:e.az_product_department_search,az_product_keyword_search:e.az_product_keyword_search,az_region:c.region};c.sponsoredAmazon.next(m),c.highlightElement(c.win.document.body,"dbg-ok")},c.streamError=function(t){c.log.error(t),c.stopMonitoring(),c.startMonitoring()},c.bannerToScrapers.set("Hero",c._handleHero),c.bannerToScrapers.set("AMS",c._handleAms),c.region=document.location.host.endsWith(".com")?"US":"UK",c}return c(e,t),e.prototype.startMonitoring=function(){if(this.displayAdsTracker)throw new Error("Already started.");var t=Object(s.k)(this.win.document.body,".detailRight"),e=Object(i.l)(Object(s.k)(this.win.document.body,"#headlineText"),Object(s.k)(this.win.document.body,"#asinSprite"));this.displayAdsTracker=Object(i.l)(t,e).subscribe(this._newDisplayAd,this.streamError)},e.prototype.stopMonitoring=function(){this.displayAdsTracker&&(this.displayAdsTracker.unsubscribe(),this.displayAdsTracker=null)},e.prototype.setupDebug=function(){this.highlightDebug=!0;var t=document.createElement("style");t.innerHTML='\n        .dbg-ok::after {\n            position: absolute;\n            background: #008000;\n            opacity: 0.2;\n            z-index: 2;\n            width: 100%;\n            height: 100%;\n            text-align: center;\n            display: inline-block;\n            top: 0;\n            left: 0;\n            line-height: 235px;\n            content: "-";\n            pointer-events: none;\n        }\n        .dbg-error::after {\n            position: absolute;\n            background: #FF0000;\n            opacity: 0.2;\n            z-index: 2;\n            width: 100%;\n            height: 100%;\n            text-align: center;\n            display: inline-block;\n            top: 0;\n            left: 0;\n            line-height: 235px;\n            content: "-";\n            pointer-events: none;\n        }',this.win.document.head.appendChild(t)},Object.defineProperty(e.prototype,"topReady",{get:function(){var t=this;return null===this._topReady&&(this._topReady=new Promise(function(e,n){var r=function(n){n&&n.data===t.frameHandler.CreateMessageId("top-ready")&&(window.removeEventListener("message",r),e())};window.addEventListener("message",r),window.top.postMessage(t.frameHandler.CreateMessageId("frame-ready"),"*")})),this._topReady},enumerable:!0,configurable:!0}),e.prototype.highlightElement=function(t,e){this.highlightDebug&&t.classList.add(e)},e.prototype._fetchFrameMetadata=function(){var t=this;return new Promise(function(e){var n=function(t){if(t&&"object"==typeof t.data){window.removeEventListener("message",n);var r=t.data;e(r)}};window.addEventListener("message",n),window.top.postMessage(t.frameHandler.CreateMessageId("frame-details"),"*")})},e}(r.a)},function(t,e,n){"use strict";function r(t,e){return t.href.includes(e.clickTracking)}var o=n(30),i=n(6),s=n(41),a=n(97),u=n(7),c=n(19),l=n(158),f=n(449),h=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=this&&this.__assign||function(){return p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},p.apply(this,arguments)},d=this&&this.__awaiter||function(t,e,n,r){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?n(t.value):o(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())})},_=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},v=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),o=0,e=0;e<n;e++)for(var i=arguments[e],s=0,a=i.length;s<a;s++,o++)r[o]=i[s];return r},b=function(t){function e(e,n,r,o,i,a,c,l,f){void 0===f&&(f={});var h=t.call(this,e)||this;return h.chromeEnv=e,h.extensionVersion=n,h.log=r,h.locale=o,h.userId=i,h.reactStore=a,h.win=c,h.createPageTrafficListener=l,h.config=f,h.sponsoredStories=new u.d,h.interactions=new u.d,h.regularStories=new u.d,h.storiesHistoryDebug=new Map,h.reactStoriesMap=new Map,h.isDebug$=new u.a(!1),h.feedKind$=Object(s.i)(h.win.document),h}return h(e,t),e.prototype.startMonitoring=function(){var t=this;this.subscriptionToClear=this.feedKind$.pipe(Object(c.w)(function(e){t.sendMessageToBackground({type:"FacebookNewFeedUi",payload:e})}),Object(c.n)(function(e){return"old"===e?t.startOldUi():t.startNewUi()})).subscribe()},e.prototype.reactDataProvider=function(t){var e=this;return Promise.resolve().then(function(){return e.reactStoriesMap.has(t)?e.reactStoriesMap.get(t):Object(i.C)(5e3).then(function(){return e.reactStoriesMap.get(t)||null})})},e.prototype.newsFeed=function(t,e){var n=this,r=Object(a.j)(t,this.userId,e,this.win.document.body).pipe(Object(c.w)(function(t){null===t.fb_post_entity_id&&n.log.error("interaction without entity id",t),n.interactions.next(p(p({},t),{fb_user_id:n.userId}))},function(t){n.log.error("interactionsObserver",t)})),i=Object(s.k)(e,o.b,!0).pipe(Object(c.w)(function(e){return d(n,void 0,void 0,function(){var n,r,o=this;return _(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,Object(s.j)(e,t,function(t){return o.reactDataProvider(t)},this.userId,this.locale,this.log)];case 1:return n=i.sent(),this.storiesHistoryDebug.set(n.dataToSend.fb_post_entity_id,e),n.isSponsered?(this.reactStoriesMap.has(n.dataToSend.fb_post_entity_id)||this.log.error("react data is missing for:"+n.dataToSend.fb_post_entity_id),this.sponsoredStories.next(n.dataToSend)):this.regularStories.next(n.dataToSend),[3,3];case 2:return r=i.sent(),this.log.error("processStory",r),[3,3];case 3:return[2]}})})},function(t){n.log.error("selectorObserver",t)}));return Object(u.l)(r,i).pipe(Object(c.l)(null))},e.prototype.leftNewsFeed=function(){this.log.info("leftNewsFeed"),this.subscriptionToClear&&this.subscriptionToClear.unsubscribe(),this.reactStoriesMap.clear(),this.storiesHistoryDebug.clear()},e.prototype.highlightPostByEntId=function(t,e,n){var r=this.storiesHistoryDebug.get(t);r&&Object(s.h)(this.win.document,r,e,n)},e.prototype.setupDebug=function(){Object(s.b)(this.win.document,".tooltip {\n            position: absolute;\n            display: inline-block;\n            border-bottom: 1px dotted black;\n            text-align: left;\n            bottom: 45px;\n            left: 5px;\n            z-index: 10;\n            direction: ltr;\n        }\n\n        .tooltip .tooltiptext {\n            display: none;\n            background-color: black;\n            color: #fff;\n            text-align: left;\n            border-radius: 6px;\n            padding: 5px 0;\n            white-space: pre;\n\n            /* Position the tooltip */\n            position: absolute;\n            z-index: 1;\n            bottom: 0;\n        }\n\n        .tooltip:hover .tooltiptext {\n            display: block;\n        }\n        "),this.isDebug$.next(!0)},e.prototype.startOldUi=function(){var t,e=this,n=new o.m(this.log,this.extensionVersion);return Object(s.c)(this.win.document,160).subscribe(function(r){t=r?e.newsFeed(n,r).subscribe():Object(u.m)(e.leftNewsFeed()).subscribe()},function(t){e.log.error(t)}),Object(f.b)(this.reactStore).subscribe(function(t){e.reactStoriesMap.set(t.entId,t),e.log.info("react story",t)},function(t){e.log.error("reactDataStream",t)}),new u.c(function(){return function(){var e;null===(e=t)||void 0===e||e.unsubscribe()}})},e.prototype.startNewUi=function(){var t=this,e=new o.k(this.log,this.extensionVersion),n=this.createPageTrafficListener(),a=(n.pipe(Object(c.k)(function(t){var n=t.body;return e.tryParseEngagementInteractionResponse(n)||null}),Object(c.j)(i.s),Object(c.k)(function(t){return t.data.feedback_react.feedback})),Object(u.l)(Object(u.m)(this.getNewUiBootstrappedData(this.win.document.body)),n.pipe(Object(c.k)(function(t){var n=t.body,r=e.tryParseFeedPage(n);return r||null}),Object(c.j)(i.s))).pipe(Object(c.m)(),Object(c.k)(function(t){return Object(o.r)(t)?t.data.viewer.news_feed.edges:Object(o.q)(t)?[t.data]:null}),Object(c.j)(i.s),Object(c.m)())),l=a.pipe(Object(c.j)(o.s),Object(c.t)(function(n){return Object(u.m)(n).pipe(Object(c.k)(function(t){return{parsed:e.parseOrganicEdge(t),clickTracking:t.node.encrypted_click_tracking}}),Object(c.d)(function(e,n){return t.logError("Failed to parse organic edge",e),u.b}))})),f=a.pipe(Object(c.j)(o.t),Object(c.t)(function(n){return Object(u.m)(n).pipe(Object(c.k)(function(t){return{edge:t,parsed:e.parseSponsoredEdge(t),clickTracking:t.node.encrypted_click_tracking}}),Object(c.d)(function(e,n){return t.logError("Failed to parse sponsored edge",e),u.b}))})),h=Object(s.k)(this.win.document.body,'a[aria-hidden="true"][href*="__cft__[0]"]').pipe(Object(c.j)(function(t){return t instanceof HTMLAnchorElement}),Object(c.k)(function(t){return{href:t.href,postElement:t.closest('[role=article]:not([aria-label="Comment"])').parentElement}})),d=this.isDebug$.pipe(Object(c.j)(Boolean),Object(c.u)(Object(u.l)(h,f.pipe(Object(c.k)(function(t){return p(p({},t),{type:"sponsored"})})),l.pipe(Object(c.k)(function(t){return p(p({},t),{type:"organic"})})))),Object(c.q)(function(t,e){var n=t.matches$,o=t.pendingMatchParsedPosts,s=t.pendingMatchPostElements;if("href"in e){var a=o.find(function(t){return r(e,t)});a?(o.splice(o.indexOf(a),1),n.next(p(p({},Object(i.w)(a,"clickTracking")),Object(i.w)(e,"href")))):s.push(e)}else if("clickTracking"in e){var a=s.find(function(t){return r(t,e)});a?(s.splice(s.indexOf(a),1),n.next(p(p({},Object(i.w)(a,"href")),Object(i.w)(e,"clickTracking")))):o.push(e)}return t},{pendingMatchPostElements:[],pendingMatchParsedPosts:[],matches$:new u.d}),Object(c.n)(function(t){return t.matches$}),Object(c.j)(function(t){return!t.postElement.querySelector(".tooltip")}),Object(c.w)(function(e){var n="sponsored"===e.type?e.parsed:"organic"===e.type?e.parsed:Object(i.f)(e);Object(s.h)(t.win.document,e.postElement,"sponsored"===e.type,JSON.stringify(n,null,2))}));return Object(u.l)(f.pipe(Object(c.k)(function(n){var r=n.parsed,o=n.edge;return p(p(p({},r),{fb_post_width:null,fb_post_height:null,fb_user_id:t.userId}),t.config.sendRawData&&{fb_post_anonymized_edge:Object(i.q)(function(){return e.anonymizeEdge(o)},null)})}),Object(c.w)(this.sponsoredStories)),l.pipe(Object(c.k)(function(e){var n=e.parsed;return p(p({},n),{fb_user_id:t.userId})}),Object(c.w)(this.regularStories)),d).pipe(Object(c.l)(null))},e.prototype.getNewUiBootstrappedData=function(t){var e=this;return Array.from(t.querySelectorAll("script:not([src])")).map(function(t){return t.innerHTML}).filter(function(t){return t.includes('requireLazy(["Bootloader"]')&&t.includes('"node"')}).map(function(t){var n='{"__bbox":{.*?"result":{',r=t.search(n);try{var o=Object(i.n)(t,r),s=t.slice(r,o)+"}";return JSON.parse(s).__bbox}catch(t){return e.logError("Failed to parse bootstrap data. raw string:",n),null}}).filter(i.s).map(function(t){return t.result})},e.prototype.logError=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(e=this.log).error.apply(e,v(["[Facebook New UI] "+t],n))},e}(l.a);e.a=b},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(27),c=u.EventEmitter,l=n(47),f=l.Map,h=l.Set,p=l.List,d=n(31),_=n(45),v=n(2),b=n(44),y=n(34),m="Search (text or /regex/)",g=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n._nodes=new f,n._parents=new f,n._nodesByName=new f,n._bridge=t,n.roots=new p,n.contextMenu=null,n.searchRoots=null,n.hovered=null,n.selected=null,n.selectedTab="Elements",n.breadcrumbHead=null,n.isBottomTagHovered=!1,n.isBottomTagSelected=!1,n.searchText="",n.capabilities={},n.traceupdatesState=null,n.colorizerState=null,n.placeholderText=m,n.refreshSearch=!1,window.store=n,n._bridge.on("root",function(t){n.roots.contains(t)||(n.roots=n.roots.push(t),n.selected||(n.selected=n.skipWrapper(t),n.breadcrumbHead=n.selected,n.emit("selected"),n.emit("breadcrumbHead"),n._bridge.send("selected",n.selected)),n.emit("roots"))}),n._bridge.on("mount",function(t){return n._mountComponent(t)}),n._bridge.on("update",function(t){return n._updateComponent(t)}),n._bridge.on("unmount",function(t){return n._unmountComponent(t)}),n._bridge.on("select",function(t){var e=t.id,r=t.quiet;n._revealDeep(e),n.selectTop(n.skipWrapper(e),r),n.setSelectedTab("Elements")}),n._establishConnection(),n._eventQueue=[],n._eventTimer=null,n}return i(e,t),a(e,[{key:"emit",value:function(t){var e=this;return-1!==this._eventQueue.indexOf(t)||(this._eventQueue.push(t),this._eventTimer||(this._eventTimer=setTimeout(function(){return e.flush()},50)),!0)}},{key:"flush",value:function(){var t=this;this._eventTimer&&(clearTimeout(this._eventTimer),this._eventTimer=null),this._eventQueue.forEach(function(e){c.prototype.emit.call(t,e)}),this._eventQueue=[]}},{key:"scrollToNode",value:function(t){this._bridge.send("scrollToNode",t)}},{key:"setSelectedTab",value:function(t){this.selectedTab!==t&&(this.selectedTab=t,this.emit("selectedTab"))}},{key:"changeTextContent",value:function(t,e){this._bridge.send("changeTextContent",{id:t,text:e});var n=this._nodes.get(t);if("Text"===n.get("nodeType"))this._nodes=this._nodes.set(t,n.set("text",e));else{this._nodes=this._nodes.set(t,n.set("children",e));n.get("props").children=e}this.emit(t)}},{key:"changeSearch",value:function(t){var e=this,n=t.toLowerCase();(n!==this.searchText.toLowerCase()||this.refreshSearch)&&(t&&0!==y.trimSearchText(t).length?(this.searchRoots&&0===n.indexOf(this.searchText.toLowerCase())&&!y.shouldSearchUseRegex(t)?this.searchRoots=this.searchRoots.filter(function(t){var r=e.get(t);return r.get("name")&&-1!==r.get("name").toLowerCase().indexOf(n)||r.get("text")&&-1!==r.get("text").toLowerCase().indexOf(n)||"string"==typeof r.get("children")&&-1!==r.get("children").toLowerCase().indexOf(n)}):this.searchRoots=this._nodes.entrySeq().filter(function(t){var r=s(t,2),o=r[0],i=r[1];return _(i,n,o,e)}).map(function(t){var e=s(t,2),n=e[0];return e[1],n}).toList(),this.searchRoots.forEach(function(t){e.hasBottom(t)&&(e._nodes=e._nodes.setIn([t,"collapsed"],!0))})):this.searchRoots=null,this.searchText=t,this.emit("searchText"),this.emit("searchRoots"),this.searchRoots&&!this.searchRoots.contains(this.selected)?this.select(null,!0):this.searchRoots||(this.selected?this._revealDeep(this.selected):this.select(this.roots.get(0))),this.highlightSearch(),this.refreshSearch=!1,this.flush())}},{key:"highlight",value:function(t){this.colorizerState&&this.colorizerState.enabled||this._bridge.send("highlight",t)}},{key:"highlightMany",value:function(t){this._bridge.send("highlightMany",t)}},{key:"highlightSearch",value:function(){this.colorizerState&&this.colorizerState.enabled&&(this._bridge.send("hideHighlight"),this.searchRoots&&this.highlightMany(this.searchRoots.toArray()))}},{key:"hoverClass",value:function(t){if(null===t)return void this.hideHighlight();var e=this._nodesByName.get(t);e&&this.highlightMany(e.toArray())}},{key:"selectFirstOfClass",value:function(t){var e=this._nodesByName.get(t);if(e&&e.size){var n=e.toSeq().first();this._revealDeep(n),this.selectTop(n)}}},{key:"showContextMenu",value:function(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];e.preventDefault(),this.contextMenu={type:t,x:e.pageX,y:e.pageY,args:r},this.emit("contextMenu")}},{key:"hideContextMenu",value:function(){this.contextMenu=null,this.emit("contextMenu")}},{key:"selectFirstSearchResult",value:function(){this.searchRoots&&this.select(this.searchRoots.get(0),!0)}},{key:"hasBottom",value:function(t){var e=this.get(t),n=e.get("children");return"NativeWrapper"===e.get("nodeType")&&(n=this.get(n[0]).get("children")),!("string"==typeof n||!n||!n.length||e.get("collapsed"))}},{key:"toggleCollapse",value:function(t){this._nodes=this._nodes.updateIn([t,"collapsed"],function(t){return!t}),this.emit(t)}},{key:"toggleAllChildrenNodes",value:function(t){var e=this.selected;e&&this._toggleDeepChildren(e,t)}},{key:"setProps",value:function(t,e,n){this._bridge.send("setProps",{id:t,path:e,value:n})}},{key:"setState",value:function(t,e,n){this._bridge.send("setState",{id:t,path:e,value:n})}},{key:"setContext",value:function(t,e,n){this._bridge.send("setContext",{id:t,path:e,value:n})}},{key:"makeGlobal",value:function(t,e){this._bridge.send("makeGlobal",{id:t,path:e})}},{key:"setHover",value:function(t,e,n){if(e){var r=this.hovered;this.hovered=t,this.isBottomTagHovered=n,r&&this.emit(r),this.emit(t),this.emit("hover"),this.highlight(t)}else this.hovered===t&&(this.hideHighlight(),this.isBottomTagHovered=!1)}},{key:"hideHighlight",value:function(){if((!this.colorizerState||!this.colorizerState.enabled)&&(this._bridge.send("hideHighlight"),this.hovered)){var t=this.hovered;this.hovered=null,this.emit(t),this.emit("hover")}}},{key:"selectBreadcrumb",value:function(t){this._revealDeep(t),this.changeSearch(""),this.isBottomTagSelected=!1,this.select(t,!1,!0)}},{key:"selectTop",value:function(t,e){this.isBottomTagSelected=!1,this.select(t,e)}},{key:"selectBottom",value:function(t){this.isBottomTagSelected=!0,this.select(t)}},{key:"select",value:function(t,e,n){var r=this.selected;this.selected=t,r&&this.emit(r),t&&this.emit(t),n||(this.breadcrumbHead=t,this.emit("breadcrumbHead")),this.emit("selected"),this._bridge.send("selected",t),!e&&t&&this.highlight(t)}},{key:"get",value:function(t){return this._nodes.get(t)}},{key:"getParent",value:function(t){return this._parents.get(t)}},{key:"skipWrapper",value:function(t,e){if(t){var n=this.get(t),r=n.get("nodeType");return"Wrapper"!==r&&"Native"!==r?t:"Native"!==r||e&&"NativeWrapper"===this.get(this._parents.get(t)).get("nodeType")?e?this._parents.get(t):n.get("children")[0]:t}}},{key:"off",value:function(t,e){this.removeListener(t,e)}},{key:"inspect",value:function(t,e,n){var r=this;b("props"===e[0]||"state"===e[0]||"context"===e[0],"Inspected path must be one of props, state, or context"),this._bridge.inspect(t,e,function(o){var i=r.get(t).get(e[0]),s=e.slice(1).reduce(function(t,e){return t?t[e]:null},i);s&&(d(s,o),s[v.inspected]=!0),n()})}},{key:"changeTraceUpdates",value:function(t){this.traceupdatesState=t,this.emit("traceupdatesstatechange"),b(t.toJS),this._bridge.send("traceupdatesstatechange",t.toJS())}},{key:"changeColorizer",value:function(t){this.colorizerState=t,this.emit("placeholderchange"),this.emit("colorizerchange"),this._bridge.send("colorizerchange",t.toJS()),this.colorizerState&&this.colorizerState.enabled?this.highlightSearch():this.hideHighlight()}},{key:"_establishConnection",value:function(){var t,e=this,n=0;this._bridge.once("capabilities",function(n){clearInterval(t),e.capabilities=d(e.capabilities,n),e.emit("connected")}),this._bridge.send("requestCapabilities"),t=setInterval(function(){return n+=1,n>100?(console.error("failed to connect"),clearInterval(t),void e.emit("connection failed")):void e._bridge.send("requestCapabilities")},500)}},{key:"_revealDeep",value:function(t){if(!this.searchRoots||!this.searchRoots.contains(t))for(var e=this._parents.get(t);e;){if(this._nodes.getIn([e,"collapsed"])&&(this._nodes=this._nodes.setIn([e,"collapsed"],!1),this.emit(e)),this.searchRoots&&this.searchRoots.contains(e))return;e=this._parents.get(e)}}},{key:"_toggleDeepChildren",value:function(t,e){var n=this,r=this._nodes.get(t);if(r){r.get("collapsed")!==e&&(this._nodes=this._nodes.setIn([t,"collapsed"],e),this.emit(t));var o=r.get("children");o&&o.forEach&&o.forEach(function(t){return n._toggleDeepChildren(t,e)})}}},{key:"_mountComponent",value:function(t){var e=this,n=f(t).set("renders",1);"Composite"===t.nodeType&&(n=n.set("collapsed",!0)),this._nodes=this._nodes.set(t.id,n),t.children&&t.children.forEach&&t.children.forEach(function(n){e._parents=e._parents.set(n,t.id)});var r=this._nodesByName.get(t.name)||new h;this._nodesByName=this._nodesByName.set(t.name,r.add(t.id)),t.name&&t.name&&this.emit(t.name),this.emit(t.id)}},{key:"_updateComponent",value:function(t){var e=this,n=this.get(t.id);n&&(t.renders=n.get("renders")+1,this._nodes=this._nodes.mergeIn([t.id],f(t)),t.children&&t.children.forEach&&t.children.forEach(function(n){if(!e._parents.get(n)){e._parents=e._parents.set(n,t.id);var r=e._nodes.get(n),o=r.get("id");e.searchRoots&&_(r,e.searchText.toLowerCase(),o,e)&&(e.searchRoots=e.searchRoots.push(o),e.emit("searchRoots"),e.highlightSearch())}}),this.emit(t.id))}},{key:"_unmountComponent",value:function(t){var e=this._parents.get(t);if(this._removeFromNodesByName(t),this._parents=this._parents.delete(t),this._nodes=this._nodes.delete(t),e)this.emit(e);else{var n=this.roots.indexOf(t);-1!==n&&(this.roots=this.roots.delete(n),this.emit("roots"))}if(t===this.selected){var r=e?this.skipWrapper(e,!0):this.roots.get(0);this.selectTop(r,!0)}this.searchRoots&&this.searchRoots.contains(t)&&(this.searchRoots=this.searchRoots.delete(this.searchRoots.indexOf(t)),this.emit("searchRoots"),this.highlightSearch())}},{key:"_removeFromNodesByName",value:function(t){var e=this._nodes.get(t);e&&(this._nodesByName=this._nodesByName.set(e.get("name"),this._nodesByName.get(e.get("name")).delete(t)))}}]),e}(c);t.exports=g},function(t,e,n){"use strict";var r=n(3)();t.exports=function(t){return t!==r&&null!==t}},function(t,e,n){"use strict";var r=n(16);t.exports={name:r("name"),type:r("type"),inspected:r("inspected"),meta:r("meta"),proto:r("proto")}},function(t,e){"use strict";t.exports=function(){}},function(t,e,n){"use strict";t.exports=n(5)()?Object.assign:n(6)},function(t,e){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(t={foo:"raz"},e(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,n){"use strict";var r=n(8),o=n(12),i=Math.max;t.exports=function(t,e){var n,s,a,u=i(arguments.length,2);for(t=Object(o(t)),a=function(r){try{t[r]=e[r]}catch(t){n||(n=t)}},s=1;s<u;++s)e=arguments[s],r(e).forEach(a);if(void 0!==n)throw n;return t}},function(t,e){"use strict";t.exports=function(t){return"function"==typeof t}},function(t,e,n){"use strict";t.exports=n(9)()?Object.keys:n(10)},function(t,e){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,e,n){"use strict";var r=n(1),o=Object.keys;t.exports=function(t){return o(r(t)?Object(t):t)}},function(t,e,n){"use strict";var r=n(1),o=Array.prototype.forEach,i=Object.create,s=function(t,e){var n;for(n in t)e[n]=t[n]};t.exports=function(t){var e=i(null);return o.call(arguments,function(t){r(t)&&s(Object(t),e)}),e}},function(t,e,n){"use strict";var r=n(1);t.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}},function(t,e,n){"use strict";t.exports=n(14)()?String.prototype.contains:n(15)},function(t,e){"use strict";var n="razdwatrzy";t.exports=function(){return"function"==typeof n.contains&&!0===n.contains("dwa")&&!1===n.contains("foo")}},function(t,e){"use strict";var n=String.prototype.indexOf;t.exports=function(t){return n.call(this,t,arguments[1])>-1}},function(t,e,n){"use strict";t.exports=n(17)()?Symbol:n(20)},function(t,e){"use strict";t.exports=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return"symbol"==typeof Symbol.iterator||"object"==typeof Symbol.isConcatSpreadable&&"object"==typeof Symbol.iterator&&"object"==typeof Symbol.toPrimitive&&"object"==typeof Symbol.toStringTag&&"object"==typeof Symbol.unscopables}},function(t,e){"use strict";t.exports=function(t){return t&&("symbol"==typeof t||"Symbol"===t["@@toStringTag"])||!1}},function(t,e,n){"use strict";var r,o=n(4),i=n(11),s=n(7),a=n(13);r=t.exports=function(t,e){var n,r,s,u,c;return arguments.length<2||"string"!=typeof t?(u=e,e=t,t=null):u=arguments[2],null==t?(n=s=!0,r=!1):(n=a.call(t,"c"),r=a.call(t,"e"),s=a.call(t,"w")),c={value:e,configurable:n,enumerable:r,writable:s},u?o(i(u),c):c},r.gs=function(t,e,n){var r,u,c,l;return"string"!=typeof t?(c=n,n=e,e=t,t=null):c=arguments[3],null==e?e=void 0:s(e)?null==n?n=void 0:s(n)||(c=n,n=void 0):(c=e,e=n=void 0),null==t?(r=!0,u=!1):(r=a.call(t,"c"),u=a.call(t,"e")),l={get:e,set:n,configurable:r,enumerable:u},c?o(i(c),l):l}},function(t,e,n){"use strict";var r,o,i,s=n(19),a=n(21),u=Object.create,c=Object.defineProperties,l=Object.defineProperty,f=Object.prototype,h=u(null);"function"==typeof Symbol&&(r=Symbol);var p=function(){var t=u(null);return function(e){for(var n,r,o=0;t[e+(o||"")];)++o;return e+=o||"",t[e]=!0,n="@@"+e,l(f,n,s.gs(null,function(t){r||(r=!0,l(this,n,s(t)),r=!1)})),n}}();i=function(t){if(this instanceof i)throw new TypeError("TypeError: Symbol is not a constructor");return o(t)},t.exports=o=function t(e){var n;if(this instanceof t)throw new TypeError("TypeError: Symbol is not a constructor");return n=u(i.prototype),e=void 0===e?"":String(e),c(n,{__description__:s("",e),__name__:s("",p(e))})},c(o,{for:s(function(t){return h[t]?h[t]:h[t]=o(String(t))}),keyFor:s(function(t){var e;a(t);for(e in h)if(h[e]===t)return e}),hasInstance:s("",r&&r.hasInstance||o("hasInstance")),isConcatSpreadable:s("",r&&r.isConcatSpreadable||o("isConcatSpreadable")),iterator:s("",r&&r.iterator||o("iterator")),match:s("",r&&r.match||o("match")),replace:s("",r&&r.replace||o("replace")),search:s("",r&&r.search||o("search")),species:s("",r&&r.species||o("species")),split:s("",r&&r.split||o("split")),toPrimitive:s("",r&&r.toPrimitive||o("toPrimitive")),toStringTag:s("",r&&r.toStringTag||o("toStringTag")),unscopables:s("",r&&r.unscopables||o("unscopables"))}),c(i.prototype,{constructor:s(o),toString:s("",function(){return this.__name__})}),c(o.prototype,{toString:s(function(){return"Symbol ("+a(this).__description__+")"}),valueOf:s(function(){return a(this)})}),l(o.prototype,o.toPrimitive,s("",function(){return a(this)})),l(o.prototype,o.toStringTag,s("c","Symbol")),l(i.prototype,o.toStringTag,s("c",o.prototype[o.toStringTag])),l(i.prototype,o.toPrimitive,s("c",o.prototype[o.toPrimitive]))},function(t,e,n){"use strict";var r=n(18);t.exports=function(t){if(!r(t))throw new TypeError(t+" is not a symbol");return t}},,,,,,function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function o(t){return"number"==typeof t}function i(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!o(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,o,a,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(n=this._events[t],s(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),n.apply(this,a)}else if(i(n))for(a=Array.prototype.slice.call(arguments,1),c=n.slice(),o=c.length,u=0;u<o;u++)c[u].apply(this,a);return!0},n.prototype.addListener=function(t,e){var o;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(o=s(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),o||(o=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var o=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,o,s,a;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],s=n.length,o=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(a=s;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){o=a;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},,,,function(t,e){"use strict";function n(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;t.exports=Object.assign||function(t,e){for(var i,s,a=n(t),u=1;u<arguments.length;u++){i=Object(arguments[u]);for(var c in i)r.call(i,c)&&(a[c]=i[c]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(i);for(var l=0;l<s.length;l++)o.call(i,s[l])&&(a[s[l]]=i[s[l]])}}return a}},,,function(t,e){"use strict";function n(t){var e=!0;if(t)try{r(t)}catch(t){e=!1}return e}function r(t){return new RegExp(i(t),"gi")}function o(t){return!!t&&"/"===t.charAt(0)&&i(t).length>0}function i(t){return"/"===t.charAt(0)&&(t=t.substr(1)),"/"===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),t}t.exports={isValidRegex:n,searchTextToRegExp:r,shouldSearchUseRegex:o,trimSearchText:i}},,,,,,,,,,function(t,e,n){(function(e){"use strict";var n="development"===e.env.NODE_ENV,r=function(t,e,r,o,i,s,a,u){if(n&&void 0===e)throw new Error("invariant requires an error message argument");if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,o,i,s,a,u],f=0;c=new Error("Invariant Violation: "+e.replace(/%s/g,function(){return l[f++]}))}throw c.framesToPop=1,c}};t.exports=r}).call(e,n(48))},function(t,e,n){"use strict";function r(t,e,n,r){var s=t.get("name"),a=r.get(r.getParent(n));if("Native"===t.get("nodeType")&&a&&"NativeWrapper"===a.get("nodeType"))return!1;var u=i.shouldSearchUseRegex(e);if(s&&"Wrapper"!==t.get("nodeType"))return o(s,e,u);var c=t.get("text");if(c)return o(c,e,u);var l=t.get("children");return"string"==typeof l&&o(l,e,u)}function o(t,e,n){if(n)try{return i.searchTextToRegExp(e).test(t.toLowerCase())}catch(t){return!1}return-1!==t.toLowerCase().indexOf(e)}var i=n(34);t.exports=r},,function(t,e,n){!function(e,n){t.exports=function(){"use strict";function t(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function e(t){return i(t)?t:T(t)}function n(t){return s(t)?t:C(t)}function r(t){return a(t)?t:A(t)}function o(t){return i(t)&&!u(t)?t:P(t)}function i(t){return!(!t||!t[cn])}function s(t){return!(!t||!t[ln])}function a(t){return!(!t||!t[fn])}function u(t){return s(t)||a(t)}function c(t){return!(!t||!t[hn])}function l(t){return t.value=!1,t}function f(t){t&&(t.value=!0)}function h(){}function p(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),o=0;o<n;o++)r[o]=t[o+e];return r}function d(t){return void 0===t.size&&(t.size=t.__iterate(v)),t.size}function _(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?d(t)+e:e}function v(){return!0}function b(t,e,n){return(0===t||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function y(t,e){return g(t,e,0)}function m(t,e){return g(t,e,e)}function g(t,e,n){return void 0===t?n:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}function w(t){this.next=t}function S(t,e,n,r){var o=0===t?e:1===t?n:[e,n];return r?r.value=o:r={value:o,done:!1},r}function x(){return{value:void 0,done:!0}}function O(t){return!!j(t)}function k(t){return t&&"function"==typeof t.next}function E(t){var e=j(t);return e&&e.call(t)}function j(t){var e=t&&(xn&&t[xn]||t[On]);if("function"==typeof e)return e}function I(t){return t&&"number"==typeof t.length}function T(t){return null===t||void 0===t?D():i(t)?t.toSeq():H(t)}function C(t){return null===t||void 0===t?D().toKeyedSeq():i(t)?s(t)?t.toSeq():t.fromEntrySeq():F(t)}function A(t){return null===t||void 0===t?D():i(t)?s(t)?t.entrySeq():t.toIndexedSeq():z(t)}function P(t){return(null===t||void 0===t?D():i(t)?s(t)?t.entrySeq():t:z(t)).toSetSeq()}function L(t){this._array=t,this.size=t.length}function M(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function q(t){this._iterable=t,this.size=t.length||t.size}function R(t){this._iterator=t,this._iteratorCache=[]}function N(t){return!(!t||!t[En])}function D(){return jn||(jn=new L([]))}function F(t){var e=Array.isArray(t)?new L(t).fromEntrySeq():k(t)?new R(t).fromEntrySeq():O(t)?new q(t).fromEntrySeq():"object"==typeof t?new M(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function z(t){var e=U(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function H(t){var e=U(t)||"object"==typeof t&&new M(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function U(t){return I(t)?new L(t):k(t)?new R(t):O(t)?new q(t):void 0}function B(t,e,n,r){var o=t._cache;if(o){for(var i=o.length-1,s=0;s<=i;s++){var a=o[n?i-s:s];if(!1===e(a[1],r?a[0]:s,t))return s+1}return s}return t.__iterateUncached(e,n)}function V(t,e,n,r){var o=t._cache;if(o){var i=o.length-1,s=0;return new w(function(){var t=o[n?i-s:s];return s++>i?x():S(e,r?t[0]:s-1,t[1])})}return t.__iteratorUncached(e,n)}function W(t,e){return e?G(e,t,"",{"":t}):K(t)}function G(t,e,n,r){return Array.isArray(e)?t.call(r,n,A(e).map(function(n,r){return G(t,n,r,e)})):J(e)?t.call(r,n,C(e).map(function(n,r){return G(t,n,r,e)})):e}function K(t){return Array.isArray(t)?A(t).map(K).toList():J(t)?C(t).map(K).toMap():t}function J(t){return t&&(t.constructor===Object||void 0===t.constructor)}function $(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function Y(t,e){if(t===e)return!0;if(!i(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||s(t)!==s(e)||a(t)!==a(e)||c(t)!==c(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!u(t);if(c(t)){var r=t.entries();return e.every(function(t,e){var o=r.next().value;return o&&$(o[1],t)&&(n||$(o[0],e))})&&r.next().done}var o=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{o=!0;var l=t;t=e,e=l}var f=!0,h=e.__iterate(function(e,r){if(n?!t.has(e):o?!$(e,t.get(r,bn)):!$(t.get(r,bn),e))return f=!1,!1});return f&&t.size===h}function X(t,e){if(!(this instanceof X))return new X(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(In)return In;In=this}}function Q(t,e){if(!t)throw new Error(e)}function Z(t,e,n){if(!(this instanceof Z))return new Z(t,e,n);if(Q(0!==n,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),n=void 0===n?1:Math.abs(n),e<t&&(n=-n),this._start=t,this._end=e,this._step=n,this.size=Math.max(0,Math.ceil((e-t)/n-1)+1),0===this.size){if(Tn)return Tn;Tn=this}}function tt(){throw TypeError("Abstract")}function et(){}function nt(){}function rt(){}function ot(t){return t>>>1&1073741824|3221225471&t}function it(t){if(!1===t||null===t||void 0===t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null===t||void 0===t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){var n=0|t;for(n!==t&&(n^=4294967295*t);t>4294967295;)t/=4294967295,n^=t;return ot(n)}if("string"===e)return t.length>Nn?st(t):at(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return ut(t);if("function"==typeof t.toString)return at(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function st(t){var e=zn[t];return void 0===e&&(e=at(t),Fn===Dn&&(Fn=0,zn={}),Fn++,zn[t]=e),e}function at(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return ot(e)}function ut(t){var e;if(Mn&&void 0!==(e=Cn.get(t)))return e;if(void 0!==(e=t[Rn]))return e;if(!Ln){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Rn]))return e;if(void 0!==(e=ct(t)))return e}if(e=++qn,1073741824&qn&&(qn=0),Mn)Cn.set(t,e);else{if(void 0!==Pn&&!1===Pn(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Ln)Object.defineProperty(t,Rn,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Rn]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Rn]=e}}return e}function ct(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function lt(t){Q(t!==1/0,"Cannot perform this action with an infinite size.")}function ft(t){return null===t||void 0===t?St():ht(t)&&!c(t)?t:St().withMutations(function(e){var r=n(t);lt(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function ht(t){return!(!t||!t[Hn])}function pt(t,e){this.ownerID=t,this.entries=e}function dt(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n}function _t(t,e,n){this.ownerID=t,this.count=e,this.nodes=n}function vt(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n}function bt(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n}function yt(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&gt(t._root)}function mt(t,e){return S(t,e[0],e[1])}function gt(t,e){return{node:t,index:0,__prev:e}}function wt(t,e,n,r){var o=Object.create(Un);return o.size=t,o._root=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function St(){return Bn||(Bn=wt(0))}function xt(t,e,n){var r,o;if(t._root){var i=l(yn),s=l(mn);if(r=Ot(t._root,t.__ownerID,0,void 0,e,n,i,s),!s.value)return t;o=t.size+(i.value?n===bn?-1:1:0)}else{if(n===bn)return t;o=1,r=new pt(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=o,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?wt(o,r):St()}function Ot(t,e,n,r,o,i,s,a){return t?t.update(e,n,r,o,i,s,a):i===bn?t:(f(a),f(s),new bt(e,r,[o,i]))}function kt(t){return t.constructor===bt||t.constructor===vt}function Et(t,e,n,r,o){if(t.keyHash===r)return new vt(e,r,[t.entry,o]);var i,s=(0===n?t.keyHash:t.keyHash>>>n)&vn,a=(0===n?r:r>>>n)&vn;return new dt(e,1<<s|1<<a,s===a?[Et(t,e,n+dn,r,o)]:(i=new bt(e,r,o),s<a?[t,i]:[i,t]))}function jt(t,e,n,r){t||(t=new h);for(var o=new bt(t,it(n),[n,r]),i=0;i<e.length;i++){var s=e[i];o=o.update(t,0,void 0,s[0],s[1])}return o}function It(t,e,n,r){for(var o=0,i=0,s=new Array(n),a=0,u=1,c=e.length;a<c;a++,u<<=1){var l=e[a];void 0!==l&&a!==r&&(o|=u,s[i++]=l)}return new dt(t,o,s)}function Tt(t,e,n,r,o){for(var i=0,s=new Array(_n),a=0;0!==n;a++,n>>>=1)s[a]=1&n?e[i++]:void 0;return s[r]=o,new _t(t,i+1,s)}function Ct(t,e,r){for(var o=[],s=0;s<r.length;s++){var a=r[s],u=n(a);i(a)||(u=u.map(function(t){return W(t)})),o.push(u)}return Lt(t,e,o)}function At(t,e,n){return t&&t.mergeDeep&&i(e)?t.mergeDeep(e):$(t,e)?t:e}function Pt(t){return function(e,n,r){if(e&&e.mergeDeepWith&&i(n))return e.mergeDeepWith(t,n);var o=t(e,n,r);return $(e,o)?e:o}}function Lt(t,e,n){return n=n.filter(function(t){return 0!==t.size}),0===n.length?t:0!==t.size||t.__ownerID||1!==n.length?t.withMutations(function(t){for(var r=e?function(n,r){t.update(r,bn,function(t){return t===bn?n:e(t,n,r)})}:function(e,n){t.set(n,e)},o=0;o<n.length;o++)n[o].forEach(r)}):t.constructor(n[0])}function Mt(t,e,n,r){var o=t===bn,i=e.next();if(i.done){var s=o?n:t,a=r(s);return a===s?t:a}Q(o||t&&t.set,"invalid keyPath");var u=i.value,c=o?bn:t.get(u,bn),l=Mt(c,e,n,r);return l===c?t:l===bn?t.remove(u):(o?St():t).set(u,l)}function qt(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function Rt(t,e,n,r){var o=r?t:p(t);return o[e]=n,o}function Nt(t,e,n,r){var o=t.length+1;if(r&&e+1===o)return t[e]=n,t;for(var i=new Array(o),s=0,a=0;a<o;a++)a===e?(i[a]=n,s=-1):i[a]=t[a+s];return i}function Dt(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var o=new Array(r),i=0,s=0;s<r;s++)s===e&&(i=1),o[s]=t[s+i];return o}function Ft(t){var e=Vt();if(null===t||void 0===t)return e;if(zt(t))return t;var n=r(t),o=n.size;return 0===o?e:(lt(o),o>0&&o<_n?Bt(0,o,dn,null,new Ht(n.toArray())):e.withMutations(function(t){t.setSize(o),n.forEach(function(e,n){return t.set(n,e)})}))}function zt(t){return!(!t||!t[Kn])}function Ht(t,e){this.array=t,this.ownerID=e}function Ut(t,e){function n(t,e,n){return 0===e?r(t,n):o(t,e,n)}function r(t,n){var r=n===a?u&&u.array:t&&t.array,o=n>i?0:i-n,c=s-n;return c>_n&&(c=_n),function(){if(o===c)return Yn;var t=e?--c:o++;return r&&r[t]}}function o(t,r,o){var a,u=t&&t.array,c=o>i?0:i-o>>r,l=1+(s-o>>r);return l>_n&&(l=_n),function(){for(;;){if(a){var t=a();if(t!==Yn)return t;a=null}if(c===l)return Yn;var i=e?--l:c++;a=n(u&&u[i],r-dn,o+(i<<r))}}}var i=t._origin,s=t._capacity,a=Xt(s),u=t._tail;return n(t._root,t._level,0)}function Bt(t,e,n,r,o,i,s){var a=Object.create(Jn);return a.size=e-t,a._origin=t,a._capacity=e,a._level=n,a._root=r,a._tail=o,a.__ownerID=i,a.__hash=s,a.__altered=!1,a}function Vt(){return $n||($n=Bt(0,0,dn))}function Wt(t,e,n){if((e=_(t,e))!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?$t(t,e).set(0,n):$t(t,0,e+1).set(e,n)});e+=t._origin;var r=t._tail,o=t._root,i=l(mn);return e>=Xt(t._capacity)?r=Gt(r,t.__ownerID,0,e,n,i):o=Gt(o,t.__ownerID,t._level,e,n,i),i.value?t.__ownerID?(t._root=o,t._tail=r,t.__hash=void 0,t.__altered=!0,t):Bt(t._origin,t._capacity,t._level,o,r):t}function Gt(t,e,n,r,o,i){var s=r>>>n&vn,a=t&&s<t.array.length;if(!a&&void 0===o)return t;var u;if(n>0){var c=t&&t.array[s],l=Gt(c,e,n-dn,r,o,i);return l===c?t:(u=Kt(t,e),u.array[s]=l,u)}return a&&t.array[s]===o?t:(f(i),u=Kt(t,e),void 0===o&&s===u.array.length-1?u.array.pop():u.array[s]=o,u)}function Kt(t,e){return e&&t&&e===t.ownerID?t:new Ht(t?t.array.slice():[],e)}function Jt(t,e){if(e>=Xt(t._capacity))return t._tail;if(e<1<<t._level+dn){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&vn],r-=dn;return n}}function $t(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new h,o=t._origin,i=t._capacity,s=o+e,a=void 0===n?i:n<0?i+n:o+n;if(s===o&&a===i)return t;if(s>=a)return t.clear();for(var u=t._level,c=t._root,l=0;s+l<0;)c=new Ht(c&&c.array.length?[void 0,c]:[],r),u+=dn,l+=1<<u;l&&(s+=l,o+=l,a+=l,i+=l);for(var f=Xt(i),p=Xt(a);p>=1<<u+dn;)c=new Ht(c&&c.array.length?[c]:[],r),u+=dn;var d=t._tail,_=p<f?Jt(t,a-1):p>f?new Ht([],r):d;if(d&&p>f&&s<i&&d.array.length){c=Kt(c,r);for(var v=c,b=u;b>dn;b-=dn){var y=f>>>b&vn;v=v.array[y]=Kt(v.array[y],r)}v.array[f>>>dn&vn]=d}if(a<i&&(_=_&&_.removeAfter(r,0,a)),s>=p)s-=p,a-=p,u=dn,c=null,_=_&&_.removeBefore(r,0,s);else if(s>o||p<f){for(l=0;c;){var m=s>>>u&vn;if(m!==p>>>u&vn)break;m&&(l+=(1<<u)*m),u-=dn,c=c.array[m]}c&&s>o&&(c=c.removeBefore(r,u,s-l)),c&&p<f&&(c=c.removeAfter(r,u,p-l)),l&&(s-=l,a-=l)}return t.__ownerID?(t.size=a-s,t._origin=s,t._capacity=a,t._level=u,t._root=c,t._tail=_,t.__hash=void 0,t.__altered=!0,t):Bt(s,a,u,c,_)}function Yt(t,e,n){for(var o=[],s=0,a=0;a<n.length;a++){var u=n[a],c=r(u);c.size>s&&(s=c.size),i(u)||(c=c.map(function(t){return W(t)})),o.push(c)}return s>t.size&&(t=t.setSize(s)),Lt(t,e,o)}function Xt(t){return t<_n?0:t-1>>>dn<<dn}function Qt(t){return null===t||void 0===t?ee():Zt(t)?t:ee().withMutations(function(e){var r=n(t);lt(r.size),r.forEach(function(t,n){return e.set(n,t)})})}function Zt(t){return ht(t)&&c(t)}function te(t,e,n,r){var o=Object.create(Qt.prototype);return o.size=t?t.size:0,o._map=t,o._list=e,o.__ownerID=n,o.__hash=r,o}function ee(){return Xn||(Xn=te(St(),Vt()))}function ne(t,e,n){var r,o,i=t._map,s=t._list,a=i.get(e),u=void 0!==a;if(n===bn){if(!u)return t;s.size>=_n&&s.size>=2*i.size?(o=s.filter(function(t,e){return void 0!==t&&a!==e}),r=o.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(r.__ownerID=o.__ownerID=t.__ownerID)):(r=i.remove(e),o=a===s.size-1?s.pop():s.set(a,void 0))}else if(u){if(n===s.get(a)[1])return t;r=i,o=s.set(a,[e,n])}else r=i.set(e,s.size),o=s.set(s.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=o,t.__hash=void 0,t):te(r,o)}function re(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function oe(t){this._iter=t,this.size=t.size}function ie(t){this._iter=t,this.size=t.size}function se(t){this._iter=t,this.size=t.size}function ae(t){var e=Ie(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Te,e.__iterateUncached=function(e,n){var r=this;return t.__iterate(function(t,n){return!1!==e(n,t,r)},n)},e.__iteratorUncached=function(e,n){if(e===Sn){var r=t.__iterator(e,n);return new w(function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===wn?gn:wn,n)},e}function ue(t,e,n){var r=Ie(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,o){var i=t.get(r,bn);return i===bn?o:e.call(n,i,r,t)},r.__iterateUncached=function(r,o){var i=this;return t.__iterate(function(t,o,s){return!1!==r(e.call(n,t,o,s),o,i)},o)},r.__iteratorUncached=function(r,o){var i=t.__iterator(Sn,o);return new w(function(){var o=i.next();if(o.done)return o;var s=o.value,a=s[0];return S(r,a,e.call(n,s[1],a,t),o)})},r}function ce(t,e){var n=Ie(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var e=ae(t);return e.reverse=function(){return t.flip()},e}),n.get=function(n,r){return t.get(e?n:-1-n,r)},n.has=function(n){return t.has(e?n:-1-n)},n.includes=function(e){return t.includes(e)},n.cacheResult=Te,n.__iterate=function(e,n){var r=this;return t.__iterate(function(t,n){return e(t,n,r)},!n)},n.__iterator=function(e,n){return t.__iterator(e,!n)},n}function le(t,e,n,r){var o=Ie(t);return r&&(o.has=function(r){var o=t.get(r,bn);return o!==bn&&!!e.call(n,o,r,t)},o.get=function(r,o){var i=t.get(r,bn);return i!==bn&&e.call(n,i,r,t)?i:o}),o.__iterateUncached=function(o,i){var s=this,a=0;return t.__iterate(function(t,i,u){if(e.call(n,t,i,u))return a++,o(t,r?i:a-1,s)},i),a},o.__iteratorUncached=function(o,i){var s=t.__iterator(Sn,i),a=0;return new w(function(){for(;;){var i=s.next();if(i.done)return i;var u=i.value,c=u[0],l=u[1];if(e.call(n,l,c,t))return S(o,r?c:a++,l,i)}})},o}function fe(t,e,n){var r=ft().asMutable();return t.__iterate(function(o,i){r.update(e.call(n,o,i,t),0,function(t){return t+1})}),r.asImmutable()}function he(t,e,n){var r=s(t),o=(c(t)?Qt():ft()).asMutable();t.__iterate(function(i,s){o.update(e.call(n,i,s,t),function(t){return t=t||[],t.push(r?[s,i]:i),t})});var i=je(t);return o.map(function(e){return Oe(t,i(e))})}function pe(t,e,n,r){var o=t.size;if(void 0!==e&&(e|=0),void 0!==n&&(n|=0),b(e,n,o))return t;var i=y(e,o),s=m(n,o);if(i!==i||s!==s)return pe(t.toSeq().cacheResult(),e,n,r);var a,u=s-i;u===u&&(a=u<0?0:u);var c=Ie(t);return c.size=0===a?a:t.size&&a||void 0,!r&&N(t)&&a>=0&&(c.get=function(e,n){return e=_(this,e),e>=0&&e<a?t.get(e+i,n):n}),c.__iterateUncached=function(e,n){var o=this;if(0===a)return 0;if(n)return this.cacheResult().__iterate(e,n);var s=0,u=!0,c=0;return t.__iterate(function(t,n){if(!u||!(u=s++<i))return c++,!1!==e(t,r?n:c-1,o)&&c!==a}),c},c.__iteratorUncached=function(e,n){if(0!==a&&n)return this.cacheResult().__iterator(e,n);var o=0!==a&&t.__iterator(e,n),s=0,u=0;return new w(function(){for(;s++<i;)o.next();if(++u>a)return x();var t=o.next();return r||e===wn?t:e===gn?S(e,u-1,void 0,t):S(e,u-1,t.value[1],t)})},c}function de(t,e,n){var r=Ie(t);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var s=0;return t.__iterate(function(t,o,a){return e.call(n,t,o,a)&&++s&&r(t,o,i)}),s},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var s=t.__iterator(Sn,o),a=!0;return new w(function(){if(!a)return x();var t=s.next();if(t.done)return t;var o=t.value,u=o[0],c=o[1];return e.call(n,c,u,i)?r===Sn?t:S(r,u,c,t):(a=!1,x())})},r}function _e(t,e,n,r){var o=Ie(t);return o.__iterateUncached=function(o,i){var s=this;if(i)return this.cacheResult().__iterate(o,i);var a=!0,u=0;return t.__iterate(function(t,i,c){if(!a||!(a=e.call(n,t,i,c)))return u++,o(t,r?i:u-1,s)}),u},o.__iteratorUncached=function(o,i){var s=this;if(i)return this.cacheResult().__iterator(o,i);var a=t.__iterator(Sn,i),u=!0,c=0;return new w(function(){var t,i,l;do{if(t=a.next(),t.done)return r||o===wn?t:o===gn?S(o,c++,void 0,t):S(o,c++,t.value[1],t);var f=t.value;i=f[0],l=f[1],u&&(u=e.call(n,l,i,s))}while(u);return o===Sn?t:S(o,i,l,t)})},o}function ve(t,e){var r=s(t),o=[t].concat(e).map(function(t){return i(t)?r&&(t=n(t)):t=r?F(t):z(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===o.length)return t;if(1===o.length){var u=o[0];if(u===t||r&&s(u)||a(t)&&a(u))return u}var c=new L(o);return r?c=c.toKeyedSeq():a(t)||(c=c.toSetSeq()),c=c.flatten(!0),c.size=o.reduce(function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}},0),c}function be(t,e,n){var r=Ie(t);return r.__iterateUncached=function(r,o){function s(t,c){var l=this;t.__iterate(function(t,o){return(!e||c<e)&&i(t)?s(t,c+1):!1===r(t,n?o:a++,l)&&(u=!0),!u},o)}var a=0,u=!1;return s(t,0),a},r.__iteratorUncached=function(r,o){var s=t.__iterator(r,o),a=[],u=0;return new w(function(){for(;s;){var t=s.next();if(!1===t.done){var c=t.value;if(r===Sn&&(c=c[1]),e&&!(a.length<e)||!i(c))return n?t:S(r,u++,c,t);a.push(s),s=c.__iterator(r,o)}else s=a.pop()}return x()})},r}function ye(t,e,n){var r=je(t);return t.toSeq().map(function(o,i){return r(e.call(n,o,i,t))}).flatten(!0)}function me(t,e){var n=Ie(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return t.__iterate(function(t,r){return(!i||!1!==n(e,i++,o))&&!1!==n(t,i++,o)},r),i},n.__iteratorUncached=function(n,r){var o,i=t.__iterator(wn,r),s=0;return new w(function(){return(!o||s%2)&&(o=i.next(),o.done)?o:s%2?S(n,s++,e):S(n,s++,o.value,o)})},n}function ge(t,e,n){e||(e=Ce);var r=s(t),o=0,i=t.toSeq().map(function(e,r){return[r,e,o++,n?n(e,r,t):e]}).toArray();return i.sort(function(t,n){return e(t[3],n[3])||t[2]-n[2]}).forEach(r?function(t,e){i[e].length=2}:function(t,e){i[e]=t[1]}),r?C(i):a(t)?A(i):P(i)}function we(t,e,n){if(e||(e=Ce),n){var r=t.toSeq().map(function(e,r){return[e,n(e,r,t)]}).reduce(function(t,n){return Se(e,t[1],n[1])?n:t});return r&&r[0]}return t.reduce(function(t,n){return Se(e,t,n)?n:t})}function Se(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(void 0===n||null===n||n!==n)||r>0}function xe(t,n,r){var o=Ie(t);return o.size=new L(r).map(function(t){return t.size}).min(),o.__iterate=function(t,e){for(var n,r=this.__iterator(wn,e),o=0;!(n=r.next()).done&&!1!==t(n.value,o++,this););return o},o.__iteratorUncached=function(t,o){var i=r.map(function(t){return t=e(t),E(o?t.reverse():t)}),s=0,a=!1;return new w(function(){var e;return a||(e=i.map(function(t){return t.next()}),a=e.some(function(t){return t.done})),a?x():S(t,s++,n.apply(null,e.map(function(t){return t.value})))})},o}function Oe(t,e){return N(t)?e:t.constructor(e)}function ke(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Ee(t){return lt(t.size),d(t)}function je(t){return s(t)?n:a(t)?r:o}function Ie(t){return Object.create((s(t)?C:a(t)?A:P).prototype)}function Te(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):T.prototype.cacheResult.call(this)}function Ce(t,e){return t>e?1:t<e?-1:0}function Ae(t){var n=E(t);if(!n){if(!I(t))throw new TypeError("Expected iterable or array-like: "+t);n=E(e(t))}return n}function Pe(t,e){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var s=Object.keys(t);qe(o,s),o.size=s.length,o._name=e,o._keys=s,o._defaultValues=t}this._map=ft(i)},o=r.prototype=Object.create(Qn);return o.constructor=r,r}function Le(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._map=e,r.__ownerID=n,r}function Me(t){return t._name||t.constructor.name||"Record"}function qe(t,e){try{e.forEach(Re.bind(void 0,t))}catch(t){}}function Re(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){Q(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}function Ne(t){return null===t||void 0===t?He():De(t)&&!c(t)?t:He().withMutations(function(e){var n=o(t);lt(n.size),n.forEach(function(t){return e.add(t)})})}function De(t){return!(!t||!t[Zn])}function Fe(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function ze(t,e){var n=Object.create(tr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function He(){return er||(er=ze(St()))}function Ue(t){return null===t||void 0===t?We():Be(t)?t:We().withMutations(function(e){var n=o(t);lt(n.size),n.forEach(function(t){return e.add(t)})})}function Be(t){return De(t)&&c(t)}function Ve(t,e){var n=Object.create(nr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function We(){return rr||(rr=Ve(ee()))}function Ge(t){return null===t||void 0===t?$e():Ke(t)?t:$e().unshiftAll(t)}function Ke(t){return!(!t||!t[or])}function Je(t,e,n,r){var o=Object.create(ir);return o.size=t,o._head=e,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function $e(){return sr||(sr=Je(0))}function Ye(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function Xe(t,e){return e}function Qe(t,e){return[e,t]}function Ze(t){return function(){return!t.apply(this,arguments)}}function tn(t){return function(){return-t.apply(this,arguments)}}function en(t){return"string"==typeof t?JSON.stringify(t):t}function nn(){return p(arguments)}function rn(t,e){return t<e?1:t>e?-1:0}function on(t){if(t.size===1/0)return 0;var e=c(t),n=s(t),r=e?1:0;return sn(t.__iterate(n?e?function(t,e){r=31*r+an(it(t),it(e))|0}:function(t,e){r=r+an(it(t),it(e))|0}:e?function(t){r=31*r+it(t)|0}:function(t){r=r+it(t)|0}),r)}function sn(t,e){return e=An(e,3432918353),e=An(e<<15|e>>>-15,461845907),e=An(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=An(e^e>>>16,2246822507),e=An(e^e>>>13,3266489909),e=ot(e^e>>>16)}function an(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var un=Array.prototype.slice;t(n,e),t(r,e),t(o,e),e.isIterable=i,e.isKeyed=s,e.isIndexed=a,e.isAssociative=u,e.isOrdered=c,e.Keyed=n,e.Indexed=r,e.Set=o;var cn="@@__IMMUTABLE_ITERABLE__@@",ln="@@__IMMUTABLE_KEYED__@@",fn="@@__IMMUTABLE_INDEXED__@@",hn="@@__IMMUTABLE_ORDERED__@@",pn="delete",dn=5,_n=1<<dn,vn=_n-1,bn={},yn={value:!1},mn={value:!1},gn=0,wn=1,Sn=2,xn="function"==typeof Symbol&&Symbol.iterator,On="@@iterator",kn=xn||On;w.prototype.toString=function(){return"[Iterator]"},w.KEYS=gn,w.VALUES=wn,w.ENTRIES=Sn,w.prototype.inspect=w.prototype.toSource=function(){return this.toString()},w.prototype[kn]=function(){return this},t(T,e),T.of=function(){return T(arguments)},T.prototype.toSeq=function(){return this},T.prototype.toString=function(){return this.__toString("Seq {","}")},T.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},T.prototype.__iterate=function(t,e){return B(this,t,e,!0)},T.prototype.__iterator=function(t,e){return V(this,t,e,!0)},t(C,T),C.prototype.toKeyedSeq=function(){return this},t(A,T),A.of=function(){return A(arguments)},A.prototype.toIndexedSeq=function(){return this},A.prototype.toString=function(){return this.__toString("Seq [","]")},A.prototype.__iterate=function(t,e){return B(this,t,e,!1)},A.prototype.__iterator=function(t,e){return V(this,t,e,!1)},t(P,T),P.of=function(){return P(arguments)},P.prototype.toSetSeq=function(){return this},T.isSeq=N,T.Keyed=C,T.Set=P,T.Indexed=A;var En="@@__IMMUTABLE_SEQ__@@";T.prototype[En]=!0,t(L,A),L.prototype.get=function(t,e){return this.has(t)?this._array[_(this,t)]:e},L.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===t(n[e?r-o:o],o,this))return o+1;return o},L.prototype.__iterator=function(t,e){var n=this._array,r=n.length-1,o=0;return new w(function(){return o>r?x():S(t,o,n[e?r-o++:o++])})},t(M,C),M.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},M.prototype.has=function(t){return this._object.hasOwnProperty(t)},M.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var s=r[e?o-i:i];if(!1===t(n[s],s,this))return i+1}return i},M.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,o=r.length-1,i=0;return new w(function(){var s=r[e?o-i:i];return i++>o?x():S(t,s,n[s])})},M.prototype[hn]=!0,t(q,A),q.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=this._iterable,r=E(n),o=0;if(k(r))for(var i;!(i=r.next()).done&&!1!==t(i.value,o++,this););return o},q.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterable,r=E(n);if(!k(r))return new w(x);var o=0;return new w(function(){var e=r.next();return e.done?e:S(t,o++,e.value)})},t(R,A),R.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var n=this._iterator,r=this._iteratorCache,o=0;o<r.length;)if(!1===t(r[o],o++,this))return o;for(var i;!(i=n.next()).done;){var s=i.value;if(r[o]=s,!1===t(s,o++,this))break}return o},R.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=this._iterator,r=this._iteratorCache,o=0;return new w(function(){if(o>=r.length){var e=n.next();if(e.done)return e;r[o]=e.value}return S(t,o,r[o++])})};var jn;t(X,A),X.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},X.prototype.get=function(t,e){return this.has(t)?this._value:e},X.prototype.includes=function(t){return $(this._value,t)},X.prototype.slice=function(t,e){var n=this.size;return b(t,e,n)?this:new X(this._value,m(e,n)-y(t,n))},X.prototype.reverse=function(){return this},X.prototype.indexOf=function(t){return $(this._value,t)?0:-1},X.prototype.lastIndexOf=function(t){return $(this._value,t)?this.size:-1},X.prototype.__iterate=function(t,e){for(var n=0;n<this.size;n++)if(!1===t(this._value,n,this))return n+1;return n},X.prototype.__iterator=function(t,e){var n=this,r=0;return new w(function(){return r<n.size?S(t,r++,n._value):x()})},X.prototype.equals=function(t){return t instanceof X?$(this._value,t._value):Y(t)};var In;t(Z,A),Z.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},Z.prototype.get=function(t,e){return this.has(t)?this._start+_(this,t)*this._step:e},Z.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},Z.prototype.slice=function(t,e){return b(t,e,this.size)?this:(t=y(t,this.size),e=m(e,this.size),e<=t?new Z(0,0):new Z(this.get(t,this._end),this.get(e,this._end),this._step))},Z.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},Z.prototype.lastIndexOf=function(t){return this.indexOf(t)},Z.prototype.__iterate=function(t,e){for(var n=this.size-1,r=this._step,o=e?this._start+n*r:this._start,i=0;i<=n;i++){if(!1===t(o,i,this))return i+1;o+=e?-r:r}return i},Z.prototype.__iterator=function(t,e){var n=this.size-1,r=this._step,o=e?this._start+n*r:this._start,i=0;return new w(function(){var s=o;return o+=e?-r:r,i>n?x():S(t,i++,s)})},Z.prototype.equals=function(t){return t instanceof Z?this._start===t._start&&this._end===t._end&&this._step===t._step:Y(this,t)};var Tn;t(tt,e),t(et,tt),t(nt,tt),t(rt,tt),tt.Keyed=et,tt.Indexed=nt,tt.Set=rt;var Cn,An="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){t|=0,e|=0;var n=65535&t,r=65535&e;return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0},Pn=Object.isExtensible,Ln=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),Mn="function"==typeof WeakMap;Mn&&(Cn=new WeakMap);var qn=0,Rn="__immutablehash__";"function"==typeof Symbol&&(Rn=Symbol(Rn));var Nn=16,Dn=255,Fn=0,zn={};t(ft,et),ft.prototype.toString=function(){return this.__toString("Map {","}")},ft.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},ft.prototype.set=function(t,e){return xt(this,t,e)},ft.prototype.setIn=function(t,e){return this.updateIn(t,bn,function(){return e})},ft.prototype.remove=function(t){return xt(this,t,bn)},ft.prototype.deleteIn=function(t){return this.updateIn(t,function(){return bn})},ft.prototype.update=function(t,e,n){return 1===arguments.length?t(this):this.updateIn([t],e,n)},ft.prototype.updateIn=function(t,e,n){n||(n=e,e=void 0);var r=Mt(this,Ae(t),e,n);return r===bn?void 0:r},ft.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):St()},ft.prototype.merge=function(){return Ct(this,void 0,arguments)},ft.prototype.mergeWith=function(t){return Ct(this,t,un.call(arguments,1))},ft.prototype.mergeIn=function(t){var e=un.call(arguments,1);return this.updateIn(t,St(),function(t){return"function"==typeof t.merge?t.merge.apply(t,e):e[e.length-1]})},ft.prototype.mergeDeep=function(){return Ct(this,At,arguments)},ft.prototype.mergeDeepWith=function(t){var e=un.call(arguments,1);return Ct(this,Pt(t),e)},ft.prototype.mergeDeepIn=function(t){var e=un.call(arguments,1);return this.updateIn(t,St(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,e):e[e.length-1]})},ft.prototype.sort=function(t){return Qt(ge(this,t))},ft.prototype.sortBy=function(t,e){return Qt(ge(this,e,t))},ft.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},ft.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new h)},ft.prototype.asImmutable=function(){return this.__ensureOwner()},ft.prototype.wasAltered=function(){return this.__altered},ft.prototype.__iterator=function(t,e){return new yt(this,t,e)},ft.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate(function(e){return r++,t(e[1],e[0],n)},e),r},ft.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?wt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},ft.isMap=ht;var Hn="@@__IMMUTABLE_MAP__@@",Un=ft.prototype;Un[Hn]=!0,Un[pn]=Un.remove,Un.removeIn=Un.deleteIn,pt.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,s=o.length;i<s;i++)if($(n,o[i][0]))return o[i][1];return r},pt.prototype.update=function(t,e,n,r,o,i,s){for(var a=o===bn,u=this.entries,c=0,l=u.length;c<l&&!$(r,u[c][0]);c++);var h=c<l;if(h?u[c][1]===o:a)return this;if(f(s),(a||!h)&&f(i),!a||1!==u.length){if(!h&&!a&&u.length>=Vn)return jt(t,u,r,o);var d=t&&t===this.ownerID,_=d?u:p(u);return h?a?c===l-1?_.pop():_[c]=_.pop():_[c]=[r,o]:_.push([r,o]),d?(this.entries=_,this):new pt(t,_)}},dt.prototype.get=function(t,e,n,r){void 0===e&&(e=it(n));var o=1<<((0===t?e:e>>>t)&vn),i=this.bitmap;return 0==(i&o)?r:this.nodes[qt(i&o-1)].get(t+dn,e,n,r)},dt.prototype.update=function(t,e,n,r,o,i,s){void 0===n&&(n=it(r));var a=(0===e?n:n>>>e)&vn,u=1<<a,c=this.bitmap,l=0!=(c&u);if(!l&&o===bn)return this;var f=qt(c&u-1),h=this.nodes,p=l?h[f]:void 0,d=Ot(p,t,e+dn,n,r,o,i,s);if(d===p)return this;if(!l&&d&&h.length>=Wn)return Tt(t,h,c,a,d);if(l&&!d&&2===h.length&&kt(h[1^f]))return h[1^f];if(l&&d&&1===h.length&&kt(d))return d;var _=t&&t===this.ownerID,v=l?d?c:c^u:c|u,b=l?d?Rt(h,f,d,_):Dt(h,f,_):Nt(h,f,d,_);return _?(this.bitmap=v,this.nodes=b,this):new dt(t,v,b)},_t.prototype.get=function(t,e,n,r){void 0===e&&(e=it(n));var o=(0===t?e:e>>>t)&vn,i=this.nodes[o];return i?i.get(t+dn,e,n,r):r},_t.prototype.update=function(t,e,n,r,o,i,s){void 0===n&&(n=it(r));var a=(0===e?n:n>>>e)&vn,u=o===bn,c=this.nodes,l=c[a];if(u&&!l)return this;var f=Ot(l,t,e+dn,n,r,o,i,s);if(f===l)return this;var h=this.count;if(l){if(!f&&--h<Gn)return It(t,c,h,a)}else h++;var p=t&&t===this.ownerID,d=Rt(c,a,f,p);return p?(this.count=h,this.nodes=d,this):new _t(t,h,d)},vt.prototype.get=function(t,e,n,r){for(var o=this.entries,i=0,s=o.length;i<s;i++)if($(n,o[i][0]))return o[i][1];return r},vt.prototype.update=function(t,e,n,r,o,i,s){void 0===n&&(n=it(r));var a=o===bn;if(n!==this.keyHash)return a?this:(f(s),f(i),Et(this,t,e,n,[r,o]));for(var u=this.entries,c=0,l=u.length;c<l&&!$(r,u[c][0]);c++);var h=c<l;if(h?u[c][1]===o:a)return this;if(f(s),(a||!h)&&f(i),a&&2===l)return new bt(t,this.keyHash,u[1^c]);var d=t&&t===this.ownerID,_=d?u:p(u);return h?a?c===l-1?_.pop():_[c]=_.pop():_[c]=[r,o]:_.push([r,o]),d?(this.entries=_,this):new vt(t,this.keyHash,_)},bt.prototype.get=function(t,e,n,r){return $(n,this.entry[0])?this.entry[1]:r},bt.prototype.update=function(t,e,n,r,o,i,s){var a=o===bn,u=$(r,this.entry[0]);return(u?o===this.entry[1]:a)?this:(f(s),a?void f(i):u?t&&t===this.ownerID?(this.entry[1]=o,this):new bt(t,this.keyHash,[r,o]):(f(i),Et(this,t,e,it(r),[r,o])))},pt.prototype.iterate=vt.prototype.iterate=function(t,e){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===t(n[e?o-r:r]))return!1},dt.prototype.iterate=_t.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[e?o-r:r];if(i&&!1===i.iterate(t,e))return!1}},bt.prototype.iterate=function(t,e){return t(this.entry)},t(yt,w),yt.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n,r=e.node,o=e.index++;if(r.entry){if(0===o)return mt(t,r.entry)}else if(r.entries){if(n=r.entries.length-1,o<=n)return mt(t,r.entries[this._reverse?n-o:o])}else if(n=r.nodes.length-1,o<=n){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return mt(t,i.entry);e=this._stack=gt(i,e)}continue}e=this._stack=this._stack.__prev}return x()};var Bn,Vn=_n/4,Wn=_n/2,Gn=_n/4;t(Ft,nt),Ft.of=function(){return this(arguments)},Ft.prototype.toString=function(){return this.__toString("List [","]")},Ft.prototype.get=function(t,e){if((t=_(this,t))>=0&&t<this.size){t+=this._origin;var n=Jt(this,t);return n&&n.array[t&vn]}return e},Ft.prototype.set=function(t,e){return Wt(this,t,e)},Ft.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},Ft.prototype.insert=function(t,e){return this.splice(t,0,e)},Ft.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=dn,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Vt()},Ft.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(n){$t(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])})},Ft.prototype.pop=function(){return $t(this,0,-1)},Ft.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){$t(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])})},Ft.prototype.shift=function(){return $t(this,1)},Ft.prototype.merge=function(){return Yt(this,void 0,arguments)},Ft.prototype.mergeWith=function(t){return Yt(this,t,un.call(arguments,1))},Ft.prototype.mergeDeep=function(){return Yt(this,At,arguments)},Ft.prototype.mergeDeepWith=function(t){var e=un.call(arguments,1);return Yt(this,Pt(t),e)},Ft.prototype.setSize=function(t){return $t(this,0,t)},Ft.prototype.slice=function(t,e){var n=this.size;return b(t,e,n)?this:$t(this,y(t,n),m(e,n))},Ft.prototype.__iterator=function(t,e){var n=0,r=Ut(this,e);return new w(function(){var e=r();return e===Yn?x():S(t,n++,e)})},Ft.prototype.__iterate=function(t,e){for(var n,r=0,o=Ut(this,e);(n=o())!==Yn&&!1!==t(n,r++,this););return r},Ft.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Bt(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},Ft.isList=zt;var Kn="@@__IMMUTABLE_LIST__@@",Jn=Ft.prototype;Jn[Kn]=!0,Jn[pn]=Jn.remove,Jn.setIn=Un.setIn,Jn.deleteIn=Jn.removeIn=Un.removeIn,Jn.update=Un.update,Jn.updateIn=Un.updateIn,Jn.mergeIn=Un.mergeIn,Jn.mergeDeepIn=Un.mergeDeepIn,Jn.withMutations=Un.withMutations,Jn.asMutable=Un.asMutable,Jn.asImmutable=Un.asImmutable,Jn.wasAltered=Un.wasAltered,Ht.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&vn;if(r>=this.array.length)return new Ht([],t);var o,i=0===r;if(e>0){var s=this.array[r];if((o=s&&s.removeBefore(t,e-dn,n))===s&&i)return this}if(i&&!o)return this;var a=Kt(this,t);if(!i)for(var u=0;u<r;u++)a.array[u]=void 0;return o&&(a.array[r]=o),a},Ht.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r=n-1>>>e&vn;if(r>=this.array.length)return this;var o;if(e>0){var i=this.array[r];if((o=i&&i.removeAfter(t,e-dn,n))===i&&r===this.array.length-1)return this}var s=Kt(this,t);return s.array.splice(r+1),o&&(s.array[r]=o),s};var $n,Yn={};t(Qt,ft),Qt.of=function(){return this(arguments)},Qt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Qt.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},Qt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ee()},Qt.prototype.set=function(t,e){return ne(this,t,e)},Qt.prototype.remove=function(t){return ne(this,t,bn)},Qt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Qt.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],n)},e)},Qt.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Qt.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?te(e,n,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=n,this)},Qt.isOrderedMap=Zt,Qt.prototype[hn]=!0,Qt.prototype[pn]=Qt.prototype.remove;var Xn;t(re,C),re.prototype.get=function(t,e){return this._iter.get(t,e)},re.prototype.has=function(t){return this._iter.has(t)},re.prototype.valueSeq=function(){return this._iter.valueSeq()},re.prototype.reverse=function(){var t=this,e=ce(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},re.prototype.map=function(t,e){var n=this,r=ue(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},re.prototype.__iterate=function(t,e){var n,r=this;return this._iter.__iterate(this._useKeys?function(e,n){return t(e,n,r)}:(n=e?Ee(this):0,function(o){return t(o,e?--n:n++,r)}),e)},re.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var n=this._iter.__iterator(wn,e),r=e?Ee(this):0;return new w(function(){var o=n.next();return o.done?o:S(t,e?--r:r++,o.value,o)})},re.prototype[hn]=!0,t(oe,A),oe.prototype.includes=function(t){return this._iter.includes(t)},oe.prototype.__iterate=function(t,e){var n=this,r=0;return this._iter.__iterate(function(e){return t(e,r++,n)},e)},oe.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wn,e),r=0;return new w(function(){var e=n.next();return e.done?e:S(t,r++,e.value,e)})},t(ie,P),ie.prototype.has=function(t){return this._iter.includes(t)},ie.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){return t(e,e,n)},e)},ie.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wn,e);return new w(function(){var e=n.next();return e.done?e:S(t,e.value,e.value,e)})},t(se,C),se.prototype.entrySeq=function(){return this._iter.toSeq()},se.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate(function(e){if(e){ke(e);var r=i(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}},e)},se.prototype.__iterator=function(t,e){var n=this._iter.__iterator(wn,e);return new w(function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){ke(r);var o=i(r);return S(t,o?r.get(0):r[0],o?r.get(1):r[1],e)}}})},oe.prototype.cacheResult=re.prototype.cacheResult=ie.prototype.cacheResult=se.prototype.cacheResult=Te,t(Pe,et),Pe.prototype.toString=function(){return this.__toString(Me(this)+" {","}")},Pe.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},Pe.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._defaultValues[t];return this._map?this._map.get(t,n):n},Pe.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=Le(this,St()))},Pe.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+Me(this));var n=this._map&&this._map.set(t,e);return this.__ownerID||n===this._map?this:Le(this,n)},Pe.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:Le(this,e)},Pe.prototype.wasAltered=function(){return this._map.wasAltered()},Pe.prototype.__iterator=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterator(t,e)},Pe.prototype.__iterate=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterate(t,e)},Pe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?Le(this,e,t):(this.__ownerID=t,this._map=e,this)};var Qn=Pe.prototype;Qn[pn]=Qn.remove,Qn.deleteIn=Qn.removeIn=Un.removeIn,Qn.merge=Un.merge,Qn.mergeWith=Un.mergeWith,Qn.mergeIn=Un.mergeIn,Qn.mergeDeep=Un.mergeDeep,Qn.mergeDeepWith=Un.mergeDeepWith,Qn.mergeDeepIn=Un.mergeDeepIn,Qn.setIn=Un.setIn,Qn.update=Un.update,Qn.updateIn=Un.updateIn,Qn.withMutations=Un.withMutations,Qn.asMutable=Un.asMutable,Qn.asImmutable=Un.asImmutable,t(Ne,rt),Ne.of=function(){return this(arguments)},Ne.fromKeys=function(t){return this(n(t).keySeq())},Ne.prototype.toString=function(){return this.__toString("Set {","}")},Ne.prototype.has=function(t){return this._map.has(t)},Ne.prototype.add=function(t){return Fe(this,this._map.set(t,!0))},Ne.prototype.remove=function(t){return Fe(this,this._map.remove(t))},Ne.prototype.clear=function(){return Fe(this,this._map.clear())},Ne.prototype.union=function(){var t=un.call(arguments,0);return t=t.filter(function(t){return 0!==t.size}),0===t.length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)o(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},Ne.prototype.intersect=function(){var t=un.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return o(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.every(function(t){return t.includes(e)})||n.remove(e)})})},Ne.prototype.subtract=function(){var t=un.call(arguments,0);if(0===t.length)return this;t=t.map(function(t){return o(t)});var e=this;return this.withMutations(function(n){e.forEach(function(e){t.some(function(t){return t.includes(e)})&&n.remove(e)})})},Ne.prototype.merge=function(){return this.union.apply(this,arguments)},Ne.prototype.mergeWith=function(t){var e=un.call(arguments,1);return this.union.apply(this,e)},Ne.prototype.sort=function(t){return Ue(ge(this,t))},Ne.prototype.sortBy=function(t,e){return Ue(ge(this,e,t))},Ne.prototype.wasAltered=function(){return this._map.wasAltered()},Ne.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate(function(e,r){return t(r,r,n)},e)},Ne.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},Ne.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},Ne.isSet=De;var Zn="@@__IMMUTABLE_SET__@@",tr=Ne.prototype;tr[Zn]=!0,tr[pn]=tr.remove,tr.mergeDeep=tr.merge,tr.mergeDeepWith=tr.mergeWith,tr.withMutations=Un.withMutations,tr.asMutable=Un.asMutable,tr.asImmutable=Un.asImmutable,tr.__empty=He,tr.__make=ze;var er;t(Ue,Ne),Ue.of=function(){return this(arguments)},Ue.fromKeys=function(t){return this(n(t).keySeq())},Ue.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ue.isOrderedSet=Be;var nr=Ue.prototype;nr[hn]=!0,nr.__empty=We,nr.__make=Ve;var rr;t(Ge,nt),Ge.of=function(){return this(arguments)},Ge.prototype.toString=function(){return this.__toString("Stack [","]")},Ge.prototype.get=function(t,e){var n=this._head;for(t=_(this,t);n&&t--;)n=n.next;return n?n.value:e},Ge.prototype.peek=function(){return this._head&&this._head.value},Ge.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,n=arguments.length-1;n>=0;n--)e={value:arguments[n],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Je(t,e)},Ge.prototype.pushAll=function(t){if(t=r(t),0===t.size)return this;lt(t.size);var e=this.size,n=this._head;return t.reverse().forEach(function(t){e++,n={value:t,next:n}}),this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Je(e,n)},Ge.prototype.pop=function(){return this.slice(1)},Ge.prototype.unshift=function(){return this.push.apply(this,arguments)},Ge.prototype.unshiftAll=function(t){return this.pushAll(t)},Ge.prototype.shift=function(){return this.pop.apply(this,arguments)},Ge.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):$e()},Ge.prototype.slice=function(t,e){if(b(t,e,this.size))return this;var n=y(t,this.size);if(m(e,this.size)!==this.size)return nt.prototype.slice.call(this,t,e);for(var r=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):Je(r,o)},Ge.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Je(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Ge.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var n=0,r=this._head;r&&!1!==t(r.value,n++,this);)r=r.next;return n},Ge.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var n=0,r=this._head;return new w(function(){if(r){var e=r.value;return r=r.next,S(t,n++,e)}return x()})},Ge.isStack=Ke;var or="@@__IMMUTABLE_STACK__@@",ir=Ge.prototype;ir[or]=!0,ir.withMutations=Un.withMutations,ir.asMutable=Un.asMutable,ir.asImmutable=Un.asImmutable,ir.wasAltered=Un.wasAltered;var sr;e.Iterator=w,Ye(e,{toArray:function(){lt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,n){t[n]=e}),t},toIndexedSeq:function(){return new oe(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new re(this,!0)},toMap:function(){return ft(this.toKeyedSeq())},toObject:function(){lt(this.size);var t={};return this.__iterate(function(e,n){t[n]=e}),t},toOrderedMap:function(){return Qt(this.toKeyedSeq())},toOrderedSet:function(){return Ue(s(this)?this.valueSeq():this)},toSet:function(){return Ne(s(this)?this.valueSeq():this)},toSetSeq:function(){return new ie(this)},toSeq:function(){return a(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ge(s(this)?this.valueSeq():this)},toList:function(){return Ft(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){return Oe(this,ve(this,un.call(arguments,0)))},includes:function(t){return this.some(function(e){return $(e,t)})},entries:function(){return this.__iterator(Sn)},every:function(t,e){lt(this.size);var n=!0;return this.__iterate(function(r,o,i){if(!t.call(e,r,o,i))return n=!1,!1}),n},filter:function(t,e){return Oe(this,le(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},findEntry:function(t,e){var n;return this.__iterate(function(r,o,i){if(t.call(e,r,o,i))return n=[o,r],!1}),n},findLastEntry:function(t,e){return this.toSeq().reverse().findEntry(t,e)},forEach:function(t,e){return lt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){lt(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate(function(r){n?n=!1:e+=t,e+=null!==r&&void 0!==r?r.toString():""}),e},keys:function(){return this.__iterator(gn)},map:function(t,e){return Oe(this,ue(this,t,e))},reduce:function(t,e,n){lt(this.size);var r,o;return arguments.length<2?o=!0:r=e,this.__iterate(function(e,i,s){o?(o=!1,r=e):r=t.call(n,r,e,i,s)}),r},reduceRight:function(t,e,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Oe(this,ce(this,!0))},slice:function(t,e){return Oe(this,pe(this,t,e,!0))},some:function(t,e){return!this.every(Ze(t),e)},sort:function(t){return Oe(this,ge(this,t))},values:function(){return this.__iterator(wn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return d(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return fe(this,t,e)},equals:function(t){return Y(this,t)},entrySeq:function(){var t=this;if(t._cache)return new L(t._cache);var e=t.toSeq().map(Qe).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Ze(t),e)},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},first:function(){return this.find(v)},flatMap:function(t,e){return Oe(this,ye(this,t,e))},flatten:function(t){return Oe(this,be(this,t,!0))},fromEntrySeq:function(){return new se(this)},get:function(t,e){return this.find(function(e,n){return $(n,t)},void 0,e)},getIn:function(t,e){for(var n,r=this,o=Ae(t);!(n=o.next()).done;){var i=n.value;if((r=r&&r.get?r.get(i,bn):bn)===bn)return e}return r},groupBy:function(t,e){return he(this,t,e)},has:function(t){return this.get(t,bn)!==bn},hasIn:function(t){return this.getIn(t,bn)!==bn},isSubset:function(t){return t="function"==typeof t.includes?t:e(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return t="function"==typeof t.isSubset?t:e(t),t.isSubset(this)},keySeq:function(){return this.toSeq().map(Xe).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(t){return we(this,t)},maxBy:function(t,e){return we(this,e,t)},min:function(t){return we(this,t?tn(t):rn)},minBy:function(t,e){return we(this,e?tn(e):rn,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Oe(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Oe(this,_e(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Ze(t),e)},sortBy:function(t,e){return Oe(this,ge(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Oe(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Oe(this,de(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Ze(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=on(this))}});var ar=e.prototype;ar[cn]=!0,ar[kn]=ar.values,ar.__toJS=ar.toArray,ar.__toStringMapper=en,ar.inspect=ar.toSource=function(){return this.toString()},ar.chain=ar.flatMap,ar.contains=ar.includes,function(){try{Object.defineProperty(ar,"length",{get:function(){if(!e.noLengthWarning){var t;try{throw new Error}catch(e){t=e.stack}if(-1===t.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+t),this.size}}})}catch(t){}}(),Ye(n,{flip:function(){return Oe(this,ae(this))},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLastKey:function(t,e){return this.toSeq().reverse().findKey(t,e)},keyOf:function(t){return this.findKey(function(e){return $(e,t)})},lastKeyOf:function(t){return this.findLastKey(function(e){return $(e,t)})},mapEntries:function(t,e){var n=this,r=0;return Oe(this,this.toSeq().map(function(o,i){return t.call(e,[i,o],r++,n)}).fromEntrySeq())},mapKeys:function(t,e){var n=this;return Oe(this,this.toSeq().flip().map(function(r,o){return t.call(e,r,o,n)}).flip())}});var ur=n.prototype;return ur[ln]=!0,ur[kn]=ar.entries,ur.__toJS=ar.toObject,ur.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+en(t)},Ye(r,{toKeyedSeq:function(){return new re(this,!1)},filter:function(t,e){return Oe(this,le(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.toKeyedSeq().keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.toKeyedSeq().reverse().keyOf(t);return void 0===e?-1:e},reverse:function(){return Oe(this,ce(this,!1))},slice:function(t,e){return Oe(this,pe(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(0|e,0),0===n||2===n&&!e)return this;t=y(t,t<0?this.count():this.size);var r=this.slice(0,t);return Oe(this,1===n?r:r.concat(p(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.toKeyedSeq().findLastKey(t,e);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(t){return Oe(this,be(this,t,!1))},get:function(t,e){return t=_(this,t),t<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,n){return n===t},void 0,e)},has:function(t){return(t=_(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Oe(this,me(this,t))},interleave:function(){var t=[this].concat(p(arguments)),e=xe(this.toSeq(),A.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),Oe(this,n)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Oe(this,_e(this,t,e,!1))},zip:function(){return Oe(this,xe(this,nn,[this].concat(p(arguments))))},zipWith:function(t){var e=p(arguments);return e[0]=this,Oe(this,xe(this,t,e))}}),r.prototype[fn]=!0,r.prototype[hn]=!0,Ye(o,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=ar.includes,Ye(C,n.prototype),Ye(A,r.prototype),Ye(P,o.prototype),Ye(et,n.prototype),Ye(nt,r.prototype),Ye(rt,o.prototype),{Iterable:e,Seq:T,Collection:tt,Map:ft,OrderedMap:Qt,List:Ft,Stack:Ge,Set:Ne,OrderedSet:Ue,Record:Pe,Range:Z,Repeat:X,is:$,fromJS:W}}()}()},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function i(t){if(f===clearTimeout)return clearTimeout(t);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function s(){_&&p&&(_=!1,p.length?d=p.concat(d):v=-1,d.length&&a())}function a(){if(!_){var t=o(s);_=!0;for(var e=d.length;e;){for(p=d,d=[];++v<e;)p&&p[v].run();v=-1,e=d.length}p=null,_=!1,i(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,f,h=t.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(t){l=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(t){f=r}}();var p,d=[],_=!1,v=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||_||o(a)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}}])})},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(23)},function(t,e,n){"use strict";var r=n(3)();t.exports=function(t){return t!==r&&null!==t}},function(t,e,n){"use strict";var r=n(16);t.exports={name:r("name"),type:r("type"),inspected:r("inspected"),meta:r("meta"),proto:r("proto")}},function(t,e){"use strict";t.exports=function(){}},function(t,e,n){"use strict";t.exports=n(5)()?Object.assign:n(6)},function(t,e){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(t={foo:"raz"},e(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,n){"use strict";var r=n(8),o=n(12),i=Math.max;t.exports=function(t,e){var n,s,a,u=i(arguments.length,2);for(t=Object(o(t)),a=function(r){try{t[r]=e[r]}catch(t){n||(n=t)}},s=1;s<u;++s)e=arguments[s],r(e).forEach(a);if(void 0!==n)throw n;return t}},function(t,e){"use strict";t.exports=function(t){return"function"==typeof t}},function(t,e,n){"use strict";t.exports=n(9)()?Object.keys:n(10)},function(t,e){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,e,n){"use strict";var r=n(1),o=Object.keys;t.exports=function(t){return o(r(t)?Object(t):t)}},function(t,e,n){"use strict";var r=n(1),o=Array.prototype.forEach,i=Object.create,s=function(t,e){var n;for(n in t)e[n]=t[n]};t.exports=function(t){var e=i(null);return o.call(arguments,function(t){r(t)&&s(Object(t),e)}),e}},function(t,e,n){"use strict";var r=n(1);t.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}},function(t,e,n){"use strict";t.exports=n(14)()?String.prototype.contains:n(15)},function(t,e){"use strict";var n="razdwatrzy";t.exports=function(){return"function"==typeof n.contains&&!0===n.contains("dwa")&&!1===n.contains("foo")}},function(t,e){"use strict";var n=String.prototype.indexOf;t.exports=function(t){return n.call(this,t,arguments[1])>-1}},function(t,e,n){"use strict";t.exports=n(17)()?Symbol:n(20)},function(t,e){"use strict";t.exports=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(t){return!1}return"symbol"==typeof Symbol.iterator||"object"==typeof Symbol.isConcatSpreadable&&"object"==typeof Symbol.iterator&&"object"==typeof Symbol.toPrimitive&&"object"==typeof Symbol.toStringTag&&"object"==typeof Symbol.unscopables}},function(t,e){"use strict";t.exports=function(t){return t&&("symbol"==typeof t||"Symbol"===t["@@toStringTag"])||!1}},function(t,e,n){"use strict";var r,o=n(4),i=n(11),s=n(7),a=n(13);r=t.exports=function(t,e){var n,r,s,u,c;return arguments.length<2||"string"!=typeof t?(u=e,e=t,t=null):u=arguments[2],null==t?(n=s=!0,r=!1):(n=a.call(t,"c"),r=a.call(t,"e"),s=a.call(t,"w")),c={value:e,configurable:n,enumerable:r,writable:s},u?o(i(u),c):c},r.gs=function(t,e,n){var r,u,c,l;return"string"!=typeof t?(c=n,n=e,e=t,t=null):c=arguments[3],null==e?e=void 0:s(e)?null==n?n=void 0:s(n)||(c=n,n=void 0):(c=e,e=n=void 0),null==t?(r=!0,u=!1):(r=a.call(t,"c"),u=a.call(t,"e")),l={get:e,set:n,configurable:r,enumerable:u},c?o(i(c),l):l}},function(t,e,n){"use strict";var r,o,i,s=n(19),a=n(21),u=Object.create,c=Object.defineProperties,l=Object.defineProperty,f=Object.prototype,h=u(null);"function"==typeof Symbol&&(r=Symbol);var p=function(){var t=u(null);return function(e){for(var n,r,o=0;t[e+(o||"")];)++o;return e+=o||"",t[e]=!0,n="@@"+e,l(f,n,s.gs(null,function(t){r||(r=!0,l(this,n,s(t)),r=!1)})),n}}();i=function(t){if(this instanceof i)throw new TypeError("TypeError: Symbol is not a constructor");return o(t)},t.exports=o=function t(e){var n;if(this instanceof t)throw new TypeError("TypeError: Symbol is not a constructor");return n=u(i.prototype),e=void 0===e?"":String(e),c(n,{__description__:s("",e),__name__:s("",p(e))})},c(o,{for:s(function(t){return h[t]?h[t]:h[t]=o(String(t))}),keyFor:s(function(t){var e;a(t);for(e in h)if(h[e]===t)return e}),hasInstance:s("",r&&r.hasInstance||o("hasInstance")),isConcatSpreadable:s("",r&&r.isConcatSpreadable||o("isConcatSpreadable")),iterator:s("",r&&r.iterator||o("iterator")),match:s("",r&&r.match||o("match")),replace:s("",r&&r.replace||o("replace")),search:s("",r&&r.search||o("search")),species:s("",r&&r.species||o("species")),split:s("",r&&r.split||o("split")),toPrimitive:s("",r&&r.toPrimitive||o("toPrimitive")),toStringTag:s("",r&&r.toStringTag||o("toStringTag")),unscopables:s("",r&&r.unscopables||o("unscopables"))}),c(i.prototype,{constructor:s(o),toString:s("",function(){return this.__name__})}),c(o.prototype,{toString:s(function(){return"Symbol ("+a(this).__description__+")"}),valueOf:s(function(){return a(this)})}),l(o.prototype,o.toPrimitive,s("",function(){return a(this)})),l(o.prototype,o.toStringTag,s("c","Symbol")),l(i.prototype,o.toStringTag,s("c",o.prototype[o.toStringTag])),l(i.prototype,o.toPrimitive,s("c",o.prototype[o.toPrimitive]))},function(t,e,n){"use strict";var r=n(18);t.exports=function(t){if(!r(t))throw new TypeError(t+" is not a symbol");return t}},function(t,e){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function r(t,e){return e.reduce(function(t,e){if(t){if(t.hasOwnProperty(e))return t[e];if("function"==typeof t[Symbol.iterator])return[].concat(n(t))[e]}return null},t)}t.exports=r},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(2),u=n(25),c=n(24),l=n(22),f=n(30),h=5,p=window.cancelIdleCallback||clearTimeout,d=window.requestIdleCallback||function(t,e){var n=3e3*h;return n>500&&(n=500),setTimeout(function(){var e=f();t({didTimeout:!1,timeRemaining:function(){return 1/0}});var n=f();h=(n-e)/1e3},n)},_=function(){function t(e){o(this,t),this._cbs=new Map,this._inspectables=new Map,this._cid=0,this._listeners={},this._buffer=[],this._flushHandle=null,this._callers={},this._paused=!1,this._wall=e,e.listen(this._handleMessage.bind(this))}return s(t,[{key:"inspect",value:function(t,e,n){var r=this._cid++;this._cbs.set(r,function(t,e,r,o){e.length&&u(t,e),r&&o.length&&u(r,o),r&&(t[a.proto]=r),n(t)}),this._wall.send({type:"inspect",callback:r,path:e,id:t})}},{key:"call",value:function(t,e,n){var r=this._cid++;this._cbs.set(r,n),this._wall.send({type:"call",callback:r,args:e,name:t})}},{key:"onCall",value:function(t,e){if(this._callers[t])throw new Error("only one call handler per call name allowed");this._callers[t]=e}},{key:"pause",value:function(){this._wall.send({type:"pause"})}},{key:"resume",value:function(){this._wall.send({type:"resume"})}},{key:"setInspectable",value:function(t,e){var n=this._inspectables.get(t);return n?void this._inspectables.set(t,i({},n,e)):void this._inspectables.set(t,e)}},{key:"send",value:function(t,e){this._buffer.push({evt:t,data:e}),this.scheduleFlush()}},{key:"scheduleFlush",value:function(){if(!this._flushHandle&&this._buffer.length){var t=this._paused?5e3:500;this._flushHandle=d(this.flushBufferWhileIdle.bind(this),{timeout:t})}}},{key:"cancelFlush",value:function(){this._flushHandle&&(p(this._flushHandle),this._flushHandle=null)}},{key:"flushBufferWhileIdle",value:function(t){this._flushHandle=null;for(var e=this._paused?20:10,n=Math.round(this._buffer.length/e),r=this._paused?50:100;this._buffer.length&&(t.timeRemaining()>0||t.didTimeout);){var o=Math.min(this._buffer.length,Math.max(r,n)),i=this._buffer.splice(0,o);this.flushBufferSlice(i)}this._buffer.length&&this.scheduleFlush()}},{key:"flushBufferSlice",value:function(t){var e=this,n=t.map(function(t){var n=t.evt,r=t.data,o=[],i=c(r,o);return o.length&&e.setInspectable(r.id,r),{type:"event",evt:n,data:i,cleaned:o}});this._wall.send({type:"many-events",events:n})}},{key:"forget",value:function(t){this._inspectables.delete(t)}},{key:"on",value:function(t,e){this._listeners[t]?this._listeners[t].push(e):this._listeners[t]=[e]}},{key:"off",value:function(t,e){if(this._listeners[t]){var n=this._listeners[t].indexOf(e);-1!==n&&this._listeners[t].splice(n,1)}}},{key:"once",value:function(t,e){var n=this,r=function r(){e.apply(this,arguments),n.off(t,r)};this.on(t,r)}},{key:"_handleMessage",value:function(t){var e=this;if("resume"===t.type)return this._paused=!1,void this.scheduleFlush();if("pause"===t.type)return this._paused=!0,void this.cancelFlush();if("callback"===t.type){var n=this._cbs.get(t.id);return void(n&&(n.apply(void 0,r(t.args)),this._cbs.delete(t.id)))}if("call"===t.type)return void this._handleCall(t.name,t.args,t.callback);if("inspect"===t.type)return void this._inspectResponse(t.id,t.path,t.callback);if("event"===t.type){t.cleaned&&u(t.data,t.cleaned);var o=this._listeners[t.evt],i=t.data;o&&o.forEach(function(t){return t(i)})}"many-events"===t.type&&t.events.forEach(function(t){t.cleaned&&u(t.data,t.cleaned);var n=e._listeners[t.evt];n&&n.forEach(function(e){return e(t.data)})})}},{key:"_handleCall",value:function(t,e,n){if(!this._callers[t])return void console.warn('unknown call: "'+t+'"');e=Array.isArray(e)?e:[e];var r;try{r=this._callers[t].apply(null,e)}catch(t){return void console.error("Failed to call",t)}this._wall.send({type:"callback",id:n,args:[r]})}},{key:"_inspectResponse",value:function(t,e,n){var r=this._inspectables.get(t),o={},i=[],s=null,a=[];if(r){var u=l(r,e),f=!1,h="function"==typeof u;if(u&&"function"==typeof u[Symbol.iterator]){var p=Object.create({}),d=0,_=!0,v=!1,b=void 0;try{for(var y,m=u[Symbol.iterator]();!(_=(y=m.next()).done);_=!0){var g=y.value;if(d>100)break;p[d]=g,d++}}catch(t){v=!0,b=t}finally{try{!_&&m.return&&m.return()}finally{if(v)throw b}}u=p}if(Object.getOwnPropertyNames(u).forEach(function(t){"__proto__"===t&&(f=!0),(!h||"arguments"!==t&&"callee"!==t&&"caller"!==t)&&(o[t]=c(u[t],i,[t]))}),!f&&u.__proto__&&"Object"!==u.constructor.name){var w={},S="function"==typeof u.__proto__;Object.getOwnPropertyNames(u.__proto__).forEach(function(t){(!S||"arguments"!==t&&"callee"!==t&&"caller"!==t)&&(w[t]=c(u.__proto__[t],a,[t]))}),s=w}}this._wall.send({type:"callback",id:n,args:[o,i,s,a]})}}]),t}();t.exports=_},function(t,e){"use strict";function n(t){if(!t)return null;var e=void 0===t?"undefined":i(t);if("object"===e){if(t._reactFragment)return"react_fragment";if(Array.isArray(t))return"array";if(ArrayBuffer.isView(t))return t instanceof DataView?"data_view":"typed_array";if(t instanceof ArrayBuffer)return"array_buffer";if("function"==typeof t[Symbol.iterator])return"iterator";if("[object Date]"===Object.prototype.toString.call(t))return"date"}return e}function r(t,e,n,r){var o={};return"array"!==t&&"typed_array"!==t||(o.length=e.length),"iterator"!==t&&"typed_array"!==t||(o.readOnly=!0),n.push(r),{type:t,meta:o,name:e.constructor&&"Object"!==e.constructor.name?e.constructor.name:""}}function o(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=n(t);switch(a){case"function":return e.push(i),{name:t.name,type:"function"};case"string":return t.length<=5e3?t:t.slice(0,5e3)+"...";case"symbol":return e.push(i),{type:"symbol",name:t.toString()};case"react_fragment":return"A React Fragment";case"array_buffer":case"data_view":return e.push(i),{type:a,name:"data_view"===a?"DataView":"ArrayBuffer",meta:{length:t.byteLength,uninspectable:!0}};case"array":return s>2?r(a,t,e,i):t.map(function(t,n){return o(t,e,i.concat([n]),s+1)});case"typed_array":case"iterator":return r(a,t,e,i);case"date":return e.push(i),{name:t.toString(),type:"date",meta:{uninspectable:!0}};case"object":if(s>2||t.constructor&&"function"==typeof t.constructor&&"Object"!==t.constructor.name)return r(a,t,e,i);var u={};for(var c in t)u[c]=o(t[c],e,i.concat([c]),s+1);return u;default:return t}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=o},function(t,e,n){"use strict";function r(t,e){e.forEach(function(e){var n=e.pop(),r=e.reduce(function(t,e){return t?t[e]:null},t);if(r&&r[n]){var i={};i[o.name]=r[n].name,i[o.type]=r[n].type,i[o.meta]=r[n].meta,i[o.inspected]=!1,r[n]=i}})}var o=n(2);t.exports=r},,,function(t,e){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=r},function(t,e,n){"use strict";var r;n(28).canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),t.exports=r||{}},function(t,e,n){"use strict";var r,o=n(29);r=o.now?function(){return o.now()}:function(){return Date.now()},t.exports=r}])})},function(t,e,n){"use strict";function r(t){return!!t.li_post_urn}n.d(e,"a",function(){return c});var o=n(158),i=n(7),s=n(6),a=n(447),u=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),c=function(t){function e(e,n,r,o){var s=t.call(this,e)||this;return s.log=n,s.win=r,s.createPageTrafficListener=o,s.sponsoredFeedPost=new i.d,s._promotedPostsSub=null,s._highlightDebug=!1,s._messageListenerClosure=null,s.trafficSub=null,s._parser=new a.a(n),s}return u(e,t),e.prototype.startMonitoring=function(){var t=this;if(this.trafficSub)throw new Error("Already started");this.trafficSub=this.createPageTrafficListener().subscribe(function(e){var n=(e.url,e.body);try{t.parseMessagePayload(JSON.parse(n))}catch(e){t.handleError(e)}},function(e){t.handleError(e)}),Object(s.z)({timeout:1e3}).then(function(){Array.from(t.win.document.body.querySelectorAll("code")).map(function(t){return Object(s.q)(function(){return JSON.parse(t.textContent)},null)}).filter(function(t){return Object(s.q)(function(){return"feed"===t.data.metadata.type},!1)}).forEach(function(e){t.parseMessagePayload(e)})})},e.prototype.stopMonitoring=function(){this.trafficSub&&this.trafficSub.unsubscribe()},e.prototype.setupDebug=function(){this._highlightDebug=!0},e.prototype.highlightElement=function(t,e){if(this._highlightDebug){var n=document.createElement("style");n.innerHTML="\n            div[data-id='"+t+"'] {\n                box-shadow: inset 0px 0px 6px 1px "+(e?"green":"red")+", 0px 0px 6px 1px "+(e?"green":"red")+" !important;\n            }\n        ",this.win.document.head.appendChild(n)}},e.prototype.parseMessagePayload=function(t){var e=this;this._parser.parseMessagePayload(t).forEach(function(t){r(t)?(e.log.info("Found new promoted post",t),e.highlightElement(t.li_post_urn,!0),e.sponsoredFeedPost.next(t)):e.highlightElement(t,!1)})},e.prototype.handleError=function(t){this.log.error("Error in topic",t)},e}(o.a)},function(t,e,n){"use strict";function r(t){return new o.c(function(e){function n(t){t.data&&t.data.type===s&&e.next(t.data.payload)}var r=Object(i.b)(t),o=r.handshake_message_id,s=r.message_id;return window.addEventListener("message",n),window.postMessage({type:o},"*"),function t(){window.removeEventListener("message",n)}})}e.a=r;var o=n(7),i=n(380)},function(t,e,n){"use strict";var r=n(6),o=n(41),i=n(97),s=n(7),a=n(158),u=n(382),c=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=this&&this.__assign||function(){return l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},l.apply(this,arguments)},f=Object(r.v)(Object(r.D)(u.a).map(function(t){var e=t[0],n=t[1];return[e,new RegExp(n,"i")]})),h=function(t){function e(e,n,o,a){var u=t.call(this,e)||this;return u.chromeEnv=e,u.log=n,u.win=o,u.createPageTrafficListener=a,u.promotedTweets=new s.d,u.feedSub=null,u.trafficSub=null,u._getConfigPromise=null,u.newXHRMessage=function(t){var e,n,o=Object(r.D)(f).find(function(e){e[0];return e[1].test(t.url)}),s=(n=null===(e=o)||void 0===e?void 0:e[0],null!==n&&void 0!==n?n:"UNKNOWN");try{Object(i.i)(JSON.parse(t.body)).map(function(t){return l(l({},t),{tw_ad_placement:s})}).forEach(function(t){return u.promotedTweets.next(t)})}catch(t){u.log.error("Failed to parse twitter message",t)}},u}return c(e,t),e.prototype.startMonitoring=function(){var t=this;if(this.feedSub)throw new Error("You can't start monitoring twice");this.feedSub=Object(o.e)(this.win.document).subscribe(function(e){e&&t.newTweetStream(e)},function(e){t.log.error(e)}),this.trafficSub=this.createPageTrafficListener().subscribe(this.newXHRMessage)},e.prototype.newTweetStream=function(t){var e=this;this.log.info("Found new stream..."),Object(o.k)(t,'div[class*="js-stream-tweet"][data-advertiser-id][data-disclosure-type="promoted"]',!0).subscribe(function(t){e.log.info("Found new sponsored tweet",t);var n=t.getAttribute("data-permalink-path"),r=JSON.parse(t.getAttribute("data-reply-to-users-json")),o=r[0].screen_name,i=r[0].name,s=t.getAttribute("data-tweet-id"),a=r[0].id_str,u={tw_perma_link:n,tw_user_screen_name:o,tw_user_display_name:i,tw_tweet_id:s,tw_user_id:a,tw_tweet_display_type:"UNKNOWN",tw_ad_placement:"feed"};e.log.info("Parsed new element to be ",u),e.promotedTweets.next(u)})},e.prototype.setupDebug=function(){},e.prototype.highlightPost=function(t){Array.from(document.querySelectorAll('li[data-item-id="'+t+'"].stream-item')).forEach(function(t){t.style.boxShadow="0 0 21px 2px blue"})},e}(a.a);e.a=h},function(t,e,n){"use strict";function r(t){return o(this,void 0,void 0,function(){var e,n;return i(this,function(r){switch(r.label){case 0:return e=t.createElement("div"),e.id="detect",e.className="ads ad adsbox doubleclick ad-placement carbon-ads",e.style.height="1px",e.style.width="1px",e.style.position="absolute",e.style.left="-999px",e.style.top="-999px",e.innerHTML="&nbsp;",t.body.appendChild(e),[4,new Promise(function(t){return setTimeout(t,100)})];case 1:return r.sent(),n=0===e.offsetHeight,e.remove(),[2,n]}})})}e.a=r;var o=this&&this.__awaiter||function(t,e,n,r){function o(t){return t instanceof n?t:new n(function(e){e(t)})}return new(n||(n=Promise))(function(n,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?n(t.value):o(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(s=2&n[0]?i.return:n[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,n[1])).done)return s;switch(i=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(s=u.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){u.label=n[1];break}if(6===n[0]&&u.label<s[1]){u.label=s[1],s=n;break}if(s&&u.label<s[2]){u.label=s[2],u.ops.push(n);break}s[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,s,a,u={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}},function(t,e,n){"use strict";function r(){var t=document.createElement("script");t.textContent="\n    // save define\n    var ___oldDefine = window.define;\n    // kill define\n    window.define = undefined;\n    "+o+";\n    // new line so we will be out of the commnet at the end of code\n    // restore old define\n    window.define = ___oldDefine; ___oldDefine = undefined;",window.document.documentElement.insertBefore(t,window.document.documentElement.firstElementChild),t.parentNode&&t.parentNode.removeChild(t)}e.a=r;var o=n(463)},function(t,e){t.exports='!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.reactDevtool=t():e.reactDevtool=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){e.data.source===u&&(window.removeEventListener("message",r),o(window.__REACT_DEVTOOLS_GLOBAL_HOOK__))}function o(e){var t=[],n={listen:function(e){var n=function(t){t.data.source===u&&t.data.payload&&e(t.data.payload)};t.push(n),window.addEventListener("message",n)},send:function(e){window.postMessage({source:c,payload:e},"*")}},r=new a(n),o=new i(window,{rnStyle:!1});o.addBridge(r),o.once("connected",function(){s(e,o)}),o.on("shutdown",function(){e.emit("shutdown"),t.forEach(function(e){window.removeEventListener("message",e)}),t=[]})}var i=n(35),a=n(23),s=n(36);setInterval(function(){},100);var u="react-devtools-lib-content-script",c="react-devtools-lib-bridge";window.addEventListener("message",r)},function(e,t,n){"use strict";var r=n(3)();e.exports=function(e){return e!==r&&null!==e}},function(e,t,n){"use strict";var r=n(16);e.exports={name:r("name"),type:r("type"),inspected:r("inspected"),meta:r("meta"),proto:r("proto")}},function(e,t){"use strict";e.exports=function(){}},function(e,t,n){"use strict";e.exports=n(5)()?Object.assign:n(6)},function(e,t){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(e={foo:"raz"},t(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},function(e,t,n){"use strict";var r=n(8),o=n(12),i=Math.max;e.exports=function(e,t){var n,a,s,u=i(arguments.length,2);for(e=Object(o(e)),s=function(r){try{e[r]=t[r]}catch(o){n||(n=o)}},a=1;a<u;++a)t=arguments[a],r(t).forEach(s);if(void 0!==n)throw n;return e}},function(e,t){"use strict";e.exports=function(e){return"function"==typeof e}},function(e,t,n){"use strict";e.exports=n(9)()?Object.keys:n(10)},function(e,t){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},function(e,t,n){"use strict";var r=n(1),o=Object.keys;e.exports=function(e){return o(r(e)?Object(e):e)}},function(e,t,n){"use strict";var r=n(1),o=Array.prototype.forEach,i=Object.create,a=function(e,t){var n;for(n in e)t[n]=e[n]};e.exports=function(e){var t=i(null);return o.call(arguments,function(e){r(e)&&a(Object(e),t)}),t}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e){if(!r(e))throw new TypeError("Cannot use null or undefined");return e}},function(e,t,n){"use strict";e.exports=n(14)()?String.prototype.contains:n(15)},function(e,t){"use strict";var n="razdwatrzy";e.exports=function(){return"function"==typeof n.contains&&(n.contains("dwa")===!0&&n.contains("foo")===!1)}},function(e,t){"use strict";var n=String.prototype.indexOf;e.exports=function(e){return n.call(this,e,arguments[1])>-1}},function(e,t,n){"use strict";e.exports=n(17)()?Symbol:n(20)},function(e,t){"use strict";e.exports=function(){var e;if("function"!=typeof Symbol)return!1;e=Symbol("test symbol");try{String(e)}catch(t){return!1}return"symbol"==typeof Symbol.iterator||"object"==typeof Symbol.isConcatSpreadable&&("object"==typeof Symbol.iterator&&("object"==typeof Symbol.toPrimitive&&("object"==typeof Symbol.toStringTag&&"object"==typeof Symbol.unscopables)))}},function(e,t){"use strict";e.exports=function(e){return e&&("symbol"==typeof e||"Symbol"===e["@@toStringTag"])||!1}},function(e,t,n){"use strict";var r,o=n(4),i=n(11),a=n(7),s=n(13);r=e.exports=function(e,t){var n,r,a,u,c;return arguments.length<2||"string"!=typeof e?(u=t,t=e,e=null):u=arguments[2],null==e?(n=a=!0,r=!1):(n=s.call(e,"c"),r=s.call(e,"e"),a=s.call(e,"w")),c={value:t,configurable:n,enumerable:r,writable:a},u?o(i(u),c):c},r.gs=function(e,t,n){var r,u,c,l;return"string"!=typeof e?(c=n,n=t,t=e,e=null):c=arguments[3],null==t?t=void 0:a(t)?null==n?n=void 0:a(n)||(c=n,n=void 0):(c=t,t=n=void 0),null==e?(r=!0,u=!1):(r=s.call(e,"c"),u=s.call(e,"e")),l={get:t,set:n,configurable:r,enumerable:u},c?o(i(c),l):l}},function(e,t,n){"use strict";var r,o,i,a=n(19),s=n(21),u=Object.create,c=Object.defineProperties,l=Object.defineProperty,f=Object.prototype,p=u(null);"function"==typeof Symbol&&(r=Symbol);var d=function(){var e=u(null);return function(t){for(var n,r,o=0;e[t+(o||"")];)++o;return t+=o||"",e[t]=!0,n="@@"+t,l(f,n,a.gs(null,function(e){r||(r=!0,l(this,n,a(e)),r=!1)})),n}}();i=function(e){if(this instanceof i)throw new TypeError("TypeError: Symbol is not a constructor");return o(e)},e.exports=o=function h(e){var t;if(this instanceof h)throw new TypeError("TypeError: Symbol is not a constructor");return t=u(i.prototype),e=void 0===e?"":String(e),c(t,{__description__:a("",e),__name__:a("",d(e))})},c(o,{"for":a(function(e){return p[e]?p[e]:p[e]=o(String(e))}),keyFor:a(function(e){var t;s(e);for(t in p)if(p[t]===e)return t}),hasInstance:a("",r&&r.hasInstance||o("hasInstance")),isConcatSpreadable:a("",r&&r.isConcatSpreadable||o("isConcatSpreadable")),iterator:a("",r&&r.iterator||o("iterator")),match:a("",r&&r.match||o("match")),replace:a("",r&&r.replace||o("replace")),search:a("",r&&r.search||o("search")),species:a("",r&&r.species||o("species")),split:a("",r&&r.split||o("split")),toPrimitive:a("",r&&r.toPrimitive||o("toPrimitive")),toStringTag:a("",r&&r.toStringTag||o("toStringTag")),unscopables:a("",r&&r.unscopables||o("unscopables"))}),c(i.prototype,{constructor:a(o),toString:a("",function(){return this.__name__})}),c(o.prototype,{toString:a(function(){return"Symbol ("+s(this).__description__+")"}),valueOf:a(function(){return s(this)})}),l(o.prototype,o.toPrimitive,a("",function(){return s(this)})),l(o.prototype,o.toStringTag,a("c","Symbol")),l(i.prototype,o.toStringTag,a("c",o.prototype[o.toStringTag])),l(i.prototype,o.toPrimitive,a("c",o.prototype[o.toPrimitive]))},function(e,t,n){"use strict";var r=n(18);e.exports=function(e){if(!r(e))throw new TypeError(e+" is not a symbol");return e}},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){return t.reduce(function(e,t){if(e){if(e.hasOwnProperty(t))return e[t];if("function"==typeof e[Symbol.iterator])return[].concat(n(e))[t]}return null},e)}e.exports=r},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),u=n(25),c=n(24),l=n(22),f=n(30),p=5,d=window.cancelIdleCallback||clearTimeout,h=window.requestIdleCallback||function(e,t){var n=3e3*p;return n>500&&(n=500),setTimeout(function(){var t=f();e({didTimeout:!1,timeRemaining:function(){return 1/0}});var n=f();p=(n-t)/1e3},n)},m=function(){function e(t){o(this,e),this._cbs=new Map,this._inspectables=new Map,this._cid=0,this._listeners={},this._buffer=[],this._flushHandle=null,this._callers={},this._paused=!1,this._wall=t,t.listen(this._handleMessage.bind(this))}return a(e,[{key:"inspect",value:function(e,t,n){var r=this._cid++;this._cbs.set(r,function(e,t,r,o){t.length&&u(e,t),r&&o.length&&u(r,o),r&&(e[s.proto]=r),n(e)}),this._wall.send({type:"inspect",callback:r,path:t,id:e})}},{key:"call",value:function(e,t,n){var r=this._cid++;this._cbs.set(r,n),this._wall.send({type:"call",callback:r,args:t,name:e})}},{key:"onCall",value:function(e,t){if(this._callers[e])throw new Error("only one call handler per call name allowed");this._callers[e]=t}},{key:"pause",value:function(){this._wall.send({type:"pause"})}},{key:"resume",value:function(){this._wall.send({type:"resume"})}},{key:"setInspectable",value:function(e,t){var n=this._inspectables.get(e);return n?void this._inspectables.set(e,i({},n,t)):void this._inspectables.set(e,t)}},{key:"send",value:function(e,t){this._buffer.push({evt:e,data:t}),this.scheduleFlush()}},{key:"scheduleFlush",value:function(){if(!this._flushHandle&&this._buffer.length){var e=this._paused?5e3:500;this._flushHandle=h(this.flushBufferWhileIdle.bind(this),{timeout:e})}}},{key:"cancelFlush",value:function(){this._flushHandle&&(d(this._flushHandle),this._flushHandle=null)}},{key:"flushBufferWhileIdle",value:function(e){this._flushHandle=null;for(var t=this._paused?20:10,n=Math.round(this._buffer.length/t),r=this._paused?50:100;this._buffer.length&&(e.timeRemaining()>0||e.didTimeout);){var o=Math.min(this._buffer.length,Math.max(r,n)),i=this._buffer.splice(0,o);this.flushBufferSlice(i)}this._buffer.length&&this.scheduleFlush()}},{key:"flushBufferSlice",value:function(e){var t=this,n=e.map(function(e){var n=e.evt,r=e.data,o=[],i=c(r,o);return o.length&&t.setInspectable(r.id,r),{type:"event",evt:n,data:i,cleaned:o}});this._wall.send({type:"many-events",events:n})}},{key:"forget",value:function(e){this._inspectables["delete"](e)}},{key:"on",value:function(e,t){this._listeners[e]?this._listeners[e].push(t):this._listeners[e]=[t]}},{key:"off",value:function(e,t){if(this._listeners[e]){var n=this._listeners[e].indexOf(t);n!==-1&&this._listeners[e].splice(n,1)}}},{key:"once",value:function(e,t){var n=this,r=function o(){t.apply(this,arguments),n.off(e,o)};this.on(e,r)}},{key:"_handleMessage",value:function(e){var t=this;if("resume"===e.type)return this._paused=!1,void this.scheduleFlush();if("pause"===e.type)return this._paused=!0,void this.cancelFlush();if("callback"===e.type){var n=this._cbs.get(e.id);return void(n&&(n.apply(void 0,r(e.args)),this._cbs["delete"](e.id)))}if("call"===e.type)return void this._handleCall(e.name,e.args,e.callback);if("inspect"===e.type)return void this._inspectResponse(e.id,e.path,e.callback);if("event"===e.type){e.cleaned&&u(e.data,e.cleaned);var o=this._listeners[e.evt],i=e.data;o&&o.forEach(function(e){return e(i)})}"many-events"===e.type&&e.events.forEach(function(e){e.cleaned&&u(e.data,e.cleaned);var n=t._listeners[e.evt];n&&n.forEach(function(t){return t(e.data)})})}},{key:"_handleCall",value:function(e,t,n){if(!this._callers[e])return void console.warn(\'unknown call: "\'+e+\'"\');t=Array.isArray(t)?t:[t];var r;try{r=this._callers[e].apply(null,t)}catch(o){return void console.error("Failed to call",o)}this._wall.send({type:"callback",id:n,args:[r]})}},{key:"_inspectResponse",value:function(e,t,n){var r=this._inspectables.get(e),o={},i=[],a=null,s=[];if(r){var u=l(r,t),f=!1,p="function"==typeof u;if(u&&"function"==typeof u[Symbol.iterator]){var d=Object.create({}),h=0,m=!0,v=!1,y=void 0;try{for(var _,b=u[Symbol.iterator]();!(m=(_=b.next()).done);m=!0){var g=_.value;if(h>100)break;d[h]=g,h++}}catch(w){v=!0,y=w}finally{try{!m&&b["return"]&&b["return"]()}finally{if(v)throw y}}u=d}if(Object.getOwnPropertyNames(u).forEach(function(e){"__proto__"===e&&(f=!0),(!p||"arguments"!==e&&"callee"!==e&&"caller"!==e)&&(o[e]=c(u[e],i,[e]))}),!f&&u.__proto__&&"Object"!==u.constructor.name){var I={},S="function"==typeof u.__proto__;Object.getOwnPropertyNames(u.__proto__).forEach(function(e){(!S||"arguments"!==e&&"callee"!==e&&"caller"!==e)&&(I[e]=c(u.__proto__[e],s,[e]))}),a=I}}this._wall.send({type:"callback",id:n,args:[o,i,a,s]})}}]),e}();e.exports=m},function(e,t){"use strict";function n(e){if(!e)return null;var t="undefined"==typeof e?"undefined":i(e);if("object"===t){if(e._reactFragment)return"react_fragment";if(Array.isArray(e))return"array";if(ArrayBuffer.isView(e))return e instanceof DataView?"data_view":"typed_array";if(e instanceof ArrayBuffer)return"array_buffer";if("function"==typeof e[Symbol.iterator])return"iterator";if("[object Date]"===Object.prototype.toString.call(e))return"date"}return t}function r(e,t,n,r){var o={};return"array"!==e&&"typed_array"!==e||(o.length=t.length),"iterator"!==e&&"typed_array"!==e||(o.readOnly=!0),n.push(r),{type:e,meta:o,name:t.constructor&&"Object"!==t.constructor.name?t.constructor.name:""}}function o(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=n(e);switch(s){case"function":return t.push(i),{name:e.name,type:"function"};case"string":return e.length<=5e3?e:e.slice(0,5e3)+"...";case"symbol":return t.push(i),{type:"symbol",name:e.toString()};case"react_fragment":return"A React Fragment";case"array_buffer":case"data_view":return t.push(i),{type:s,name:"data_view"===s?"DataView":"ArrayBuffer",meta:{length:e.byteLength,uninspectable:!0}};case"array":return a>2?r(s,e,t,i):e.map(function(e,n){return o(e,t,i.concat([n]),a+1)});case"typed_array":case"iterator":return r(s,e,t,i);case"date":return t.push(i),{name:e.toString(),type:"date",meta:{uninspectable:!0}};case"object":if(a>2||e.constructor&&"function"==typeof e.constructor&&"Object"!==e.constructor.name)return r(s,e,t,i);var u={};for(var c in e)u[c]=o(e[c],t,i.concat([c]),a+1);return u;default:return e}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=o},function(e,t,n){"use strict";function r(e,t){t.forEach(function(t){var n=t.pop(),r=t.reduce(function(e,t){return e?e[t]:null},e);if(r&&r[n]){var i={};i[o.name]=r[n].name,i[o.type]=r[n].type,i[o.meta]=r[n].meta,i[o.inspected]=!1,r[n]=i}})}var o=n(2);e.exports=r},function(e,t){"use strict";function n(e,t,r,i){if(r>=t.length)return i;var a=t[r],s=Array.isArray(e)?e.slice():o({},e);return s[a]=n(e[a],t,r+1,i),s}function r(e,t,r){return n(e,t,0,r)}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};e.exports=r},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"number"==typeof e}function i(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,o,s,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var l=new Error(\'Uncaught, unspecified "error" event. (\'+t+")");throw l.context=t,l}if(n=this._events[e],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),c=n.slice(),o=c.length,u=0;u<o;u++)c[u].apply(this,s);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(o=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),o||(o=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var o=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=r},function(e,t,n){"use strict";var r,o=n(28);o.canUseDOM&&(r=window.performance||window.msPerformance||window.webkitPerformance),e.exports=r||{}},function(e,t,n){"use strict";var r,o=n(29);r=o.now?function(){return o.now()}:function(){return Date.now()},e.exports=r},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=Object.assign||function(e,t){for(var i,a,s=n(e),u=1;u<arguments.length;u++){i=Object(arguments[u]);for(var c in i)r.call(i,c)&&(s[c]=i[c]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(i);for(var l=0;l<a.length;l++)o.call(i,a[l])&&(s[a[l]]=i[a[l]])}}return s}},function(e,t){"use strict";e.exports={IndeterminateComponent:0,FunctionalComponent:1,ClassComponent:2,HostRoot:3,HostPortal:4,HostComponent:5,HostText:6,CoroutineComponent:7,CoroutineHandlerPhase:8,YieldComponent:9,Fragment:10}},function(e,t){"use strict";function n(e){if(o.has(e))return o.get(e);var t=e.displayName||e.name||"Unknown",n=t.match(r);if(n){var i=n[1],a=n[2];i&&a&&(a===i||a.startsWith(i+"."))&&(t=i)}return o.set(e,t),t}var r=/^(.*) \\[from (.*)\\]$/,o=new WeakMap;e.exports=n},,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(27),c=u.EventEmitter,l=n(31),f=n(46),p=n(22),d=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));i.global=e,i.internalInstancesById=new Map,i.idsByInternalInstances=new WeakMap,i.renderers=new Map,i.elementData=new Map,i.roots=new Set,i.reactInternals={};var a;i.on("selected",function(e){var t=i.elementData.get(e);t&&t.publicInstance&&i.global.$r===a&&(i.global.$r=t.publicInstance,a=t.publicInstance)}),i._prevSelected=null,i._scrollUpdate=!1;var s=window.document&&"function"==typeof window.document.createElement;return i.capabilities=l({scroll:s&&"function"==typeof window.document.body.scrollIntoView,dom:s,editTextContent:!1},n),s&&(i._updateScroll=i._updateScroll.bind(i),window.addEventListener("scroll",i._onScroll.bind(i),!0)),i}return i(t,e),s(t,[{key:"sub",value:function(e,t){var n=this;return this.on(e,t),function(){n.removeListener(e,t)}}},{key:"setReactInternals",value:function(e,t){this.reactInternals[e]=t}},{key:"addBridge",value:function(e){var t=this;e.on("requestCapabilities",function(){e.send("capabilities",t.capabilities),t.emit("connected")}),e.on("setState",this._setState.bind(this)),e.on("setProps",this._setProps.bind(this)),e.on("setContext",this._setContext.bind(this)),e.on("makeGlobal",this._makeGlobal.bind(this)),e.on("highlight",function(e){return t.highlight(e)}),e.on("highlightMany",function(e){return t.highlightMany(e)}),e.on("hideHighlight",function(){return t.emit("hideHighlight")}),e.on("startInspecting",function(){return t.emit("startInspecting")}),e.on("stopInspecting",function(){return t.emit("stopInspecting")}),e.on("selected",function(e){return t.emit("selected",e)}),e.on("shutdown",function(){return t.emit("shutdown")}),e.on("changeTextContent",function(e){var n=e.id,r=e.text,o=t.getNodeForID(n);o&&(o.textContent=r)}),e.on("putSelectedNode",function(e){window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$node=t.getNodeForID(e)}),e.on("putSelectedInstance",function(e){var n=t.elementData.get(e);n?window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$type=n.type:window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$type=null,n&&n.publicInstance?window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$inst=n.publicInstance:window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$inst=null}),e.on("checkSelection",function(){var e=window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$0;if(e!==t._prevSelected){t._prevSelected=e;var n=window.__REACT_DEVTOOLS_GLOBAL_HOOK__.$node;e!==n&&t.selectFromDOMNode(e,!0)}}),e.on("scrollToNode",function(e){return t.scrollToNode(e)}),e.on("traceupdatesstatechange",function(e){return t.emit("traceupdatesstatechange",e)}),e.on("colorizerchange",function(e){return t.emit("colorizerchange",e)}),this.on("root",function(t){return e.send("root",t)}),this.on("mount",function(t){return e.send("mount",t)}),this.on("update",function(t){return e.send("update",t)}),this.on("unmount",function(t){e.send("unmount",t),e.forget(t)}),this.on("setSelection",function(t){return e.send("select",t)})}},{key:"scrollToNode",value:function(e){var t=this.getNodeForID(e);if(!t)return void console.warn("unable to get the node for scrolling");var n=t.nodeType===Node.ELEMENT_NODE?t:t.parentElement;return n?("function"==typeof n.scrollIntoViewIfNeeded?n.scrollIntoViewIfNeeded():"function"==typeof n.scrollIntoView&&n.scrollIntoView(),void this.highlight(e)):void console.warn("unable to get the domElement for scrolling")}},{key:"highlight",value:function(e){var t=this.elementData.get(e),n=this.getNodeForID(e);t&&n&&this.emit("highlight",{node:n,name:t.name,props:t.props})}},{key:"highlightMany",value:function(e){var t=this,n=[];e.forEach(function(e){var r=t.getNodeForID(e);r&&n.push(r)}),n.length&&this.emit("highlightMany",n)}},{key:"getNodeForID",value:function(e){var t=this.internalInstancesById.get(e);if(!t)return null;var n=this.renderers.get(e);return n&&this.reactInternals[n].getNativeFromReactElement?this.reactInternals[n].getNativeFromReactElement(t):null}},{key:"selectFromDOMNode",value:function(e,t){var n=this.getIDForNode(e);n&&this.emit("setSelection",{id:n,quiet:t})}},{key:"selectFromReactInstance",value:function(e,t){var n=this.getId(e);return n?void this.emit("setSelection",{id:n,quiet:t}):void console.log("no instance id",e)}},{key:"getIDForNode",value:function(e){if(!this.reactInternals)return null;var t;for(var n in this.reactInternals){try{t=this.reactInternals[n].getReactElementFromNative(e)}catch(r){}if(t)return this.getId(t)}return null}},{key:"_setProps",value:function(e){var t=e.id,n=e.path,r=e.value,o=this.elementData.get(t);o&&o.updater&&o.updater.setInProps?o.updater.setInProps(n,r):console.warn("trying to set props on a component that doesn\'t support it")}},{key:"_setState",value:function(e){var t=e.id,n=e.path,r=e.value,o=this.elementData.get(t);o&&o.updater&&o.updater.setInState?o.updater.setInState(n,r):console.warn("trying to set state on a component that doesn\'t support it")}},{key:"_setContext",value:function(e){var t=e.id,n=e.path,r=e.value,o=this.elementData.get(t);o&&o.updater&&o.updater.setInContext?o.updater.setInContext(n,r):console.warn("trying to set state on a component that doesn\'t support it")}},{key:"_makeGlobal",value:function(e){var t=e.id,n=e.path,r=this.elementData.get(t);if(r){var o;o="instance"===n?r.publicInstance:p(r,n),this.global.$tmp=o,console.log("$tmp =",o)}}},{key:"getId",value:function(e){return"object"===("undefined"==typeof e?"undefined":a(e))&&e?(this.idsByInternalInstances.has(e)||(this.idsByInternalInstances.set(e,f()),this.internalInstancesById.set(this.idsByInternalInstances.get(e),e)),this.idsByInternalInstances.get(e)):e}},{key:"addRoot",value:function(e,t){var n=this.getId(t);this.roots.add(n),this.emit("root",n)}},{key:"onMounted",value:function(e,t,n){var r=this,o=this.getId(t);this.renderers.set(o,e),this.elementData.set(o,n);var i=l({},n);i.children&&i.children.map&&(i.children=i.children.map(function(e){return r.getId(e)})),i.id=o,i.canUpdate=i.updater&&!!i.updater.forceUpdate,delete i.type,delete i.updater,this.emit("mount",i)}},{key:"onUpdated",value:function(e,t){var n=this,r=this.getId(e);this.elementData.set(r,t);var o=l({},t);o.children&&o.children.map&&(o.children=o.children.map(function(e){return n.getId(e)})),o.id=r,o.canUpdate=o.updater&&!!o.updater.forceUpdate,delete o.type,delete o.updater,this.emit("update",o)}},{key:"onUnmounted",value:function(e){var t=this.getId(e);this.elementData["delete"](t),this.roots["delete"](t),this.renderers["delete"](t),this.emit("unmount",t),this.idsByInternalInstances["delete"](e)}},{key:"_onScroll",value:function(){this._scrollUpdate||(this._scrollUpdate=!0,window.requestAnimationFrame(this._updateScroll))}},{key:"_updateScroll",value:function(){this.emit("refreshMultiOverlay"),this._scrollUpdate=!1}}]),t}(c);e.exports=d},function(e,t,n){"use strict";var r=n(39);e.exports=function(e,t){var n=[e.sub("renderer-attached",function(e){var n=e.id,r=(e.renderer,e.helpers);t.setReactInternals(n,r),r.walkTree(t.onMounted.bind(t,n),t.addRoot.bind(t,n))}),e.sub("root",function(e){var n=e.renderer,r=e.internalInstance;return t.addRoot(n,r)}),e.sub("mount",function(e){var n=e.renderer,r=e.internalInstance,o=e.data;return t.onMounted(n,r,o)}),e.sub("update",function(e){var n=(e.renderer,e.internalInstance),r=e.data;return t.onUpdated(n,r)}),e.sub("unmount",function(e){var n=(e.renderer,e.internalInstance);return t.onUnmounted(n)})],o=r(e);o&&(e.emit("react-devtools",t),e.reactDevtoolsAgent=t,t.on("shutdown",function(){n.forEach(function(e){return e()}),e.reactDevtoolsAgent=null}))}},function(e,t,n){"use strict";function r(e,t,n){var r=new Map,i={},s=!n.Reconciler;if("function"==typeof n.findFiberByHostInstance)return p(e,t,n);n.Mount.findNodeHandle&&n.Mount.nativeTagToRootNodeID?(i.getNativeFromReactElement=function(e){return n.Mount.findNodeHandle(e)},i.getReactElementFromNative=function(e){var t=n.Mount.nativeTagToRootNodeID(e);return r.get(t)}):n.ComponentTree?(i.getNativeFromReactElement=function(e){return n.ComponentTree.getNodeFromInstance(e)},i.getReactElementFromNative=function(e){return n.ComponentTree.getClosestInstanceFromNode(e)}):n.Mount.getID&&n.Mount.getNode?(i.getNativeFromReactElement=function(e){try{return n.Mount.getNode(e._rootNodeID)}catch(t){return}},i.getReactElementFromNative=function(e){for(var t=n.Mount.getID(e);e&&e.parentNode&&!t;)e=e.parentNode,t=n.Mount.getID(e);return r.get(t)}):console.warn("Unknown react version (does not have getID), probably an unshimmed React Native");var d,h,m;return n.Mount._renderNewRootComponent?m=a(n.Mount,"_renderNewRootComponent",function(n){e.emit("root",{renderer:t,internalInstance:n})}):n.Mount.renderComponent&&(h=a(n.Mount,"renderComponent",function(n){e.emit("root",{renderer:t,internalInstance:n._reactInternalInstance})})),n.Component?(console.error("You are using a version of React with limited support in this version of the devtools.\\nPlease upgrade to use at least 0.13, or you can downgrade to use the old version of the devtools:\\ninstructions here https://github.com/facebook/react-devtools/tree/devtools-next#how-do-i-use-this-for-react--013"),d=u(n.Component.Mixin,{mountComponent:function(){var n=this;r.set(this._rootNodeID,this),setTimeout(function(){e.emit("mount",{internalInstance:n,data:f(n),renderer:t})},0)},updateComponent:function(){var n=this;setTimeout(function(){e.emit("update",{internalInstance:n,data:f(n),renderer:t})},0)},unmountComponent:function(){e.emit("unmount",{internalInstance:this,renderer:t}),r["delete"](this._rootNodeID,this)}})):n.Reconciler&&(d=u(n.Reconciler,{mountComponent:function(n,o,i,a){var s=l(n);r.set(n._rootNodeID,n),e.emit("mount",{internalInstance:n,data:s,renderer:t})},performUpdateIfNecessary:function(n,r,o,i){e.emit("update",{internalInstance:n,data:l(n),renderer:t})},receiveComponent:function(n,r,o,i){e.emit("update",{internalInstance:n,data:l(n),renderer:t})},unmountComponent:function(n){e.emit("unmount",{internalInstance:n,renderer:t}),r["delete"](n._rootNodeID,n)}})),i.walkTree=function(e,t){var i=function(t,n){r.set(t._rootNodeID,t),e(t,n)};o(n.Mount._instancesByReactRootID||n.Mount._instancesByContainerID,i,t,s)},i.cleanup=function(){d&&(n.Component?c(n.Component.Mixin,d):c(n.Reconciler,d)),m&&(n.Mount._renderNewRootComponent=m),h&&(n.Mount.renderComponent=h),d=null,m=null,h=null},i}function o(e,t,n,r){for(var o in e)i(e[o],t,r),n(e[o])}function i(e,t,n){var r=n?f(e):l(e);r.children&&Array.isArray(r.children)&&r.children.forEach(function(e){return i(e,t,n)}),t(e,r)}function a(e,t,n){var r=e[t];return e[t]=function(e){var t=r.apply(this,arguments);return n(t),t},r}function s(e,t,n){var r=e[t];return e[t]=function(e){var t=r.apply(this,arguments);return n.apply(this,arguments),t},r}function u(e,t){var n={};for(var r in t)n[r]=s(e,r,t[r]);return n}function c(e,t){for(var n in t)e[n]=t[n]}var l=n(40),f=n(41),p=n(38);e.exports=r},function(e,t,n){"use strict";function r(e,t,n){function r(e){if(g.has(e))return e;var t=e.alternate;return null!=t&&g.has(t)?t:(g.add(e),e)}function i(e,t){if(e.tag===a){if(e.stateNode.context!==t.stateNode.context)return!0;if(null!=t.updateQueue&&t.updateQueue.hasForceUpdate)return!0}return e.memoizedProps!==t.memoizedProps||e.memoizedState!==t.memoizedState||e.ref!==t.ref||e._debugSource!==t._debugSource}function u(){var t=w;w=[];for(var n=0;n<t.length;n++){var r=t[n];e.emit(r.type,r)}}function c(e){w.push({internalInstance:r(e),data:o(e,r),renderer:t,type:"mount"});var n=e.tag===s;n&&w.push({internalInstance:r(e),renderer:t,type:"root"})}function l(e,n){(n||i(e.alternate,e))&&w.push({internalInstance:r(e),data:o(e,r),\nrenderer:t,type:"update"})}function f(e){var n=e.tag===s,o=r(e),i={internalInstance:o,renderer:t,type:"unmount"};n?w.push(i):w.unshift(i),g["delete"](o)}function p(e){var t=e;e:for(;;)if(t.child)t.child["return"]=t,t=t.child;else{if(c(t),t==e)return;if(!t.sibling){for(;t["return"];){if(t=t["return"],c(t),t==e)return;if(t.sibling){t.sibling["return"]=t["return"],t=t.sibling;continue e}}return}t.sibling["return"]=t["return"],t=t.sibling}}function d(e,t){var n=!1;if(e.child!==t.child){for(var r=e.child,o=t.child;r;){if(r.alternate){var i=r.alternate;d(r,i),n||i===o||(n=!0)}else p(r),n||(n=!0);r=r.sibling,n||null==o||(o=o.sibling)}n||null==o||(n=!0)}l(e,n)}function h(){e.getFiberRoots(t).forEach(function(e){p(e.current)}),u()}function m(){}function v(e){f(e)}function y(e){var t=e.current,n=t.alternate;if(n){var r=null!=n.memoizedState&&null!=n.memoizedState.element,o=null!=t.memoizedState&&null!=t.memoizedState.element;!r&&o?p(t):r&&o?d(t,n):r&&!o&&f(t)}else p(t);u()}function _(e){try{var t=e,r=n.findHostInstanceByFiber(t);return r}catch(o){return null}}function b(e){var t=n.findFiberByHostInstance(e);if(null!=t){var o=r(t);return o}return null}var g=new Set,w=[];return{getNativeFromReactElement:_,getReactElementFromNative:b,handleCommitFiberRoot:y,handleCommitFiberUnmount:v,cleanup:m,walkTree:h}}var o=n(42),i=n(32),a=i.ClassComponent,s=i.HostRoot;e.exports=r},function(e,t,n){"use strict";var r=n(37);e.exports=function(e){var t=window.React&&window.React.__internals;t&&0===Object.keys(e._renderers).length&&e.inject(t);for(var n in e._renderers)e.helpers[n]=r(e,n,e._renderers[n]),e.emit("renderer-attached",{id:n,renderer:e._renderers[n],helpers:e.helpers[n]});e.on("renderer",function(t){var n=t.id,o=t.renderer;e.helpers[n]=r(e,n,o),e.emit("renderer-attached",{id:n,renderer:o,helpers:e.helpers[n]})});var o=function i(){for(var t in e.helpers)e.helpers[t].cleanup();e.off("shutdown",i)};return e.on("shutdown",o),!0}},function(e,t,n){"use strict";function r(e){var t=null,n=null,r=null,s=null,c=null,f=null,d=null,h=null,m=null,v=null,y=null,_=null,b="Native";if("object"!==("undefined"==typeof e?"undefined":l(e))?(b="Text",y=e+""):null===e._currentElement||e._currentElement===!1?b="Empty":e._renderedComponent?(b="NativeWrapper",t=[e._renderedComponent],n=e._instance.props,r=e._instance.state,s=e._instance.context,s&&0===Object.keys(s).length&&(s=null)):e._renderedChildren?t=u(e._renderedChildren):e._currentElement&&e._currentElement.props&&(t=e._currentElement.props.children),!n&&e._currentElement&&e._currentElement.props&&(n=e._currentElement.props),null!=e._currentElement&&(d=e._currentElement.type,e._currentElement.key&&(h=String(e._currentElement.key)),v=e._currentElement._source,m=e._currentElement.ref,"string"==typeof d?(f=d,null!=e._nativeNode&&(_=e._nativeNode),null!=e._hostNode&&(_=e._hostNode)):"function"==typeof d?(b="Composite",f=p(d),e._renderedComponent&&(e._currentElement.props===e._renderedComponent._currentElement||e._currentElement.type.isReactTopLevelWrapper)&&(b="Wrapper"),null===f&&(f="No display name")):"string"==typeof e._stringText?(b="Text",y=e._stringText):f=p(d)),e._instance){var g=e._instance;c={setState:g.setState&&g.setState.bind(g),forceUpdate:g.forceUpdate&&g.forceUpdate.bind(g),setInProps:g.forceUpdate&&o.bind(null,e),setInState:g.forceUpdate&&i.bind(null,g),setInContext:g.forceUpdate&&a.bind(null,g)},"function"==typeof d&&(_=g),g._renderedChildren&&(t=u(g._renderedChildren))}return{nodeType:b,type:d,key:h,ref:m,source:v,name:f,props:n,state:r,context:s,children:t,text:y,updater:c,publicInstance:_}}function o(e,t,n){var r=e._currentElement;e._currentElement=c({},r,{props:f(r.props,t,n)}),e._instance.forceUpdate()}function i(e,t,n){s(e.state,t,n),e.forceUpdate()}function a(e,t,n){s(e.context,t,n),e.forceUpdate()}function s(e,t,n){var r=t.pop(),o=t.reduce(function(e,t){return e?e[t]:null},e);o&&(o[r]=n)}function u(e){var t=[];for(var n in e)t.push(e[n]);return t}var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f=n(26),p=n(33);e.exports=r},function(e,t,n){"use strict";function r(e){var t=null,n=e.props,r=e.state,s=e.context,c=null,l=null,f=null,p=null,d=null,h=null,m=null,v="Native";return e._renderedComponent?(v="Wrapper",t=[e._renderedComponent],s&&0===Object.keys(s).length&&(s=null)):e._renderedChildren?(l=e.constructor.displayName,t=u(e._renderedChildren)):"string"==typeof n.children&&(l=e.constructor.displayName,t=n.children,v="Native"),!n&&e._currentElement&&e._currentElement.props&&(n=e._currentElement.props),e._currentElement&&(f=e._currentElement.type,e._currentElement.key&&(p=String(e._currentElement.key)),d=e._currentElement.ref,"string"==typeof f?l=f:(v="Composite",l=f.displayName,l||(l="No display name"))),l||(l=e.constructor.displayName||"No display name",v="Composite"),"string"==typeof n&&(v="Text",h=n,n=null,l=null),e.forceUpdate&&(c={setState:e.setState.bind(e),forceUpdate:e.forceUpdate.bind(e),setInProps:e.forceUpdate&&o.bind(null,e),setInState:e.forceUpdate&&i.bind(null,e),setInContext:e.forceUpdate&&a.bind(null,e)},m=e),{nodeType:v,type:f,key:p,ref:d,source:null,name:l,props:n,state:r,context:s,children:t,text:h,updater:c,publicInstance:m}}function o(e,t,n){e.props=c(e.props,t,n),e.forceUpdate()}function i(e,t,n){s(e.state,t,n),e.forceUpdate()}function a(e,t,n){s(e.context,t,n),e.forceUpdate()}function s(e,t,n){var r=t.pop(),o=t.reduce(function(e,t){return e?e[t]:null},e);o&&(o[r]=n)}function u(e){var t=[];for(var n in e)t.push(e[n]);return t}var c=n(26);e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=e.type,r=e.key,s=e.ref,u=e._debugSource,l=null,_=null,b=null,g=null,w=null,I=null,S=null,E=null,O=null;switch(e.tag){case f:case p:S="Composite",E=c(e.type),l=e.stateNode,_=e.memoizedProps,b=e.memoizedState,null!=l&&(w=l.context,w&&0===Object.keys(w).length&&(w=null));var x=l;x&&(I={setState:x.setState&&x.setState.bind(x),forceUpdate:x.forceUpdate&&x.forceUpdate.bind(x),setInProps:x.forceUpdate&&o.bind(null,e),setInState:x.forceUpdate&&i.bind(null,x),setInContext:x.forceUpdate&&a.bind(null,x)}),g=[];break;case d:S="Wrapper",g=[];break;case h:S="Portal",E="ReactPortal",_={target:e.stateNode.containerInfo},g=[];break;case m:S="Native",E=e.type,l=e.stateNode,_=e.memoizedProps,g="string"==typeof _.children||"number"==typeof _.children?_.children.toString():[];break;case v:S="Text",O=e.memoizedProps;break;case y:S="Wrapper",g=[];break;default:S="Native",_=e.memoizedProps,E="TODO_NOT_IMPLEMENTED_YET",g=[]}if(Array.isArray(g))for(var k=e.child;k;)g.push(t(k)),k=k.sibling;return{nodeType:S,type:n,key:r,ref:s,source:u,name:E,props:_,state:b,context:w,children:g,text:O,updater:I,publicInstance:l}}function o(e,t,n){e.pendingProps=u(e.memoizedProps,t,n),e.stateNode.forceUpdate()}function i(e,t,n){s(e.state,t,n),e.forceUpdate()}function a(e,t,n){s(e.context,t,n),e.forceUpdate()}function s(e,t,n){var r=t.pop(),o=t.reduce(function(e,t){return e?e[t]:null},e);o&&(o[r]=n)}var u=n(26),c=n(33),l=n(32),f=l.FunctionalComponent,p=l.ClassComponent,d=l.HostRoot,h=l.HostPortal,m=l.HostComponent,v=l.HostText,y=l.Fragment;e.exports=r},,,,function(e,t){"use strict";function n(){return"g"+Math.random().toString(16).substr(2)}e.exports=n}])});\n'}]);
//# sourceMappingURL=http://localhost:8080/headless-content.js.map
