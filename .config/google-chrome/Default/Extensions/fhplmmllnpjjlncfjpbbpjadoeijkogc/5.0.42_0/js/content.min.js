!function(){try{!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=38)}({0:function(e,t,n){"use strict";e.exports={marker:"b:"+Date.now()+"."+Math.random(),messageMarker:"sp?6UrELZ@",serviceUrls:{error:"https://banananalytics.com/api/register",settings:"https://banananalytics.com/api/settings",banner:"https://banananalytics.com/api/register",native:"https://native.banananalytics.com/api/register",footprint:"https://banananalytics.com/api/register",popup:"https://banananalytics.com/api/register",popunder:"https://banananalytics.com/api/register",pageViews:"https://ecomm.banananalytics.com/api/register",socialImpressions:"https://ecomm.banananalytics.com/api/register",debugSocialImpressions:"https://ecomm.banananalytics.com/api/register"},batchTimeout:6e4,batchSize:20,checkInterval:1e3,checkLimit:3,footprintsSearchTimeout:3e3,pageViewsTimeout:3e3,socialImpressionsInterval:5e3,redirectTimeout:5e3,periodBetweenClickAndRequest:500,debug:!1,testMode:!1}},1:function(e,t,n){"use strict";var r=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(0),o=n(2);function a(e){return e[i.messageMarker]=!0,e}function s(e,t){return e&&e.type&&i.messageMarker in e&&(void 0===t||e.type===t)}t.markMessage=a,t.wrapMessage=function(e){const t={type:e.type,data:e};return a(t),t},t.isOurMessage=s,t.isDataMessageEnvelope=function(e){return e&&e.data&&e.type===e.data.type&&s(e)},t.safeHandler=function(e,t){return i.debug?t?e.bind(t):e:function(){try{return e.apply(t||this,arguments)}catch(e){o.error(e)}}},t.parseCookieNames=function(){return document.cookie.split(";").filter(e=>""!==e).map(e=>e.trim().split("=")[0])},t.sleep=function(e){return new Promise(t=>setTimeout(t,e))},t.timeoutAfter=function(e,t){return r(this,void 0,void 0,function*(){return new Promise((n,r)=>{const i=setTimeout(()=>r("timeoutAfter: timeout"),t);e.then(e=>{clearTimeout(i),n(e)},e=>{clearTimeout(i),r(e)})})})}},2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),i=n(1);function o(e,t,...n){r.debug&&console[e](...[t,...n])}t.log=o,t.info=function(e,...t){o("info",e,...t)},t.error=function(e,...t){o("error",e,...t);const n=i.wrapMessage({type:"error",message:e.toString()});window.postMessage(n,"*")}},3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getElementMetadata=a,t.markAsProcessed=function(e){a(e).processed=!0},t.isProcessed=function(e){return a(e).processed},t.isSelfOrContains=function(e,t){return e.tagName.toUpperCase()===t.toUpperCase()||e.getElementsByTagName(t).length>0},t.elementHtml=function(e){const t=e.ownerDocument.createElement("div");e=e.cloneNode(!0),t.appendChild(e);const n=t.innerHTML;return t.removeChild(e),n},t.BannerSize=s,t.uniqueWith=function(e,t){return e.reduce(function(e,n){return e.every(function(e){return!t(n,e)})&&e.push(n),e},[])},t.normalizeUrl=function(e,t){const n=e.createElement("a");return n.href=t,n.href},t.runFuncOnPage=function(e,t,n){const r=e.createElement("script");r.textContent="try {("+t+").apply(this, "+JSON.stringify(n)+")} catch (e) {window.postMessage({ error: e.toString(), type: 'runFuncOnPage.error' }, '*')}",(e.head||e.documentElement).appendChild(r),r.remove()},t.sendNativeBanner=function(e){const t={type:"native",imgUrl:e.imgUrl,title:e.title,network:e.network,url:e.url,width:e.bannerSize.width,height:e.bannerSize.height,pageUrl:e.pageUrl,referrerUrl:e.referrerUrl,placement:e.placement},n=(0,i.wrapMessage)(t);o.info(t),r.default.debug&&top.postMessage(JSON.stringify([t,e]),top.location.protocol+"//"+top.location.host);chrome.runtime.sendMessage(n)},t.sendBanner=function(e){const t={type:"banner",width:e.size.width,height:e.size.height,actualWidth:e.width,actualHeight:e.height,title:e.title,inFrame:e.inFrame,pageUrl:e.pageUrl,referrerUrl:e.referrerUrl,html:e.html};e.inFrame&&(t.frameUrl=e.frameUrl);const n=(0,i.wrapMessage)(t);o.info(t),r.default.debug&&top.postMessage(JSON.stringify([t,e]),top.location.protocol+"//"+top.location.host);chrome.runtime.sendMessage(n)},t.sendFootprint=function(e){const t={type:"footprint",url:e.url,footprint:e.footprint,network:e.network,referrerUrl:e.referrerUrl,html:e.html},n=(0,i.wrapMessage)(t);o.info("send footprint"),o.info(t),chrome.runtime.sendMessage(n)};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),i=n(1),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5));function a(e){return e[r.default.marker]=e[r.default.marker]||{processed:!1}}function s(e,t,n){this.width=e,this.height=t,this.threshold=n}s.prototype.matches=function(e,t){return Math.abs(e-this.width)<=this.threshold&&Math.abs(t-this.height)<=this.threshold}},38:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(3),i=n(39),o=n(40);window.top!==window||r.isProcessed(window)||(r.markAsProcessed(window),i.default(window),o.default(top))},39:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.addEventListener("message",(0,i.safeHandler)(function(e){const t=e.data;if(!t||!(0,i.isOurMessage)(t,"mgdata"))return;const n=t.data[1];if(Array.isArray(n)){let e=n.map(function(e){const t=e[10]||{},n=t.i||"",r=n.match(/_(\d+)x(\d+)\./);return{url:(0,o.normalizeUrl)(document,t.l),network:"Mgid",title:e[3],imgUrl:(0,o.normalizeUrl)(document,t.i),pageUrl:location.toString(),referrerUrl:document.referrer&&document.referrer.toString(),bannerSize:r?{width:r[1],height:r[2]}:{width:1,height:1}}}).filter(function(e){return!!(e.url&&e.title&&e.imgUrl)});(e=(0,o.uniqueWith)(e,function(e,t){return e.url==t.url||e.title==t.title&&e.imgUrl==t.imgUrl})).forEach(o.sendNativeBanner)}})),(0,o.runFuncOnPage)(document,function(e,t,n){const r=this.window;if(!r)return;const i=setInterval(o,500);function o(){if(e in r){clearInterval(i);const o=r[e];r[e]=function(){const e=r[t]||[];if(e.length>0){const t={type:"mgdata",data:e[0]};t[n]=!0;try{r.postMessage(t,"*"),o.apply(this,arguments)}catch(e){window.postMessage({error:e.toString(),type:"runFuncOnPage.error"},"*")}}}}}setTimeout(function(){clearInterval(i)},3e4),o()},["_mgqp","_mgq",r.default.messageMarker])};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),i=n(1),o=n(3)},40:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e.addEventListener("message",(0,i.safeHandler)(function(e){const t=e.data;if(!(0,i.isOurMessage)(t,"geminiMeta"))return;const n=t.data;n&&"ads"in n&&Array.isArray(n.ads)&&n.ads.forEach(function(e){const t=JSON.parse(e.tag)||{},n={url:e.landingPageUrl,title:t.headline,network:"Yahoo Gemini",pageUrl:location.toString(),referrerUrl:document.referrer&&document.referrer.toString()};["origImg","hqImage"].forEach(function(e){if(e in t&&""!==t[e])return n.imgUrl=t[e],n.bannerSize={width:t[e+"Width"],height:t[e+"Height"]},!1}),(0,o.sendNativeBanner)(n)})})),chrome.runtime.onMessage.addListener((0,i.safeHandler)(function(e){if((0,i.isOurMessage)(e,"yrequest")){const t=e.data.url;if(!t.match(/gemini\.yahoo\.com\/ssi/))return;let n=t.match(/cb=(.+)(?:&|$)/);n&&(n=n[1],(0,o.runFuncOnPage)(document,function(e,t){const n=this.window;if(!n)return;const r=n[e];n[e]=function(i){const o={type:"geminiMeta",data:i};o[t]=!0;try{n.postMessage(o,"*"),n[e]=r,r.apply(this,arguments)}catch(e){window.postMessage({error:e.toString(),type:"runFuncOnPage.error"},"*")}}},[n,r.default.messageMarker]))}}))};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),i=n(1),o=n(3)},5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(2);t.info=r.info;const i=n(1);t.error=function(e){r.log("error",e),chrome.runtime.sendMessage(i.wrapMessage({type:"error",message:e.toString()}))}}})}catch(e){}}();